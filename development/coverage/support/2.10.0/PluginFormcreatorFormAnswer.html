---
layout: coverage
---
<html>

<head>
    <script src="assets/d3.js" charset="utf-8"></script>
    <script src="assets/dagre-d3.js"></script>
    <script src="assets/jquery.js"></script>
    <script src="assets/jquery.tablesorter.js"></script>
    <script src="assets/report.js"></script>

    <link rel="stylesheet" href="assets/font-awesome.min.css">
</head>

<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html"><img src="assets/logo.png" alt="atoum"/> Code coverage report</a>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="col-lg-12">
            <div class="row">
        <h1>PluginFormcreatorFormAnswer: lines coverage</h1>

        


<table class="table table-bordered">
    <tr>
        
                    <td style="text-align: center; width: 100%">
                <h1 class="text-warning">
                    43%
                                            <small>of 787</small>
                                    </h1>
                <strong>Lines</strong>
            </td>
        
        
            </tr>
</table>

<table class="table table-bordered table-striped table-hover sort">
    <thead>
    <tr>
        <th>Method <i class="fa"></i></th>
                            <th style="text-align: center">Lines <i class="fa"></i></th>
            <th style="text-align: center">Line % <i class="fa"></i></th>
                            </tr>
    </thead>

    <tbody>
            <tr>
            <td><a href="#getStatuses">PluginFormcreatorFormAnswer::getStatuses()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canCreate">PluginFormcreatorFormAnswer::canCreate()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canView">PluginFormcreatorFormAnswer::canView()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canViewItem">PluginFormcreatorFormAnswer::canViewItem()</a></td>
                                        <td style="text-align: center">30</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canPurge">PluginFormcreatorFormAnswer::canPurge()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canPurgeItem">PluginFormcreatorFormAnswer::canPurgeItem()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTypeName">PluginFormcreatorFormAnswer::getTypeName()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#rawSearchOptions">PluginFormcreatorFormAnswer::rawSearchOptions()</a></td>
                                        <td style="text-align: center">82</td>
                <td style="text-align: center">    
    <span class="label label-success">83%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getSpecificValueToDisplay">PluginFormcreatorFormAnswer::getSpecificValueToDisplay()</a></td>
                                        <td style="text-align: center">12</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getSpecificValueToSelect">PluginFormcreatorFormAnswer::getSpecificValueToSelect()</a></td>
                                        <td style="text-align: center">8</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#displayTabContentForItem">PluginFormcreatorFormAnswer::displayTabContentForItem()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#defineTabs">PluginFormcreatorFormAnswer::defineTabs()</a></td>
                                        <td style="text-align: center">8</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTabNameForItem">PluginFormcreatorFormAnswer::getTabNameForItem()</a></td>
                                        <td style="text-align: center">8</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showForForm">PluginFormcreatorFormAnswer::showForForm()</a></td>
                                        <td style="text-align: center">17</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canValidate">PluginFormcreatorFormAnswer::canValidate()</a></td>
                                        <td style="text-align: center">18</td>
                <td style="text-align: center">    
    <span class="label label-success">89%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showForm">PluginFormcreatorFormAnswer::showForm()</a></td>
                                        <td style="text-align: center">116</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#prepareInputForAdd">PluginFormcreatorFormAnswer::prepareInputForAdd()</a></td>
                                        <td style="text-align: center">38</td>
                <td style="text-align: center">    
    <span class="label label-success">95%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#pre_deleteItem">PluginFormcreatorFormAnswer::pre_deleteItem()</a></td>
                                        <td style="text-align: center">5</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#saveAnswers">PluginFormcreatorFormAnswer::saveAnswers()</a></td>
                                        <td style="text-align: center">65</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#updateAnswers">PluginFormcreatorFormAnswer::updateAnswers()</a></td>
                                        <td style="text-align: center">7</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#refuseAnswers">PluginFormcreatorFormAnswer::refuseAnswers()</a></td>
                                        <td style="text-align: center">11</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#acceptAnswers">PluginFormcreatorFormAnswer::acceptAnswers()</a></td>
                                        <td style="text-align: center">11</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#generateTarget">PluginFormcreatorFormAnswer::generateTarget()</a></td>
                                        <td style="text-align: center">25</td>
                <td style="text-align: center">    
    <span class="label label-success">88%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getAnswers">PluginFormcreatorFormAnswer::getAnswers()</a></td>
                                        <td style="text-align: center">9</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getForm">PluginFormcreatorFormAnswer::getForm()</a></td>
                                        <td style="text-align: center">5</td>
                <td style="text-align: center">    
    <span class="label label-success">80%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getFullForm">PluginFormcreatorFormAnswer::getFullForm()</a></td>
                                        <td style="text-align: center">52</td>
                <td style="text-align: center">    
    <span class="label label-success">83%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_addItem">PluginFormcreatorFormAnswer::post_addItem()</a></td>
                                        <td style="text-align: center">23</td>
                <td style="text-align: center">    
    <span class="label label-warning">70%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_updateItem">PluginFormcreatorFormAnswer::post_updateItem()</a></td>
                                        <td style="text-align: center">9</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_purgeItem">PluginFormcreatorFormAnswer::post_purgeItem()</a></td>
                                        <td style="text-align: center">8</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#parseTags">PluginFormcreatorFormAnswer::parseTags()</a></td>
                                        <td style="text-align: center">27</td>
                <td style="text-align: center">    
    <span class="label label-success">74%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#validateFormAnswer">PluginFormcreatorFormAnswer::validateFormAnswer()</a></td>
                                        <td style="text-align: center">22</td>
                <td style="text-align: center">    
    <span class="label label-warning">68%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#sendNotification">PluginFormcreatorFormAnswer::sendNotification()</a></td>
                                        <td style="text-align: center">13</td>
                <td style="text-align: center">    
    <span class="label label-success">77%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#createIssue">PluginFormcreatorFormAnswer::createIssue()</a></td>
                                        <td style="text-align: center">45</td>
                <td style="text-align: center">    
    <span class="label label-success">96%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#updateIssue">PluginFormcreatorFormAnswer::updateIssue()</a></td>
                                        <td style="text-align: center">60</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getMyLastAnswersAsRequester">PluginFormcreatorFormAnswer::getMyLastAnswersAsRequester()</a></td>
                                        <td style="text-align: center">13</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getMyLastAnswersAsValidator">PluginFormcreatorFormAnswer::getMyLastAnswersAsValidator()</a></td>
                                        <td style="text-align: center">28</td>
                <td style="text-align: center">    
    <span class="label label-success">82%</span>
</td>
                                            </tr>
        </tbody>
</table>

        <table class="table table-bordered table-stripped">
            <thead>
            <tr>
                <th>#</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
                            <tr class="line" id="">
                    <th id="L1" class="number ">1</th>

                    <td class="" >
                        <pre>&lt;?php
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L2" class="number ">2</th>

                    <td class="" >
                        <pre>/**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L3" class="number ">3</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L4" class="number ">4</th>

                    <td class="" >
                        <pre> * Formcreator is a plugin which allows creation of custom forms of
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L5" class="number ">5</th>

                    <td class="" >
                        <pre> * easy access.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L6" class="number ">6</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L7" class="number ">7</th>

                    <td class="" >
                        <pre> * LICENSE
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L8" class="number ">8</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L9" class="number ">9</th>

                    <td class="" >
                        <pre> * This file is part of Formcreator.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L10" class="number ">10</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L11" class="number ">11</th>

                    <td class="" >
                        <pre> * Formcreator is free software; you can redistribute it and/or modify
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L12" class="number ">12</th>

                    <td class="" >
                        <pre> * it under the terms of the GNU General Public License as published by
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L13" class="number ">13</th>

                    <td class="" >
                        <pre> * the Free Software Foundation; either version 2 of the License, or
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L14" class="number ">14</th>

                    <td class="" >
                        <pre> * (at your option) any later version.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L15" class="number ">15</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L16" class="number ">16</th>

                    <td class="" >
                        <pre> * Formcreator is distributed in the hope that it will be useful,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L17" class="number ">17</th>

                    <td class="" >
                        <pre> * but WITHOUT ANY WARRANTY; without even the implied warranty of
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L18" class="number ">18</th>

                    <td class="" >
                        <pre> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L19" class="number ">19</th>

                    <td class="" >
                        <pre> * GNU General Public License for more details.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L20" class="number ">20</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L21" class="number ">21</th>

                    <td class="" >
                        <pre> * You should have received a copy of the GNU General Public License
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L22" class="number ">22</th>

                    <td class="" >
                        <pre> * along with Formcreator. If not, see &lt;http://www.gnu.org/licenses/&gt;.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L23" class="number ">23</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L24" class="number ">24</th>

                    <td class="" >
                        <pre> * @copyright Copyright © 2011 - 2019 Teclib&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L25" class="number ">25</th>

                    <td class="" >
                        <pre> * @license   http://www.gnu.org/licenses/gpl.txt GPLv3+
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L26" class="number ">26</th>

                    <td class="" >
                        <pre> * @link      https://github.com/pluginsGLPI/formcreator/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L27" class="number ">27</th>

                    <td class="" >
                        <pre> * @link      https://pluginsglpi.github.io/formcreator/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L28" class="number ">28</th>

                    <td class="" >
                        <pre> * @link      http://plugins.glpi-project.org/#/plugin/formcreator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L29" class="number ">29</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L30" class="number ">30</th>

                    <td class="" >
                        <pre> */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L31" class="number ">31</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L32" class="number ">32</th>

                    <td class="" >
                        <pre>if (!defined(&#039;GLPI_ROOT&#039;)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L33" class="number ">33</th>

                    <td class="" >
                        <pre>   die(&quot;Sorry. You can&#039;t access this file directly&quot;);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L34" class="number ">34</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L35" class="number ">35</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L36" class="number ">36</th>

                    <td class="" >
                        <pre>class PluginFormcreatorFormAnswer extends CommonDBTM
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L37" class="number ">37</th>

                    <td class="" >
                        <pre>{
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L38" class="number ">38</th>

                    <td class="" >
                        <pre>   public $dohistory  = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L39" class="number ">39</th>

                    <td class="" >
                        <pre>   public $usenotepad = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L40" class="number ">40</th>

                    <td class="" >
                        <pre>   public $usenotepadrights = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L41" class="number ">41</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L42" class="number ">42</th>

                    <td class="" >
                        <pre>   public $targetList = [];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L43" class="number ">43</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L44" class="number ">44</th>

                    <td class="" >
                        <pre>   const SOPTION_ANSWER = 900000;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L45" class="number ">45</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L46" class="number ">46</th>

                    <td class="" >
                        <pre>   // Values choosen to not conflict with status of ticket constants
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L47" class="number ">47</th>

                    <td class="" >
                        <pre>   // @see PluginFormcreatorIssue::getNewStatusArray
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L48" class="number ">48</th>

                    <td class="" >
                        <pre>   const STATUS_WAITING = 101;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L49" class="number ">49</th>

                    <td class="" >
                        <pre>   const STATUS_REFUSED = 102;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L50" class="number ">50</th>

                    <td class="" >
                        <pre>   const STATUS_ACCEPTED = 103;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L51" class="number ">51</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L52" class="number ">52</th>

                    <td class="" >
                        <pre>   private $questionFields = [];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L53" class="number ">53</th>

                    <td class="" >
                        <pre>   private $questions      = [];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L54" class="number ">54</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getStatuses">
                    <th id="L55" class="number ">55</th>

                    <td class="" id="getStatuses">
                        <pre>   public static function getStatuses() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L56" class="number ">56</th>

                    <td class="" >
                        <pre>      return [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L57" class="number uncovered">57</th>

                    <td class="uncovered" >
                        <pre>         self::STATUS_WAITING  =&gt; __(&#039;Waiting&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L58" class="number uncovered">58</th>

                    <td class="uncovered" >
                        <pre>         self::STATUS_REFUSED  =&gt; __(&#039;Refused&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L59" class="number uncovered">59</th>

                    <td class="uncovered" >
                        <pre>         self::STATUS_ACCEPTED =&gt; __(&#039;Accepted&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L60" class="number ">60</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L61" class="number unreach">61</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L62" class="number ">62</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L63" class="number ">63</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L64" class="number ">64</th>

                    <td class="" >
                        <pre>    * Check if current user have the right to create and modify requests
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L65" class="number ">65</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L66" class="number ">66</th>

                    <td class="" >
                        <pre>    * @return boolean True if he can create and modify requests
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L67" class="number ">67</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canCreate">
                    <th id="L68" class="number ">68</th>

                    <td class="" id="canCreate">
                        <pre>   public static function canCreate() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L69" class="number uncovered">69</th>

                    <td class="uncovered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L70" class="number unreach">70</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L71" class="number ">71</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L72" class="number ">72</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L73" class="number ">73</th>

                    <td class="" >
                        <pre>    * Check if current user have the right to read requests
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L74" class="number ">74</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L75" class="number ">75</th>

                    <td class="" >
                        <pre>    * @return boolean True if he can read requests
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L76" class="number ">76</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canView">
                    <th id="L77" class="number ">77</th>

                    <td class="" id="canView">
                        <pre>   public static function canView() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L78" class="number uncovered">78</th>

                    <td class="uncovered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L79" class="number unreach">79</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L80" class="number ">80</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canViewItem">
                    <th id="L81" class="number ">81</th>

                    <td class="" id="canViewItem">
                        <pre>   public function canViewItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L82" class="number uncovered">82</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L83" class="number ">83</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L84" class="number uncovered">84</th>

                    <td class="uncovered" >
                        <pre>      if (!isset($_SESSION[&#039;glpiID&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L85" class="number uncovered">85</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L86" class="number ">86</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L87" class="number ">87</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L88" class="number uncovered">88</th>

                    <td class="uncovered" >
                        <pre>      if (Session::haveRight(&#039;entity&#039;, UPDATE)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L89" class="number uncovered">89</th>

                    <td class="uncovered" >
                        <pre>         return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L90" class="number ">90</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L91" class="number ">91</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L92" class="number uncovered">92</th>

                    <td class="uncovered" >
                        <pre>      if ($_SESSION[&#039;glpiID&#039;] == $this-&gt;fields[&#039;requester_id&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L93" class="number uncovered">93</th>

                    <td class="uncovered" >
                        <pre>         return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L94" class="number ">94</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L95" class="number ">95</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L96" class="number uncovered">96</th>

                    <td class="uncovered" >
                        <pre>      if ($_SESSION[&#039;glpiID&#039;] == $this-&gt;fields[&#039;users_id_validator&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L97" class="number uncovered">97</th>

                    <td class="uncovered" >
                        <pre>         return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L98" class="number ">98</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L99" class="number ">99</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L100" class="number uncovered">100</th>

                    <td class="uncovered" >
                        <pre>      $groupUser = new Group_User();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L101" class="number uncovered">101</th>

                    <td class="uncovered" >
                        <pre>      $groups = $groupUser-&gt;getUserGroups($_SESSION[&#039;glpiID&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L102" class="number uncovered">102</th>

                    <td class="uncovered" >
                        <pre>      if (in_array($this-&gt;fields[&#039;users_id_validator&#039;], $groups)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L103" class="number uncovered">103</th>

                    <td class="uncovered" >
                        <pre>         return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L104" class="number ">104</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L105" class="number ">105</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L106" class="number ">106</th>

                    <td class="" >
                        <pre>      $request = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L107" class="number uncovered">107</th>

                    <td class="uncovered" >
                        <pre>         &#039;SELECT&#039; =&gt; PluginFormcreatorForm_Validator::getTable() . &#039;.*&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L108" class="number uncovered">108</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039; =&gt; $this::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L109" class="number ">109</th>

                    <td class="" >
                        <pre>         &#039;INNER JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L110" class="number uncovered">110</th>

                    <td class="uncovered" >
                        <pre>            PluginFormcreatorForm::getTable() =&gt; [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L111" class="number ">111</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L112" class="number uncovered">112</th>

                    <td class="uncovered" >
                        <pre>                  PluginFormcreatorForm::getTable() =&gt; PluginFormcreatorForm::getIndexName(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L113" class="number uncovered">113</th>

                    <td class="uncovered" >
                        <pre>                  $this::getTable() =&gt; PluginFormcreatorForm::getForeignKeyField(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L114" class="number ">114</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L115" class="number ">115</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L116" class="number uncovered">116</th>

                    <td class="uncovered" >
                        <pre>            PluginFormcreatorForm_Validator::getTable() =&gt; [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L117" class="number ">117</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L118" class="number uncovered">118</th>

                    <td class="uncovered" >
                        <pre>                  PluginFormcreatorForm::getTable() =&gt; PluginFormcreatorForm::getIndexName(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L119" class="number uncovered">119</th>

                    <td class="uncovered" >
                        <pre>                  PluginFormcreatorForm_Validator::getTable() =&gt; PluginFormcreatorForm::getForeignKeyField()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L120" class="number ">120</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L121" class="number ">121</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L122" class="number ">122</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L123" class="number uncovered">123</th>

                    <td class="uncovered" >
                        <pre>         &#039;WHERE&#039; =&gt; [$this::getTable() . &#039;.id&#039; =&gt; $this-&gt;getID()],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L124" class="number ">124</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L125" class="number uncovered">125</th>

                    <td class="uncovered" >
                        <pre>      foreach ($DB-&gt;request($request) as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L126" class="number uncovered">126</th>

                    <td class="uncovered" >
                        <pre>         if ($row[&#039;itemtype&#039;] == User::class) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L127" class="number uncovered">127</th>

                    <td class="uncovered" >
                        <pre>            if ($_SESSION[&#039;glpiID&#039;] == $row[&#039;items_id&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L128" class="number uncovered">128</th>

                    <td class="uncovered" >
                        <pre>               return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L129" class="number ">129</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L130" class="number ">130</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L131" class="number uncovered">131</th>

                    <td class="uncovered" >
                        <pre>            foreach ($groups as $group) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L132" class="number uncovered">132</th>

                    <td class="uncovered" >
                        <pre>               if ($group[&#039;id&#039;] == $row[&#039;items_id&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L133" class="number uncovered">133</th>

                    <td class="uncovered" >
                        <pre>                  return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L134" class="number ">134</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L135" class="number ">135</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L136" class="number ">136</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L137" class="number ">137</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L138" class="number ">138</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L139" class="number uncovered">139</th>

                    <td class="uncovered" >
                        <pre>      return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L140" class="number unreach">140</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L141" class="number ">141</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canPurge">
                    <th id="L142" class="number ">142</th>

                    <td class="" id="canPurge">
                        <pre>   public static function canPurge() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L143" class="number uncovered">143</th>

                    <td class="uncovered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L144" class="number unreach">144</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L145" class="number ">145</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canPurgeItem">
                    <th id="L146" class="number ">146</th>

                    <td class="" id="canPurgeItem">
                        <pre>   public function canPurgeItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L147" class="number uncovered">147</th>

                    <td class="uncovered" >
                        <pre>      return Session::haveRight(&#039;entity&#039;, UPDATE);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L148" class="number unreach">148</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L149" class="number ">149</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L150" class="number ">150</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L151" class="number ">151</th>

                    <td class="" >
                        <pre>    * Returns the type name with consideration of plural
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L152" class="number ">152</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L153" class="number ">153</th>

                    <td class="" >
                        <pre>    * @param number $nb Number of item(s)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L154" class="number ">154</th>

                    <td class="" >
                        <pre>    * @return string Itemtype name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L155" class="number ">155</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTypeName">
                    <th id="L156" class="number ">156</th>

                    <td class="" id="getTypeName">
                        <pre>   public static function getTypeName($nb = 0) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L157" class="number uncovered">157</th>

                    <td class="uncovered" >
                        <pre>      return _n(&#039;Form answer&#039;, &#039;Form answers&#039;, $nb, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L158" class="number unreach">158</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L159" class="number ">159</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="rawSearchOptions">
                    <th id="L160" class="number ">160</th>

                    <td class="" id="rawSearchOptions">
                        <pre>   public function rawSearchOptions() {<span class="label label-success">83%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L161" class="number covered">161</th>

                    <td class="covered" >
                        <pre>      $tab = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L162" class="number ">162</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L163" class="number covered">163</th>

                    <td class="covered" >
                        <pre>      $display_for_form = isset($_SESSION[&#039;formcreator&#039;][&#039;form_search_answers&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L164" class="number covered">164</th>

                    <td class="covered" >
                        <pre>                          &amp;&amp; $_SESSION[&#039;formcreator&#039;][&#039;form_search_answers&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L165" class="number ">165</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L166" class="number covered">166</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L167" class="number covered">167</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;common&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L168" class="number covered">168</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Characteristics&#039;)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L169" class="number ">169</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L170" class="number ">170</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L171" class="number covered">171</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L172" class="number covered">172</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;1&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L173" class="number covered">173</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; $this-&gt;getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L174" class="number covered">174</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;name&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L175" class="number covered">175</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Name&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L176" class="number covered">176</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;itemlink&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L177" class="number ">177</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L178" class="number ">178</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L179" class="number ">179</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L180" class="number covered">180</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L181" class="number covered">181</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;2&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L182" class="number covered">182</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; $this::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L183" class="number covered">183</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L184" class="number covered">184</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;ID&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L185" class="number covered">185</th>

                    <td class="covered" >
                        <pre>         &#039;searchtype&#039;         =&gt; &#039;contains&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L186" class="number covered">186</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;itemlink&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L187" class="number ">187</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L188" class="number ">188</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L189" class="number ">189</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L190" class="number covered">190</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L191" class="number covered">191</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;3&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L192" class="number covered">192</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; &#039;glpi_plugin_formcreator_forms&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L193" class="number covered">193</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;name&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L194" class="number covered">194</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Form&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L195" class="number covered">195</th>

                    <td class="covered" >
                        <pre>         &#039;searchtype&#039;         =&gt; &#039;contains&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L196" class="number covered">196</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;string&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L197" class="number ">197</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L198" class="number ">198</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L199" class="number ">199</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L200" class="number covered">200</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L201" class="number covered">201</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;4&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L202" class="number covered">202</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; &#039;glpi_users&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L203" class="number covered">203</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;name&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L204" class="number covered">204</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Requester&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L205" class="number covered">205</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;itemlink&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L206" class="number ">206</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L207" class="number covered">207</th>

                    <td class="covered" >
                        <pre>         &#039;linkfield&#039;          =&gt; &#039;requester_id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L208" class="number ">208</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L209" class="number ">209</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L210" class="number covered">210</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L211" class="number covered">211</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;5&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L212" class="number covered">212</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; &#039;glpi_users&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L213" class="number covered">213</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;name&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L214" class="number covered">214</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Form approver&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L215" class="number covered">215</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;itemlink&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L216" class="number ">216</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L217" class="number covered">217</th>

                    <td class="covered" >
                        <pre>         &#039;linkfield&#039;          =&gt; &#039;users_id_validator&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L218" class="number ">218</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L219" class="number ">219</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L220" class="number covered">220</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L221" class="number covered">221</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;6&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L222" class="number covered">222</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; $this::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L223" class="number covered">223</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;request_date&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L224" class="number covered">224</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Creation date&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L225" class="number covered">225</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;datetime&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L226" class="number ">226</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L227" class="number ">227</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L228" class="number ">228</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L229" class="number covered">229</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L230" class="number covered">230</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;            =&gt; &#039;7&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L231" class="number covered">231</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;         =&gt; getTableForItemType(&#039;Group&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L232" class="number covered">232</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;         =&gt; &#039;completename&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L233" class="number covered">233</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;          =&gt; __(&#039;Form approver group&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L234" class="number covered">234</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;      =&gt; &#039;itemlink&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L235" class="number ">235</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039; =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L236" class="number covered">236</th>

                    <td class="covered" >
                        <pre>         &#039;linkfield&#039;     =&gt; &#039;groups_id_validator&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L237" class="number ">237</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L238" class="number ">238</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L239" class="number covered">239</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L240" class="number covered">240</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;8&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L241" class="number covered">241</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039;              =&gt; $this::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L242" class="number covered">242</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039;              =&gt; &#039;status&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L243" class="number covered">243</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Status&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L244" class="number ">244</th>

                    <td class="" >
                        <pre>         &#039;searchtype&#039;         =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L245" class="number ">245</th>

                    <td class="" >
                        <pre>            &#039;0&#039;                  =&gt; &#039;equals&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L246" class="number ">246</th>

                    <td class="" >
                        <pre>            &#039;1&#039;                  =&gt; &#039;notequals&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L247" class="number ">247</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L248" class="number covered">248</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;specific&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L249" class="number ">249</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L250" class="number ">250</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L251" class="number ">251</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L252" class="number covered">252</th>

                    <td class="covered" >
                        <pre>      $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L253" class="number covered">253</th>

                    <td class="covered" >
                        <pre>         &#039;id&#039; =&gt; &#039;9&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L254" class="number covered">254</th>

                    <td class="covered" >
                        <pre>         &#039;table&#039; =&gt; PluginFormcreatorForm::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L255" class="number covered">255</th>

                    <td class="covered" >
                        <pre>         &#039;field&#039; =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L256" class="number covered">256</th>

                    <td class="covered" >
                        <pre>         &#039;name&#039; =&gt; __(&#039;ID&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L257" class="number covered">257</th>

                    <td class="covered" >
                        <pre>         &#039;searchtype&#039; =&gt; &#039;contains&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L258" class="number covered">258</th>

                    <td class="covered" >
                        <pre>         &#039;datatype&#039; =&gt; &#039;integer&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L259" class="number ">259</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039; =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L260" class="number ">260</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L261" class="number ">261</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L262" class="number covered">262</th>

                    <td class="covered" >
                        <pre>      if ($display_for_form) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L263" class="number uncovered">263</th>

                    <td class="uncovered" >
                        <pre>         $optindex = self::SOPTION_ANSWER;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L264" class="number uncovered">264</th>

                    <td class="uncovered" >
                        <pre>         $question = new PluginFormcreatorQuestion;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L265" class="number uncovered">265</th>

                    <td class="uncovered" >
                        <pre>         $questions = $question-&gt;getQuestionsFromForm($_SESSION[&#039;formcreator&#039;][&#039;form_search_answers&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L266" class="number ">266</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L267" class="number uncovered">267</th>

                    <td class="uncovered" >
                        <pre>         foreach ($questions as $current_question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L268" class="number uncovered">268</th>

                    <td class="uncovered" >
                        <pre>            $questions_id = $current_question-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L269" class="number uncovered">269</th>

                    <td class="uncovered" >
                        <pre>            $tab[] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L270" class="number uncovered">270</th>

                    <td class="uncovered" >
                        <pre>               &#039;id&#039;            =&gt; $optindex,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L271" class="number uncovered">271</th>

                    <td class="uncovered" >
                        <pre>               &#039;table&#039;         =&gt; PluginFormcreatorAnswer::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L272" class="number uncovered">272</th>

                    <td class="uncovered" >
                        <pre>               &#039;field&#039;         =&gt; &#039;answer&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L273" class="number uncovered">273</th>

                    <td class="uncovered" >
                        <pre>               &#039;name&#039;          =&gt; $current_question-&gt;fields[&#039;name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L274" class="number uncovered">274</th>

                    <td class="uncovered" >
                        <pre>               &#039;datatype&#039;      =&gt; &#039;string&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L275" class="number ">275</th>

                    <td class="" >
                        <pre>               &#039;massiveaction&#039; =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L276" class="number ">276</th>

                    <td class="" >
                        <pre>               &#039;nosearch&#039;      =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L277" class="number ">277</th>

                    <td class="" >
                        <pre>               &#039;joinparams&#039;    =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L278" class="number uncovered">278</th>

                    <td class="uncovered" >
                        <pre>                  &#039;jointype&#039;  =&gt; &#039;child&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L279" class="number uncovered">279</th>

                    <td class="uncovered" >
                        <pre>                  &#039;condition&#039; =&gt; &quot;AND NEWTABLE.`plugin_formcreator_questions_id` = $questions_id&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L280" class="number ">280</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L281" class="number ">281</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L282" class="number ">282</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L283" class="number uncovered">283</th>

                    <td class="uncovered" >
                        <pre>            $optindex++;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L284" class="number ">284</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L285" class="number ">285</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L286" class="number ">286</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L287" class="number covered">287</th>

                    <td class="covered" >
                        <pre>      return $tab;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L288" class="number unreach">288</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L289" class="number ">289</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L290" class="number ">290</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L291" class="number ">291</th>

                    <td class="" >
                        <pre>    * Define how to display a specific value in search result table
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L292" class="number ">292</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L293" class="number ">293</th>

                    <td class="" >
                        <pre>    * @param  String $field   Name of the field as define in $this-&gt;getSearchOptions()
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L294" class="number ">294</th>

                    <td class="" >
                        <pre>    * @param  Mixed  $values  The value as it is stored in DB
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L295" class="number ">295</th>

                    <td class="" >
                        <pre>    * @param  Array  $options Options (optional)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L296" class="number ">296</th>

                    <td class="" >
                        <pre>    * @return Mixed           Value to be displayed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L297" class="number ">297</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getSpecificValueToDisplay">
                    <th id="L298" class="number ">298</th>

                    <td class="" id="getSpecificValueToDisplay">
                        <pre>   public static function getSpecificValueToDisplay($field, $values, array $options = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L299" class="number uncovered">299</th>

                    <td class="uncovered" >
                        <pre>      global $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L300" class="number ">300</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L301" class="number uncovered">301</th>

                    <td class="uncovered" >
                        <pre>      if (!is_array($values)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L302" class="number uncovered">302</th>

                    <td class="uncovered" >
                        <pre>         $language = $_SESSION[&quot;glpilanguage&quot;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L303" class="number uncovered">303</th>

                    <td class="uncovered" >
                        <pre>         Session::loadLanguage(&#039;en_GB&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L304" class="number uncovered">304</th>

                    <td class="uncovered" >
                        <pre>         $elements = self::getStatuses();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L305" class="number uncovered">305</th>

                    <td class="uncovered" >
                        <pre>         Session::loadLanguage($language);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L306" class="number uncovered">306</th>

                    <td class="uncovered" >
                        <pre>         $values = [$field =&gt; $elements[$values]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L307" class="number ">307</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L308" class="number ">308</th>

                    <td class="" >
                        <pre>      switch ($field) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L309" class="number uncovered">309</th>

                    <td class="uncovered" >
                        <pre>         case &#039;status&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L310" class="number uncovered">310</th>

                    <td class="uncovered" >
                        <pre>            $output = &#039;&lt;img src=&quot;&#039; . $CFG_GLPI[&#039;root_doc&#039;] . &#039;/plugins/formcreator/pics/&#039; . strtolower($values[$field]) . &#039;.png&quot;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L311" class="number uncovered">311</th>

                    <td class="uncovered" >
                        <pre>                         alt=&quot;&#039; . __($values[$field], &#039;formcreator&#039;) . &#039;&quot; title=&quot;&#039; . __($values[$field], &#039;formcreator&#039;) . &#039;&quot; /&gt; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L312" class="number uncovered">312</th>

                    <td class="uncovered" >
                        <pre>            return $output;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L313" class="number unreach">313</th>

                    <td class="unreach" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L314" class="number ">314</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L315" class="number uncovered">315</th>

                    <td class="uncovered" >
                        <pre>      return parent::getSpecificValueToDisplay($field, $values, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L316" class="number unreach">316</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L317" class="number ">317</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L318" class="number ">318</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L319" class="number ">319</th>

                    <td class="" >
                        <pre>    * Define how to display search field for a specific type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L320" class="number ">320</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L321" class="number ">321</th>

                    <td class="" >
                        <pre>    * @since version 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L322" class="number ">322</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L323" class="number ">323</th>

                    <td class="" >
                        <pre>    * @param String $field           Name of the field as define in $this-&gt;getSearchOptions()
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L324" class="number ">324</th>

                    <td class="" >
                        <pre>    * @param String $name            Name attribute for the field to be posted (default &#039;&#039;)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L325" class="number ">325</th>

                    <td class="" >
                        <pre>    * @param Array  $values          Array of all values to display in search engine (default &#039;&#039;)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L326" class="number ">326</th>

                    <td class="" >
                        <pre>    * @param Array  $options         Options (optional)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L327" class="number ">327</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L328" class="number ">328</th>

                    <td class="" >
                        <pre>    * @return String                 Html string to be displayed for the form field
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L329" class="number ">329</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getSpecificValueToSelect">
                    <th id="L330" class="number ">330</th>

                    <td class="" id="getSpecificValueToSelect">
                        <pre>   public static function getSpecificValueToSelect($field, $name = &#039;&#039;, $values = &#039;&#039;, array $options = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L331" class="number uncovered">331</th>

                    <td class="uncovered" >
                        <pre>      if (!is_array($values)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L332" class="number uncovered">332</th>

                    <td class="uncovered" >
                        <pre>         $values = [$field =&gt; $values];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L333" class="number ">333</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L334" class="number uncovered">334</th>

                    <td class="uncovered" >
                        <pre>      $options[&#039;display&#039;] = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L335" class="number ">335</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L336" class="number ">336</th>

                    <td class="" >
                        <pre>      switch ($field) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L337" class="number uncovered">337</th>

                    <td class="uncovered" >
                        <pre>         case &#039;status&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L338" class="number uncovered">338</th>

                    <td class="uncovered" >
                        <pre>            $elements = self::getStatuses();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L339" class="number uncovered">339</th>

                    <td class="uncovered" >
                        <pre>            $output = Dropdown::showFromArray($name, $elements, [&#039;display&#039; =&gt; false, &#039;value&#039; =&gt; $values[$field]]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L340" class="number uncovered">340</th>

                    <td class="uncovered" >
                        <pre>            return $output;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L341" class="number unreach">341</th>

                    <td class="unreach" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L342" class="number ">342</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L343" class="number uncovered">343</th>

                    <td class="uncovered" >
                        <pre>      return parent::getSpecificValueToSelect($field, $name, $values, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L344" class="number unreach">344</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L345" class="number ">345</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L346" class="number ">346</th>

                    <td class="" >
                        <pre>    * Display a list of all forms on the configuration page
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L347" class="number ">347</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L348" class="number ">348</th>

                    <td class="" >
                        <pre>    * @param  CommonGLPI $item         Instance of a CommonGLPI Item (The Config Item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L349" class="number ">349</th>

                    <td class="" >
                        <pre>    * @param  integer    $tabnum       Number of the current tab
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L350" class="number ">350</th>

                    <td class="" >
                        <pre>    * @param  integer    $withtemplate
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L351" class="number ">351</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L352" class="number ">352</th>

                    <td class="" >
                        <pre>    * @see CommonDBTM::displayTabContentForItem
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L353" class="number ">353</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L354" class="number ">354</th>

                    <td class="" >
                        <pre>    * @return null                     Nothing, just display the list
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L355" class="number ">355</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="displayTabContentForItem">
                    <th id="L356" class="number ">356</th>

                    <td class="" id="displayTabContentForItem">
                        <pre>   public static function displayTabContentForItem(CommonGLPI $item, $tabnum = 1, $withtemplate = 0) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L357" class="number uncovered">357</th>

                    <td class="uncovered" >
                        <pre>      if ($item instanceof PluginFormcreatorForm) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L358" class="number uncovered">358</th>

                    <td class="uncovered" >
                        <pre>         self::showForForm($item);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L359" class="number ">359</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L360" class="number uncovered">360</th>

                    <td class="uncovered" >
                        <pre>         $item-&gt;showForm($item-&gt;fields[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L361" class="number ">361</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L362" class="number uncovered">362</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L363" class="number ">363</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="defineTabs">
                    <th id="L364" class="number ">364</th>

                    <td class="" id="defineTabs">
                        <pre>   public function defineTabs($options = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L365" class="number uncovered">365</th>

                    <td class="uncovered" >
                        <pre>      $ong = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L366" class="number uncovered">366</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;addDefaultFormTab($ong);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L367" class="number uncovered">367</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;fields[&#039;id&#039;] &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L368" class="number uncovered">368</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addStandardTab(Ticket::class, $ong, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L369" class="number uncovered">369</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addStandardTab(Document_Item::class, $ong, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L370" class="number uncovered">370</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addStandardTab(Notepad::class, $ong, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L371" class="number uncovered">371</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addStandardTab(Log::class, $ong, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L372" class="number ">372</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L373" class="number uncovered">373</th>

                    <td class="uncovered" >
                        <pre>      return $ong;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L374" class="number unreach">374</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L375" class="number ">375</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L376" class="number ">376</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L377" class="number ">377</th>

                    <td class="" >
                        <pre>    * Return the name of the tab for item including forms like the config page
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L378" class="number ">378</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L379" class="number ">379</th>

                    <td class="" >
                        <pre>    * @param  CommonGLPI $item         Instance of a CommonGLPI Item (The Config Item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L380" class="number ">380</th>

                    <td class="" >
                        <pre>    * @param  integer    $withtemplate
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L381" class="number ">381</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L382" class="number ">382</th>

                    <td class="" >
                        <pre>    * @return String                   Name to be displayed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L383" class="number ">383</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTabNameForItem">
                    <th id="L384" class="number ">384</th>

                    <td class="" id="getTabNameForItem">
                        <pre>   public function getTabNameForItem(CommonGLPI $item, $withtemplate = 0) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L385" class="number uncovered">385</th>

                    <td class="uncovered" >
                        <pre>      if ($item instanceof PluginFormcreatorForm) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L386" class="number uncovered">386</th>

                    <td class="uncovered" >
                        <pre>         $dbUtils = new DbUtils();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L387" class="number uncovered">387</th>

                    <td class="uncovered" >
                        <pre>         $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L388" class="number uncovered">388</th>

                    <td class="uncovered" >
                        <pre>         $number = $dbUtils-&gt;countElementsInTableForMyEntities(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L389" class="number uncovered">389</th>

                    <td class="uncovered" >
                        <pre>            static::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L390" class="number ">390</th>

                    <td class="" >
                        <pre>            [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L391" class="number uncovered">391</th>

                    <td class="uncovered" >
                        <pre>               $formFk =&gt; $item-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L392" class="number ">392</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L393" class="number ">393</th>

                    <td class="" >
                        <pre>         );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L394" class="number uncovered">394</th>

                    <td class="uncovered" >
                        <pre>         return self::createTabEntry(self::getTypeName($number), $number);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L395" class="number ">395</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L396" class="number uncovered">396</th>

                    <td class="uncovered" >
                        <pre>         return $this-&gt;getTypeName();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L397" class="number ">397</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L398" class="number unreach">398</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L399" class="number ">399</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showForForm">
                    <th id="L400" class="number ">400</th>

                    <td class="" id="showForForm">
                        <pre>   static function showForForm(PluginFormcreatorForm $form, $params = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L401" class="number ">401</th>

                    <td class="" >
                        <pre>      // set a session var to tweak search results
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L402" class="number uncovered">402</th>

                    <td class="uncovered" >
                        <pre>      $_SESSION[&#039;formcreator&#039;][&#039;form_search_answers&#039;] = $form-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L403" class="number ">403</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L404" class="number ">404</th>

                    <td class="" >
                        <pre>      // prepare params for search
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L405" class="number uncovered">405</th>

                    <td class="uncovered" >
                        <pre>      $item            = new PluginFormcreatorFormAnswer();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L406" class="number uncovered">406</th>

                    <td class="uncovered" >
                        <pre>      $searchOptions   = $item-&gt;rawSearchOptions();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L407" class="number uncovered">407</th>

                    <td class="uncovered" >
                        <pre>      $filteredOptions = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L408" class="number uncovered">408</th>

                    <td class="uncovered" >
                        <pre>      foreach ($searchOptions as $value) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L409" class="number uncovered">409</th>

                    <td class="uncovered" >
                        <pre>         if (is_numeric($value[&#039;id&#039;]) &amp;&amp; $value[&#039;id&#039;] &lt;= 7) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L410" class="number uncovered">410</th>

                    <td class="uncovered" >
                        <pre>            $filteredOptions[$value[&#039;id&#039;]] = $value;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L411" class="number ">411</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L412" class="number ">412</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L413" class="number uncovered">413</th>

                    <td class="uncovered" >
                        <pre>      $searchOptions = $filteredOptions;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L414" class="number uncovered">414</th>

                    <td class="uncovered" >
                        <pre>      $sopt_keys     = array_keys($searchOptions);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L415" class="number ">415</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L416" class="number uncovered">416</th>

                    <td class="uncovered" >
                        <pre>      $forcedisplay  = array_combine($sopt_keys, $sopt_keys);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L417" class="number ">417</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L418" class="number ">418</th>

                    <td class="" >
                        <pre>      // do search
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L419" class="number uncovered">419</th>

                    <td class="uncovered" >
                        <pre>      $params = Search::manageParams(__CLASS__, $params, false);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L420" class="number uncovered">420</th>

                    <td class="uncovered" >
                        <pre>      $data   = Search::prepareDatasForSearch(__CLASS__, $params, $forcedisplay);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L421" class="number uncovered">421</th>

                    <td class="uncovered" >
                        <pre>      Search::constructSQL($data);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L422" class="number uncovered">422</th>

                    <td class="uncovered" >
                        <pre>      Search::constructData($data);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L423" class="number uncovered">423</th>

                    <td class="uncovered" >
                        <pre>      Search::displayData($data);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L424" class="number ">424</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L425" class="number ">425</th>

                    <td class="" >
                        <pre>      // remove previous session var (restore default view)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L426" class="number uncovered">426</th>

                    <td class="uncovered" >
                        <pre>      unset($_SESSION[&#039;formcreator&#039;][&#039;form_search_answers&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L427" class="number uncovered">427</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L428" class="number ">428</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L429" class="number ">429</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L430" class="number ">430</th>

                    <td class="" >
                        <pre>    * Can the current user validate the form ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L431" class="number ">431</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canValidate">
                    <th id="L432" class="number ">432</th>

                    <td class="" id="canValidate">
                        <pre>   public function canValidate() {<span class="label label-success">89%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L433" class="number covered">433</th>

                    <td class="covered" >
                        <pre>      if (!Session::haveRight(&#039;ticketvalidation&#039;, TicketValidation::VALIDATEINCIDENT)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L434" class="number covered">434</th>

                    <td class="covered" >
                        <pre>         &amp;&amp; !Session::haveRight(&#039;ticketvalidation&#039;, TicketValidation::VALIDATEREQUEST)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L435" class="number covered">435</th>

                    <td class="covered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L436" class="number ">436</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L437" class="number ">437</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L438" class="number covered">438</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L439" class="number covered">439</th>

                    <td class="covered" >
                        <pre>      $formId = $this-&gt;fields[PluginFormcreatorForm::getForeignKeyField()];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L440" class="number covered">440</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($formId);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L441" class="number covered">441</th>

                    <td class="covered" >
                        <pre>      switch ($form-&gt;fields[&#039;validation_required&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L442" class="number covered">442</th>

                    <td class="covered" >
                        <pre>         case PluginFormcreatorForm_Validator::VALIDATION_USER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L443" class="number covered">443</th>

                    <td class="covered" >
                        <pre>            return (Session::getLoginUserID() == $this-&gt;fields[&#039;users_id_validator&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L444" class="number unreach">444</th>

                    <td class="unreach" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L445" class="number ">445</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L446" class="number covered">446</th>

                    <td class="covered" >
                        <pre>         case PluginFormcreatorForm_Validator::VALIDATION_GROUP:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L447" class="number ">447</th>

                    <td class="" >
                        <pre>            // Check the user is member of at least one validator group for the form answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L448" class="number ">448</th>

                    <td class="" >
                        <pre>            $condition = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L449" class="number covered">449</th>

                    <td class="covered" >
                        <pre>               &#039;glpi_groups.id&#039; =&gt; new QuerySubQuery([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L450" class="number covered">450</th>

                    <td class="covered" >
                        <pre>                  &#039;SELECT&#039; =&gt; [&#039;items_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L451" class="number covered">451</th>

                    <td class="covered" >
                        <pre>                  &#039;FROM&#039;   =&gt; PluginFormcreatorForm_Validator::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L452" class="number ">452</th>

                    <td class="" >
                        <pre>                  &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L453" class="number ">453</th>

                    <td class="" >
                        <pre>                     &#039;itemtype&#039;                    =&gt; Group::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L454" class="number covered">454</th>

                    <td class="covered" >
                        <pre>                     &#039;plugin_formcreator_forms_id&#039; =&gt; $formId</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L455" class="number ">455</th>

                    <td class="" >
                        <pre>                  ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L456" class="number ">456</th>

                    <td class="" >
                        <pre>               ])
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L457" class="number ">457</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L458" class="number covered">458</th>

                    <td class="covered" >
                        <pre>            $groupList = Group_User::getUserGroups(Session::getLoginUserID(), $condition);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L459" class="number covered">459</th>

                    <td class="covered" >
                        <pre>            return (count($groupList) &gt; 0);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L460" class="number uncovered">460</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L461" class="number ">461</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L462" class="number ">462</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L463" class="number uncovered">463</th>

                    <td class="uncovered" >
                        <pre>      return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L464" class="number unreach">464</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L465" class="number ">465</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showForm">
                    <th id="L466" class="number ">466</th>

                    <td class="" id="showForm">
                        <pre>   public function showForm($ID, $options = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L467" class="number uncovered">467</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L468" class="number ">468</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L469" class="number uncovered">469</th>

                    <td class="uncovered" >
                        <pre>      if (!isset($ID) || !$this-&gt;getFromDB($ID)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L470" class="number uncovered">470</th>

                    <td class="uncovered" >
                        <pre>         Html::displayNotFoundError();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L471" class="number ">471</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L472" class="number uncovered">472</th>

                    <td class="uncovered" >
                        <pre>      $options = [&#039;canedit&#039; =&gt; false];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L473" class="number ">473</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L474" class="number ">474</th>

                    <td class="" >
                        <pre>      // Print css media
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L475" class="number uncovered">475</th>

                    <td class="uncovered" >
                        <pre>      echo Html::css(FORMCREATOR_ROOTDOC.&quot;/css/print_form_answer.css&quot;, [&#039;media&#039; =&gt; &#039;print&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L476" class="number ">476</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L477" class="number ">477</th>

                    <td class="" >
                        <pre>      // start form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L478" class="number uncovered">478</th>

                    <td class="uncovered" >
                        <pre>      echo &quot;&lt;div class=&#039;form_answer&#039;&gt;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L479" class="number uncovered">479</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;initForm($ID, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L480" class="number uncovered">480</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showFormHeader($options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L481" class="number ">481</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L482" class="number uncovered">482</th>

                    <td class="uncovered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L483" class="number uncovered">483</th>

                    <td class="uncovered" >
                        <pre>      $formId = $this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L484" class="number uncovered">484</th>

                    <td class="uncovered" >
                        <pre>      $form-&gt;getFromDB($formId);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L485" class="number ">485</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L486" class="number uncovered">486</th>

                    <td class="uncovered" >
                        <pre>      $canEdit = $this-&gt;fields[&#039;status&#039;] == self::STATUS_REFUSED</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L487" class="number uncovered">487</th>

                    <td class="uncovered" >
                        <pre>                 &amp;&amp; $_SESSION[&#039;glpiID&#039;] == $this-&gt;fields[&#039;requester_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L488" class="number ">488</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L489" class="number uncovered">489</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&lt;td colspan=&quot;4&quot; class=&quot;formcreator_form form_horizontal&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L490" class="number ">490</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L491" class="number ">491</th>

                    <td class="" >
                        <pre>      // Form Header
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L492" class="number uncovered">492</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div class=&quot;form_header&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L493" class="number uncovered">493</th>

                    <td class="uncovered" >
                        <pre>      echo &quot;&lt;h1&gt;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L494" class="number uncovered">494</th>

                    <td class="uncovered" >
                        <pre>      echo $form-&gt;fields[&#039;name&#039;].&quot;&amp;nbsp;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L495" class="number uncovered">495</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;i class=&quot;pointer print_button fas fa-print&quot; title=&quot;&#039; . __(&quot;Print this form&quot;, &#039;formcreator&#039;) . &#039;&quot; onclick=&quot;window.print();&quot;&gt;&lt;/i&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L496" class="number uncovered">496</th>

                    <td class="uncovered" >
                        <pre>      echo &quot;&lt;/h1&gt;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L497" class="number uncovered">497</th>

                    <td class="uncovered" >
                        <pre>      if (!empty($form-&gt;fields[&#039;content&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L498" class="number uncovered">498</th>

                    <td class="uncovered" >
                        <pre>         echo html_entity_decode($form-&gt;fields[&#039;content&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L499" class="number ">499</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L500" class="number uncovered">500</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L501" class="number ">501</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L502" class="number uncovered">502</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;fields[&#039;status&#039;] == self::STATUS_REFUSED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L503" class="number uncovered">503</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;refused_header&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L504" class="number uncovered">504</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div&gt;&#039; . nl2br($this-&gt;fields[&#039;comment&#039;]) . &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L505" class="number uncovered">505</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L506" class="number uncovered">506</th>

                    <td class="uncovered" >
                        <pre>      } else if ($this-&gt;fields[&#039;status&#039;] == self::STATUS_ACCEPTED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L507" class="number uncovered">507</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;accepted_header&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L508" class="number uncovered">508</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L509" class="number uncovered">509</th>

                    <td class="uncovered" >
                        <pre>         if (!empty($this-&gt;fields[&#039;comment&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L510" class="number uncovered">510</th>

                    <td class="uncovered" >
                        <pre>            echo nl2br($this-&gt;fields[&#039;comment&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L511" class="number uncovered">511</th>

                    <td class="uncovered" >
                        <pre>         } else if ($form-&gt;fields[&#039;validation_required&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L512" class="number uncovered">512</th>

                    <td class="uncovered" >
                        <pre>            echo __(&#039;Form accepted by validator.&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L513" class="number ">513</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L514" class="number uncovered">514</th>

                    <td class="uncovered" >
                        <pre>            echo __(&#039;Form successfully saved.&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L515" class="number ">515</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L516" class="number uncovered">516</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L517" class="number uncovered">517</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L518" class="number ">518</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L519" class="number ">519</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L520" class="number uncovered">520</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div class=&quot;form_section&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L521" class="number ">521</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L522" class="number ">522</th>

                    <td class="" >
                        <pre>      // TODO: code very close to PluginFormcreatorTargetBase::getFullForm() (factorizable ?)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L523" class="number ">523</th>

                    <td class="" >
                        <pre>      // compute all questions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L524" class="number uncovered">524</th>

                    <td class="uncovered" >
                        <pre>      $questionTable = PluginFormcreatorQuestion::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L525" class="number uncovered">525</th>

                    <td class="uncovered" >
                        <pre>      $sectionTable = PluginFormcreatorSection::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L526" class="number uncovered">526</th>

                    <td class="uncovered" >
                        <pre>      $answerTable = PluginFormcreatorAnswer::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L527" class="number uncovered">527</th>

                    <td class="uncovered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L528" class="number uncovered">528</th>

                    <td class="uncovered" >
                        <pre>      $questionFk = PluginFormcreatorQuestion::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L529" class="number uncovered">529</th>

                    <td class="uncovered" >
                        <pre>      $sectionFk = PluginFormcreatorSection::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L530" class="number uncovered">530</th>

                    <td class="uncovered" >
                        <pre>      $formAnswerFk = PluginFormcreatorFormAnswer::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L531" class="number ">531</th>

                    <td class="" >
                        <pre>      $request = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L532" class="number ">532</th>

                    <td class="" >
                        <pre>         &#039;SELECT&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L533" class="number uncovered">533</th>

                    <td class="uncovered" >
                        <pre>            $sectionTable =&gt; [&#039;name as section_name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L534" class="number ">534</th>

                    <td class="" >
                        <pre>            $questionTable =&gt; [&#039;*&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L535" class="number ">535</th>

                    <td class="" >
                        <pre>            $answerTable =&gt; [&#039;answer&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L536" class="number ">536</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L537" class="number ">537</th>

                    <td class="" >
                        <pre>         &#039;FROM&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L538" class="number uncovered">538</th>

                    <td class="uncovered" >
                        <pre>            $questionTable,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L539" class="number ">539</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L540" class="number ">540</th>

                    <td class="" >
                        <pre>         &#039;LEFT JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L541" class="number ">541</th>

                    <td class="" >
                        <pre>            $answerTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L542" class="number ">542</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L543" class="number uncovered">543</th>

                    <td class="uncovered" >
                        <pre>                  $answerTable =&gt; $questionFk,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L544" class="number uncovered">544</th>

                    <td class="uncovered" >
                        <pre>                  $questionTable =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L545" class="number ">545</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L546" class="number ">546</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L547" class="number ">547</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L548" class="number ">548</th>

                    <td class="" >
                        <pre>         &#039;INNER JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L549" class="number ">549</th>

                    <td class="" >
                        <pre>            $sectionTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L550" class="number ">550</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L551" class="number uncovered">551</th>

                    <td class="uncovered" >
                        <pre>                  $questionTable =&gt; $sectionFk,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L552" class="number uncovered">552</th>

                    <td class="uncovered" >
                        <pre>                  $sectionTable =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L553" class="number ">553</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L554" class="number ">554</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L555" class="number ">555</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L556" class="number ">556</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L557" class="number ">557</th>

                    <td class="" >
                        <pre>            &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L558" class="number uncovered">558</th>

                    <td class="uncovered" >
                        <pre>               &quot;$answerTable.$formAnswerFk&quot; =&gt; $ID,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L559" class="number uncovered">559</th>

                    <td class="uncovered" >
                        <pre>               &quot;$sectionTable.$formFk&quot; =&gt; $form-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L560" class="number ">560</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L561" class="number ">561</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L562" class="number ">562</th>

                    <td class="" >
                        <pre>         &#039;GROUPBY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L563" class="number uncovered">563</th>

                    <td class="uncovered" >
                        <pre>            &quot;$questionTable.id&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L564" class="number ">564</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L565" class="number ">565</th>

                    <td class="" >
                        <pre>         &#039;ORDER&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L566" class="number uncovered">566</th>

                    <td class="uncovered" >
                        <pre>            &quot;$sectionTable.order ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L567" class="number uncovered">567</th>

                    <td class="uncovered" >
                        <pre>            &quot;$sectionTable.id ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L568" class="number uncovered">568</th>

                    <td class="uncovered" >
                        <pre>            &quot;$questionTable.order *ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L569" class="number ">569</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L570" class="number ">570</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L571" class="number uncovered">571</th>

                    <td class="uncovered" >
                        <pre>      $questions = $DB-&gt;request($request);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L572" class="number uncovered">572</th>

                    <td class="uncovered" >
                        <pre>      $last_section = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L573" class="number uncovered">573</th>

                    <td class="uncovered" >
                        <pre>      $questionsCount = $questions-&gt;count();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L574" class="number uncovered">574</th>

                    <td class="uncovered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L575" class="number uncovered">575</th>

                    <td class="uncovered" >
                        <pre>      foreach ($questions as $question_line) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L576" class="number uncovered">576</th>

                    <td class="uncovered" >
                        <pre>         $question = new PluginFormcreatorQuestion();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L577" class="number uncovered">577</th>

                    <td class="uncovered" >
                        <pre>         $question-&gt;getFromDB($question_line[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L578" class="number uncovered">578</th>

                    <td class="uncovered" >
                        <pre>         $fields[$question_line[&#039;id&#039;]]-&gt;deserializeValue($question_line[&#039;answer&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L579" class="number ">579</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L580" class="number uncovered">580</th>

                    <td class="uncovered" >
                        <pre>      foreach ($questions as $question_line) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L581" class="number ">581</th>

                    <td class="" >
                        <pre>         // Get and display current section if needed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L582" class="number uncovered">582</th>

                    <td class="uncovered" >
                        <pre>         if ($last_section != $question_line[&#039;section_name&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L583" class="number uncovered">583</th>

                    <td class="uncovered" >
                        <pre>            echo &#039;&lt;h2&gt;&#039;.$question_line[&#039;section_name&#039;].&#039;&lt;/h2&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L584" class="number uncovered">584</th>

                    <td class="uncovered" >
                        <pre>            $last_section = $question_line[&#039;section_name&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L585" class="number ">585</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L586" class="number ">586</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L587" class="number uncovered">587</th>

                    <td class="uncovered" >
                        <pre>         if ($canEdit) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L588" class="number uncovered">588</th>

                    <td class="uncovered" >
                        <pre>            $fields[$question_line[&#039;id&#039;]]-&gt;show($canEdit);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L589" class="number ">589</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L590" class="number uncovered">590</th>

                    <td class="uncovered" >
                        <pre>            if (($question_line[&#039;fieldtype&#039;] != &quot;description&quot; &amp;&amp; $question_line[&#039;fieldtype&#039;] != &quot;hidden&quot;)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L591" class="number uncovered">591</th>

                    <td class="uncovered" >
                        <pre>               if (PluginFormcreatorFields::isVisible($fields[$question_line[&#039;id&#039;]]-&gt;getQuestion(), $fields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L592" class="number uncovered">592</th>

                    <td class="uncovered" >
                        <pre>                  $fields[$question_line[&#039;id&#039;]]-&gt;show($canEdit);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L593" class="number ">593</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L594" class="number ">594</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L595" class="number ">595</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L596" class="number ">596</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L597" class="number uncovered">597</th>

                    <td class="uncovered" >
                        <pre>      if ($canEdit) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L598" class="number uncovered">598</th>

                    <td class="uncovered" >
                        <pre>         echo Html::scriptBlock(&#039;$(function() {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L599" class="number ">599</th>

                    <td class="" >
                        <pre>            formcreatorShowFields($(&quot;form[name=\&#039;form\&#039;]&quot;));
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L600" class="number ">600</th>

                    <td class="" >
                        <pre>         })&#039;);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L601" class="number ">601</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L602" class="number ">602</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L603" class="number ">603</th>

                    <td class="" >
                        <pre>      //add requester info
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L604" class="number uncovered">604</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div class=&quot;form-group&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L605" class="number uncovered">605</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;label for=&quot;requester&quot;&gt;&#039; . __(&#039;Requester&#039;, &#039;formcreator&#039;) . &#039;&lt;/label&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L606" class="number uncovered">606</th>

                    <td class="uncovered" >
                        <pre>      echo Dropdown::getDropdownName(&#039;glpi_users&#039;, $this-&gt;fields[&#039;requester_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L607" class="number uncovered">607</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L608" class="number ">608</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L609" class="number ">609</th>

                    <td class="" >
                        <pre>      // Display submit button
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L610" class="number uncovered">610</th>

                    <td class="uncovered" >
                        <pre>      if (($this-&gt;fields[&#039;status&#039;] == self::STATUS_REFUSED) &amp;&amp; ($_SESSION[&#039;glpiID&#039;] == $this-&gt;fields[&#039;requester_id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L611" class="number uncovered">611</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;form-group line&#039;.(($questionsCount + 1) % 2).&#039;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L612" class="number uncovered">612</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;center&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L613" class="number uncovered">613</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;input type=&quot;submit&quot; name=&quot;save_formanswer&quot; class=&quot;submit_button&quot; value=&quot;&#039;.__(&#039;Save&#039;).&#039;&quot; /&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L614" class="number uncovered">614</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L615" class="number uncovered">615</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L616" class="number ">616</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L617" class="number ">617</th>

                    <td class="" >
                        <pre>         // Display validation form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L618" class="number uncovered">618</th>

                    <td class="uncovered" >
                        <pre>      } else if (($this-&gt;fields[&#039;status&#039;] == self::STATUS_WAITING) &amp;&amp; $this-&gt;canValidate()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L619" class="number uncovered">619</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;form-group required line1&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L620" class="number uncovered">620</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;label for=&quot;comment&quot;&gt;&#039; . __(&#039;Comment&#039;, &#039;formcreator&#039;) . &#039; &lt;span class=&quot;red&quot;&gt;*&lt;/span&gt;&lt;/label&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L621" class="number uncovered">621</th>

                    <td class="uncovered" >
                        <pre>         Html::textarea([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L622" class="number uncovered">622</th>

                    <td class="uncovered" >
                        <pre>            &#039;name&#039; =&gt; &#039;comment&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L623" class="number uncovered">623</th>

                    <td class="uncovered" >
                        <pre>            &#039;value&#039; =&gt; $this-&gt;fields[&#039;comment&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L624" class="number ">624</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L625" class="number uncovered">625</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;help-block&quot;&gt;&#039; . __(&#039;Required if refused&#039;, &#039;formcreator&#039;) . &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L626" class="number uncovered">626</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L627" class="number ">627</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L628" class="number uncovered">628</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;form-group line1&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L629" class="number uncovered">629</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;center&quot; style=&quot;float: left; width: 50%;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L630" class="number uncovered">630</th>

                    <td class="uncovered" >
                        <pre>         echo Html::submit(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L631" class="number uncovered">631</th>

                    <td class="uncovered" >
                        <pre>            __(&#039;Refuse&#039;, &#039;formcreator&#039;), [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L632" class="number uncovered">632</th>

                    <td class="uncovered" >
                        <pre>               &#039;name&#039;      =&gt; &#039;refuse_formanswer&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L633" class="number ">633</th>

                    <td class="" >
                        <pre>               &#039;onclick&#039;   =&gt; &#039;return checkComment(this)&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L634" class="number ">634</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L635" class="number uncovered">635</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L636" class="number uncovered">636</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;div class=&quot;center&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L637" class="number uncovered">637</th>

                    <td class="uncovered" >
                        <pre>         echo Html::submit(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L638" class="number uncovered">638</th>

                    <td class="uncovered" >
                        <pre>            __(&#039;Accept&#039;, &#039;formcreator&#039;), [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L639" class="number uncovered">639</th>

                    <td class="uncovered" >
                        <pre>               &#039;name&#039;      =&gt; &#039;accept_formanswer&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L640" class="number ">640</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L641" class="number uncovered">641</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L642" class="number uncovered">642</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L643" class="number uncovered">643</th>

                    <td class="uncovered" >
                        <pre>         $options[&#039;canedit&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L644" class="number uncovered">644</th>

                    <td class="uncovered" >
                        <pre>         $options[&#039;candel&#039;] = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L645" class="number ">645</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L646" class="number ">646</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L647" class="number uncovered">647</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;plugin_formcreator_forms_id&quot; value=&quot;&#039; . $form-&gt;getID() . &#039;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L648" class="number uncovered">648</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&#039; . $this-&gt;getID() . &#039;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L649" class="number uncovered">649</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;_glpi_csrf_token&quot; value=&quot;&#039; . Session::getNewCSRFToken() . &#039;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L650" class="number ">650</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L651" class="number uncovered">651</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L652" class="number ">652</th>

                    <td class="" >
                        <pre>      //      echo &#039;&lt;/form&gt;&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L653" class="number ">653</th>

                    <td class="" >
                        <pre>      echo &#039;&lt;script type=&quot;text/javascript&quot;&gt;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L654" class="number ">654</th>

                    <td class="" >
                        <pre>               function checkComment(field) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L655" class="number ">655</th>

                    <td class="" >
                        <pre>                  if ($(&quot;textarea[name=comment]&quot;).val() == &quot;&quot;) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L656" class="number uncovered">656</th>

                    <td class="uncovered" >
                        <pre>                     alert(&quot;&#039; . __(&#039;Refused comment is required!&#039;, &#039;formcreator&#039;) . &#039;&quot;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L657" class="number ">657</th>

                    <td class="" >
                        <pre>                     return false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L658" class="number ">658</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L659" class="number ">659</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L660" class="number ">660</th>

                    <td class="" >
                        <pre>            &lt;/script&gt;&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L661" class="number ">661</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L662" class="number uncovered">662</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L663" class="number ">663</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L664" class="number uncovered">664</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showFormButtons($options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L665" class="number uncovered">665</th>

                    <td class="uncovered" >
                        <pre>      echo &quot;&lt;/div&gt;&quot;; // .form_answer</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L666" class="number uncovered">666</th>

                    <td class="uncovered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L667" class="number unreach">667</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L668" class="number ">668</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L669" class="number ">669</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L670" class="number ">670</th>

                    <td class="" >
                        <pre>    * Prepare input data for adding the question
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L671" class="number ">671</th>

                    <td class="" >
                        <pre>    * Check fields values and get the order for the new question
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L672" class="number ">672</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L673" class="number ">673</th>

                    <td class="" >
                        <pre>    * @param array $input data used to add the item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L674" class="number ">674</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L675" class="number ">675</th>

                    <td class="" >
                        <pre>    * @return array the modified $input array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L676" class="number ">676</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="prepareInputForAdd">
                    <th id="L677" class="number ">677</th>

                    <td class="" id="prepareInputForAdd">
                        <pre>   public function prepareInputForAdd($input) {<span class="label label-success">95%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L678" class="number ">678</th>

                    <td class="" >
                        <pre>      // A requester submits his answers to a form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L679" class="number covered">679</th>

                    <td class="covered" >
                        <pre>      if (!isset($input[&#039;plugin_formcreator_forms_id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L680" class="number uncovered">680</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L681" class="number ">681</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L682" class="number ">682</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L683" class="number covered">683</th>

                    <td class="covered" >
                        <pre>      if (!$this-&gt;validateFormAnswer($input)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L684" class="number ">684</th>

                    <td class="" >
                        <pre>         // Validation of answers failed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L685" class="number uncovered">685</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L686" class="number ">686</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L687" class="number ">687</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L688" class="number covered">688</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L689" class="number covered">689</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($input[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L690" class="number covered">690</th>

                    <td class="covered" >
                        <pre>      $input[&#039;name&#039;] = Toolbox::addslashes_deep($form-&gt;getName());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L691" class="number ">691</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L692" class="number ">692</th>

                    <td class="" >
                        <pre>      // Does the form need to be validated?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L693" class="number covered">693</th>

                    <td class="covered" >
                        <pre>      $status = self::STATUS_ACCEPTED;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L694" class="number covered">694</th>

                    <td class="covered" >
                        <pre>      $usersIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L695" class="number covered">695</th>

                    <td class="covered" >
                        <pre>      $groupIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L696" class="number covered">696</th>

                    <td class="covered" >
                        <pre>      $usersIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L697" class="number covered">697</th>

                    <td class="covered" >
                        <pre>      switch ($form-&gt;fields[&#039;validation_required&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L698" class="number covered">698</th>

                    <td class="covered" >
                        <pre>         case PluginFormcreatorForm::VALIDATION_USER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L699" class="number covered">699</th>

                    <td class="covered" >
                        <pre>            $status = self::STATUS_WAITING;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L700" class="number covered">700</th>

                    <td class="covered" >
                        <pre>            $usersIdValidator = isset($input[&#039;formcreator_validator&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L701" class="number covered">701</th>

                    <td class="covered" >
                        <pre>                              ? $input[&#039;formcreator_validator&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L702" class="number covered">702</th>

                    <td class="covered" >
                        <pre>                              : 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L703" class="number covered">703</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L704" class="number ">704</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L705" class="number covered">705</th>

                    <td class="covered" >
                        <pre>         case PluginFormcreatorForm::VALIDATION_GROUP:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L706" class="number covered">706</th>

                    <td class="covered" >
                        <pre>            $status = self::STATUS_WAITING;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L707" class="number covered">707</th>

                    <td class="covered" >
                        <pre>            $groupIdValidator = isset($input[&#039;formcreator_validator&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L708" class="number covered">708</th>

                    <td class="covered" >
                        <pre>                              ? $input[&#039;formcreator_validator&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L709" class="number covered">709</th>

                    <td class="covered" >
                        <pre>                              : 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L710" class="number covered">710</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L711" class="number ">711</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L712" class="number ">712</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L713" class="number covered">713</th>

                    <td class="covered" >
                        <pre>      $input[&#039;entities_id&#039;] = isset($_SESSION[&#039;glpiactive_entity&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L714" class="number covered">714</th>

                    <td class="covered" >
                        <pre>                            ? $_SESSION[&#039;glpiactive_entity&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L715" class="number covered">715</th>

                    <td class="covered" >
                        <pre>                            : $form-&gt;fields[&#039;entities_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L716" class="number ">716</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L717" class="number covered">717</th>

                    <td class="covered" >
                        <pre>      $input[&#039;is_recursive&#039;]                = $form-&gt;fields[&#039;is_recursive&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L718" class="number covered">718</th>

                    <td class="covered" >
                        <pre>      $input[&#039;plugin_formcreator_forms_id&#039;] = $form-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L719" class="number ">719</th>

                    <td class="" >
                        <pre>      // requester_id is actually the author
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L720" class="number ">720</th>

                    <td class="" >
                        <pre>      // TODO : rename this column
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L721" class="number covered">721</th>

                    <td class="covered" >
                        <pre>      $input[&#039;requester_id&#039;]                = isset($_SESSION[&#039;glpiID&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L722" class="number covered">722</th>

                    <td class="covered" >
                        <pre>                                            ? $_SESSION[&#039;glpiID&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L723" class="number covered">723</th>

                    <td class="covered" >
                        <pre>                                            : 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L724" class="number covered">724</th>

                    <td class="covered" >
                        <pre>      $input[&#039;users_id_validator&#039;]          = $usersIdValidator;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L725" class="number covered">725</th>

                    <td class="covered" >
                        <pre>      $input[&#039;groups_id_validator&#039;]         = $groupIdValidator;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L726" class="number covered">726</th>

                    <td class="covered" >
                        <pre>      $input[&#039;status&#039;]                      = $status;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L727" class="number covered">727</th>

                    <td class="covered" >
                        <pre>      $input[&#039;request_date&#039;]                = date(&#039;Y-m-d H:i:s&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L728" class="number covered">728</th>

                    <td class="covered" >
                        <pre>      $input[&#039;comment&#039;]                     = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L729" class="number ">729</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L730" class="number covered">730</th>

                    <td class="covered" >
                        <pre>      return $input;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L731" class="number unreach">731</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L732" class="number ">732</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L733" class="number ">733</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L734" class="number ">734</th>

                    <td class="" >
                        <pre>    * Actions done before deleting an item. In case of failure, prevents
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L735" class="number ">735</th>

                    <td class="" >
                        <pre>    * actual deletion of the item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L736" class="number ">736</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L737" class="number ">737</th>

                    <td class="" >
                        <pre>    * @return boolean true if pre_delete actions succeeded, false if not
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L738" class="number ">738</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="pre_deleteItem">
                    <th id="L739" class="number ">739</th>

                    <td class="" id="pre_deleteItem">
                        <pre>   public function pre_deleteItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L740" class="number uncovered">740</th>

                    <td class="uncovered" >
                        <pre>      $issue = new PluginFormcreatorIssue();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L741" class="number uncovered">741</th>

                    <td class="uncovered" >
                        <pre>      $issue-&gt;deleteByCriteria([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L742" class="number uncovered">742</th>

                    <td class="uncovered" >
                        <pre>         &#039;original_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L743" class="number uncovered">743</th>

                    <td class="uncovered" >
                        <pre>         &#039;sub_itemtype&#039;    =&gt; self::getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L744" class="number ">744</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L745" class="number ">745</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L746" class="number uncovered">746</th>

                    <td class="uncovered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L747" class="number unreach">747</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L748" class="number ">748</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L749" class="number ">749</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L750" class="number ">750</th>

                    <td class="" >
                        <pre>    * Create or update answers of a form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L751" class="number ">751</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L752" class="number ">752</th>

                    <td class="" >
                        <pre>    * @param PluginFormcreatorForm  $form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L753" class="number ">753</th>

                    <td class="" >
                        <pre>    * @param array                  $data answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L754" class="number ">754</th>

                    <td class="" >
                        <pre>    * @param array                  $fields array of field: question id =&gt; instance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L755" class="number ">755</th>

                    <td class="" >
                        <pre>    * @return integer               ID of the created or updated Form Answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L756" class="number ">756</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="saveAnswers">
                    <th id="L757" class="number ">757</th>

                    <td class="" id="saveAnswers">
                        <pre>   public function saveAnswers(PluginFormcreatorForm $form, $data, $fields) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L758" class="number uncovered">758</th>

                    <td class="uncovered" >
                        <pre>      $formanswers_id = isset($data[&#039;id&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L759" class="number uncovered">759</th>

                    <td class="uncovered" >
                        <pre>                        ? (int) $data[&#039;id&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L760" class="number uncovered">760</th>

                    <td class="uncovered" >
                        <pre>                        : -1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L761" class="number ">761</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L762" class="number uncovered">762</th>

                    <td class="uncovered" >
                        <pre>      $question = new PluginFormcreatorQuestion();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L763" class="number uncovered">763</th>

                    <td class="uncovered" >
                        <pre>      $questions = $question-&gt;getQuestionsFromForm($form-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L764" class="number ">764</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L765" class="number uncovered">765</th>

                    <td class="uncovered" >
                        <pre>      if (isset($data[&#039;save_formanswer&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L766" class="number ">766</th>

                    <td class="" >
                        <pre>         // Update form answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L767" class="number uncovered">767</th>

                    <td class="uncovered" >
                        <pre>         $status = $data[&#039;status&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L768" class="number uncovered">768</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L769" class="number uncovered">769</th>

                    <td class="uncovered" >
                        <pre>            &#039;id&#039;        =&gt; $formanswers_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L770" class="number uncovered">770</th>

                    <td class="uncovered" >
                        <pre>            &#039;status&#039;    =&gt; $status,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L771" class="number uncovered">771</th>

                    <td class="uncovered" >
                        <pre>            &#039;comment&#039;   =&gt; isset($data[&#039;comment&#039;]) ? $data[&#039;comment&#039;] : &#039;NULL&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L772" class="number ">772</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L773" class="number ">773</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L774" class="number ">774</th>

                    <td class="" >
                        <pre>         // Update questions answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L775" class="number uncovered">775</th>

                    <td class="uncovered" >
                        <pre>         if ($status == self::STATUS_WAITING) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L776" class="number uncovered">776</th>

                    <td class="uncovered" >
                        <pre>            foreach ($questions as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L777" class="number uncovered">777</th>

                    <td class="uncovered" >
                        <pre>               $answer = new PluginFormcreatorAnswer();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L778" class="number uncovered">778</th>

                    <td class="uncovered" >
                        <pre>               $answer-&gt;getFromDBByCrit([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L779" class="number uncovered">779</th>

                    <td class="uncovered" >
                        <pre>                  &#039;plugin_formcreator_formanswers_id&#039; =&gt; $formanswers_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L780" class="number uncovered">780</th>

                    <td class="uncovered" >
                        <pre>                  &#039;plugin_formcreator_questions_id&#039; =&gt; $questionId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L781" class="number ">781</th>

                    <td class="" >
                        <pre>               ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L782" class="number uncovered">782</th>

                    <td class="uncovered" >
                        <pre>               $answer-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L783" class="number uncovered">783</th>

                    <td class="uncovered" >
                        <pre>                  &#039;id&#039;     =&gt; $answer-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L784" class="number uncovered">784</th>

                    <td class="uncovered" >
                        <pre>                  &#039;answer&#039; =&gt; $fields[$questionId]-&gt;serializeValue(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L785" class="number uncovered">785</th>

                    <td class="uncovered" >
                        <pre>               ], 0);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L786" class="number ">786</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L787" class="number ">787</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L788" class="number ">788</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L789" class="number ">789</th>

                    <td class="" >
                        <pre>         // Create new form answer object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L790" class="number ">790</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L791" class="number ">791</th>

                    <td class="" >
                        <pre>         // Does the form need to be validated?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L792" class="number uncovered">792</th>

                    <td class="uncovered" >
                        <pre>         $status = self::STATUS_ACCEPTED;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L793" class="number uncovered">793</th>

                    <td class="uncovered" >
                        <pre>         $usersIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L794" class="number uncovered">794</th>

                    <td class="uncovered" >
                        <pre>         $groupIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L795" class="number uncovered">795</th>

                    <td class="uncovered" >
                        <pre>         $usersIdValidator = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L796" class="number uncovered">796</th>

                    <td class="uncovered" >
                        <pre>         switch ($form-&gt;fields[&#039;validation_required&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L797" class="number uncovered">797</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorForm::VALIDATION_USER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L798" class="number uncovered">798</th>

                    <td class="uncovered" >
                        <pre>               $status = self::STATUS_WAITING;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L799" class="number uncovered">799</th>

                    <td class="uncovered" >
                        <pre>               $usersIdValidator = isset($data[&#039;formcreator_validator&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L800" class="number uncovered">800</th>

                    <td class="uncovered" >
                        <pre>                                 ? $data[&#039;formcreator_validator&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L801" class="number uncovered">801</th>

                    <td class="uncovered" >
                        <pre>                                 : 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L802" class="number uncovered">802</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L803" class="number ">803</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L804" class="number uncovered">804</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorForm::VALIDATION_GROUP:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L805" class="number uncovered">805</th>

                    <td class="uncovered" >
                        <pre>               $status = self::STATUS_WAITING;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L806" class="number uncovered">806</th>

                    <td class="uncovered" >
                        <pre>               $groupIdValidator = isset($data[&#039;formcreator_validator&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L807" class="number uncovered">807</th>

                    <td class="uncovered" >
                        <pre>                                 ? $data[&#039;formcreator_validator&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L808" class="number uncovered">808</th>

                    <td class="uncovered" >
                        <pre>                                 : 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L809" class="number uncovered">809</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L810" class="number ">810</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L811" class="number ">811</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L812" class="number uncovered">812</th>

                    <td class="uncovered" >
                        <pre>         $formanswers_id = $this-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L813" class="number uncovered">813</th>

                    <td class="uncovered" >
                        <pre>            &#039;entities_id&#039;                 =&gt; isset($_SESSION[&#039;glpiactive_entity&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L814" class="number uncovered">814</th>

                    <td class="uncovered" >
                        <pre>                                             ? $_SESSION[&#039;glpiactive_entity&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L815" class="number uncovered">815</th>

                    <td class="uncovered" >
                        <pre>                                             : $form-&gt;fields[&#039;entities_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L816" class="number uncovered">816</th>

                    <td class="uncovered" >
                        <pre>            &#039;is_recursive&#039;                =&gt; $form-&gt;fields[&#039;is_recursive&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L817" class="number uncovered">817</th>

                    <td class="uncovered" >
                        <pre>            &#039;plugin_formcreator_forms_id&#039; =&gt; $form-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L818" class="number uncovered">818</th>

                    <td class="uncovered" >
                        <pre>            &#039;requester_id&#039;                =&gt; isset($_SESSION[&#039;glpiID&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L819" class="number uncovered">819</th>

                    <td class="uncovered" >
                        <pre>                                             ? $_SESSION[&#039;glpiID&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L820" class="number uncovered">820</th>

                    <td class="uncovered" >
                        <pre>                                             : 0,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L821" class="number uncovered">821</th>

                    <td class="uncovered" >
                        <pre>            &#039;users_id_validator&#039;          =&gt; $usersIdValidator,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L822" class="number uncovered">822</th>

                    <td class="uncovered" >
                        <pre>            &#039;groups_id_validator&#039;         =&gt; $groupIdValidator,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L823" class="number uncovered">823</th>

                    <td class="uncovered" >
                        <pre>            &#039;status&#039;                      =&gt; $status,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L824" class="number uncovered">824</th>

                    <td class="uncovered" >
                        <pre>            &#039;request_date&#039;                =&gt; date(&#039;Y-m-d H:i:s&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L825" class="number ">825</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L826" class="number ">826</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L827" class="number ">827</th>

                    <td class="" >
                        <pre>         // Save questions answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L828" class="number uncovered">828</th>

                    <td class="uncovered" >
                        <pre>         foreach ($questions as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L829" class="number uncovered">829</th>

                    <td class="uncovered" >
                        <pre>            $answer = new PluginFormcreatorAnswer();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L830" class="number uncovered">830</th>

                    <td class="uncovered" >
                        <pre>            $answer-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L831" class="number uncovered">831</th>

                    <td class="uncovered" >
                        <pre>               &#039;plugin_formcreator_formanswers_id&#039;  =&gt; $formanswers_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L832" class="number uncovered">832</th>

                    <td class="uncovered" >
                        <pre>               &#039;plugin_formcreator_questions_id&#039;    =&gt; $question-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L833" class="number uncovered">833</th>

                    <td class="uncovered" >
                        <pre>               &#039;answer&#039;                             =&gt; $fields[$questionId]-&gt;serializeValue(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L834" class="number uncovered">834</th>

                    <td class="uncovered" >
                        <pre>            ], [], 0);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L835" class="number uncovered">835</th>

                    <td class="uncovered" >
                        <pre>            foreach ($fields[$questionId]-&gt;getDocumentsForTarget() as $documentId) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L836" class="number uncovered">836</th>

                    <td class="uncovered" >
                        <pre>               $docItem = new Document_Item();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L837" class="number uncovered">837</th>

                    <td class="uncovered" >
                        <pre>               $docItem-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L838" class="number uncovered">838</th>

                    <td class="uncovered" >
                        <pre>                  &#039;documents_id&#039; =&gt; $documentId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L839" class="number ">839</th>

                    <td class="" >
                        <pre>                  &#039;itemtype&#039;     =&gt; __CLASS__,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L840" class="number uncovered">840</th>

                    <td class="uncovered" >
                        <pre>                  &#039;items_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L841" class="number ">841</th>

                    <td class="" >
                        <pre>               ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L842" class="number ">842</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L843" class="number ">843</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L844" class="number ">844</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L845" class="number ">845</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L846" class="number uncovered">846</th>

                    <td class="uncovered" >
                        <pre>      Session::addMessageAfterRedirect(__(&#039;The form has been successfully saved!&#039;, &#039;formcreator&#039;), true, INFO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L847" class="number ">847</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L848" class="number ">848</th>

                    <td class="" >
                        <pre>      // TODO: This reveals a real refactor need in this method !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L849" class="number uncovered">849</th>

                    <td class="uncovered" >
                        <pre>      return $formanswers_id;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L850" class="number unreach">850</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L851" class="number ">851</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L852" class="number ">852</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L853" class="number ">853</th>

                    <td class="" >
                        <pre>    * Update the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L854" class="number ">854</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L855" class="number ">855</th>

                    <td class="" >
                        <pre>    * @param array $input
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L856" class="number ">856</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L857" class="number ">857</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="updateAnswers">
                    <th id="L858" class="number ">858</th>

                    <td class="" id="updateAnswers">
                        <pre>   public function updateAnswers($input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L859" class="number uncovered">859</th>

                    <td class="uncovered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L860" class="number uncovered">860</th>

                    <td class="uncovered" >
                        <pre>      $form-&gt;getFromDB((int) $input[&#039;formcreator_form&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L861" class="number uncovered">861</th>

                    <td class="uncovered" >
                        <pre>      $input[&#039;status&#039;] = self::STATUS_WAITING;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L862" class="number ">862</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L863" class="number uncovered">863</th>

                    <td class="uncovered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L864" class="number uncovered">864</th>

                    <td class="uncovered" >
                        <pre>      foreach ($fields as $id =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L865" class="number uncovered">865</th>

                    <td class="uncovered" >
                        <pre>         $fields[$id]-&gt;parseAnswerValues($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L866" class="number ">866</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L867" class="number uncovered">867</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;saveAnswers($form, $input, $fields);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L868" class="number unreach">868</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L869" class="number ">869</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L870" class="number ">870</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L871" class="number ">871</th>

                    <td class="" >
                        <pre>    * Mark answers of a form as refused
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L872" class="number ">872</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L873" class="number ">873</th>

                    <td class="" >
                        <pre>    * @param array $input
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L874" class="number ">874</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L875" class="number ">875</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L876" class="number ">876</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="refuseAnswers">
                    <th id="L877" class="number ">877</th>

                    <td class="" id="refuseAnswers">
                        <pre>   public function refuseAnswers($input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L878" class="number uncovered">878</th>

                    <td class="uncovered" >
                        <pre>      $input[&#039;status&#039;]          = self::STATUS_REFUSED;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L879" class="number uncovered">879</th>

                    <td class="uncovered" >
                        <pre>      $input[&#039;save_formanswer&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L880" class="number ">880</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L881" class="number uncovered">881</th>

                    <td class="uncovered" >
                        <pre>      $form   = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L882" class="number uncovered">882</th>

                    <td class="uncovered" >
                        <pre>      $form-&gt;getFromDB((int) $input[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L883" class="number ">883</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L884" class="number ">884</th>

                    <td class="" >
                        <pre>      // Prepare form fields for validation
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L885" class="number uncovered">885</th>

                    <td class="uncovered" >
                        <pre>      if (!$this-&gt;canValidate()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L886" class="number uncovered">886</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;You are not the validator of these answers&#039;, &#039;formcreator&#039;), true, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L887" class="number uncovered">887</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L888" class="number ">888</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L889" class="number ">889</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L890" class="number uncovered">890</th>

                    <td class="uncovered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L891" class="number uncovered">891</th>

                    <td class="uncovered" >
                        <pre>      foreach ($fields as $id =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L892" class="number uncovered">892</th>

                    <td class="uncovered" >
                        <pre>         $fields[$id]-&gt;parseAnswerValues($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L893" class="number ">893</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L894" class="number uncovered">894</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;saveAnswers($form, $input, $fields);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L895" class="number unreach">895</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L896" class="number ">896</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L897" class="number ">897</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L898" class="number ">898</th>

                    <td class="" >
                        <pre>    * Mark answers of a form as accepted
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L899" class="number ">899</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L900" class="number ">900</th>

                    <td class="" >
                        <pre>    * @param array $input
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L901" class="number ">901</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L902" class="number ">902</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L903" class="number ">903</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="acceptAnswers">
                    <th id="L904" class="number ">904</th>

                    <td class="" id="acceptAnswers">
                        <pre>   public function acceptAnswers($input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L905" class="number uncovered">905</th>

                    <td class="uncovered" >
                        <pre>      $input[&#039;status&#039;]                      = self::STATUS_ACCEPTED;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L906" class="number uncovered">906</th>

                    <td class="uncovered" >
                        <pre>      $input[&#039;save_formanswer&#039;]             = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L907" class="number ">907</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L908" class="number uncovered">908</th>

                    <td class="uncovered" >
                        <pre>      $form   = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L909" class="number uncovered">909</th>

                    <td class="uncovered" >
                        <pre>      $form-&gt;getFromDB((int) $input[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L910" class="number ">910</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L911" class="number ">911</th>

                    <td class="" >
                        <pre>      // Prepare form fields for validation
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L912" class="number uncovered">912</th>

                    <td class="uncovered" >
                        <pre>      if (!$this-&gt;canValidate()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L913" class="number uncovered">913</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;You are not the validator of these answers&#039;, &#039;formcreator&#039;), true, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L914" class="number uncovered">914</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L915" class="number ">915</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L916" class="number ">916</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L917" class="number uncovered">917</th>

                    <td class="uncovered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L918" class="number uncovered">918</th>

                    <td class="uncovered" >
                        <pre>      foreach ($fields as $id =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L919" class="number uncovered">919</th>

                    <td class="uncovered" >
                        <pre>         $fields[$id]-&gt;parseAnswerValues($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L920" class="number ">920</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L921" class="number uncovered">921</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;saveAnswers($form, $input, $fields);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L922" class="number unreach">922</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L923" class="number ">923</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L924" class="number ">924</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L925" class="number ">925</th>

                    <td class="" >
                        <pre>    * Generates all targets for the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L926" class="number ">926</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="generateTarget">
                    <th id="L927" class="number ">927</th>

                    <td class="" id="generateTarget">
                        <pre>   public function generateTarget() {<span class="label label-success">88%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L928" class="number covered">928</th>

                    <td class="covered" >
                        <pre>      global $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L929" class="number ">929</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L930" class="number covered">930</th>

                    <td class="covered" >
                        <pre>      $success = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L931" class="number ">931</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L932" class="number ">932</th>

                    <td class="" >
                        <pre>      // Get all targets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L933" class="number covered">933</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L934" class="number covered">934</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L935" class="number covered">935</th>

                    <td class="covered" >
                        <pre>      $all_targets = $form-&gt;getTargetsFromForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L936" class="number ">936</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L937" class="number covered">937</th>

                    <td class="covered" >
                        <pre>      $CFG_GLPI[&#039;plugin_formcreator_disable_hook_create_ticket&#039;] = &#039;1&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L938" class="number ">938</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L939" class="number ">939</th>

                    <td class="" >
                        <pre>      // Generate targets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L940" class="number covered">940</th>

                    <td class="covered" >
                        <pre>      $generatedTargets = new PluginFormcreatorComposite(new PluginFormcreatorItem_TargetTicket(), new Ticket_Ticket());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L941" class="number covered">941</th>

                    <td class="covered" >
                        <pre>      foreach ($all_targets as $targetType =&gt; $targets) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L942" class="number covered">942</th>

                    <td class="covered" >
                        <pre>         foreach ($targets as $targetObject) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L943" class="number ">943</th>

                    <td class="" >
                        <pre>            // Check the condition of the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L944" class="number covered">944</th>

                    <td class="covered" >
                        <pre>            $this-&gt;questionFields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L945" class="number covered">945</th>

                    <td class="covered" >
                        <pre>            $answers_values = $this-&gt;getAnswers($this-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L946" class="number covered">946</th>

                    <td class="covered" >
                        <pre>            foreach ($this-&gt;questionFields as $id =&gt; $field) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L947" class="number covered">947</th>

                    <td class="covered" >
                        <pre>               $this-&gt;questionFields[$id]-&gt;deserializeValue($answers_values[&#039;formcreator_field_&#039; . $id]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L948" class="number ">948</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L949" class="number ">949</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L950" class="number covered">950</th>

                    <td class="covered" >
                        <pre>            if (!PluginFormcreatorFields::isVisible($targetObject, $this-&gt;questionFields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L951" class="number ">951</th>

                    <td class="" >
                        <pre>               // The target shall not be generated
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L952" class="number uncovered">952</th>

                    <td class="uncovered" >
                        <pre>               continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L953" class="number ">953</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L954" class="number ">954</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L955" class="number ">955</th>

                    <td class="" >
                        <pre>            // Generate the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L956" class="number covered">956</th>

                    <td class="covered" >
                        <pre>            $generatedTarget = $targetObject-&gt;save($this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L957" class="number covered">957</th>

                    <td class="covered" >
                        <pre>            if ($generatedTarget === null) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L958" class="number uncovered">958</th>

                    <td class="uncovered" >
                        <pre>               $success = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L959" class="number uncovered">959</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L960" class="number ">960</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L961" class="number covered">961</th>

                    <td class="covered" >
                        <pre>            $this-&gt;targetList[] = $generatedTarget;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L962" class="number ">962</th>

                    <td class="" >
                        <pre>            // Map [itemtype of the target] [item ID of the target] = ID of the generated target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L963" class="number covered">963</th>

                    <td class="covered" >
                        <pre>            $generatedTargets-&gt;addTarget($targetObject, $generatedTarget);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L964" class="number ">964</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L965" class="number ">965</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L966" class="number covered">966</th>

                    <td class="covered" >
                        <pre>      $generatedTargets-&gt;buildCompositeRelations();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L967" class="number ">967</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L968" class="number covered">968</th>

                    <td class="covered" >
                        <pre>      Session::addMessageAfterRedirect(__(&#039;The form has been successfully saved!&#039;, &#039;formcreator&#039;), true, INFO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L969" class="number covered">969</th>

                    <td class="covered" >
                        <pre>      unset($CFG_GLPI[&#039;plugin_formcreator_disable_hook_create_ticket&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L970" class="number covered">970</th>

                    <td class="covered" >
                        <pre>      return $success;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L971" class="number unreach">971</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L972" class="number ">972</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L973" class="number ">973</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L974" class="number ">974</th>

                    <td class="" >
                        <pre>    * Gets answers of all fields of a form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L975" class="number ">975</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L976" class="number ">976</th>

                    <td class="" >
                        <pre>    * @param integer $formAnswerId
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L977" class="number ">977</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L978" class="number ">978</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getAnswers">
                    <th id="L979" class="number ">979</th>

                    <td class="" id="getAnswers">
                        <pre>   public function getAnswers($formAnswerId) {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L980" class="number covered">980</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L981" class="number ">981</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L982" class="number covered">982</th>

                    <td class="covered" >
                        <pre>      $answers = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L983" class="number covered">983</th>

                    <td class="covered" >
                        <pre>         &#039;SELECT&#039; =&gt; [&#039;plugin_formcreator_questions_id&#039;, &#039;answer&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L984" class="number covered">984</th>

                    <td class="covered" >
                        <pre>         &#039;FROM&#039;   =&gt; PluginFormcreatorAnswer::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L985" class="number ">985</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L986" class="number covered">986</th>

                    <td class="covered" >
                        <pre>            &#039;plugin_formcreator_formanswers_id&#039; =&gt; $formAnswerId</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L987" class="number ">987</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L988" class="number ">988</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L989" class="number covered">989</th>

                    <td class="covered" >
                        <pre>      $answers_values = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L990" class="number covered">990</th>

                    <td class="covered" >
                        <pre>      foreach ($answers as $found_answer) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L991" class="number covered">991</th>

                    <td class="covered" >
                        <pre>         $answers_values[&#039;formcreator_field_&#039; . $found_answer[&#039;plugin_formcreator_questions_id&#039;]] = $found_answer[&#039;answer&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L992" class="number ">992</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L993" class="number covered">993</th>

                    <td class="covered" >
                        <pre>      return $answers_values;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L994" class="number unreach">994</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L995" class="number ">995</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L996" class="number ">996</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L997" class="number ">997</th>

                    <td class="" >
                        <pre>    * Gets the associated form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L998" class="number ">998</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L999" class="number ">999</th>

                    <td class="" >
                        <pre>    * @return PluginFormcreatorForm|null the form used to create this set of answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1000" class="number ">1000</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getForm">
                    <th id="L1001" class="number ">1001</th>

                    <td class="" id="getForm">
                        <pre>   public function getForm() {<span class="label label-success">80%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1002" class="number covered">1002</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1003" class="number covered">1003</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($this-&gt;fields[PluginFormcreatorForm::getForeignKeyField()]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1004" class="number ">1004</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1005" class="number covered">1005</th>

                    <td class="covered" >
                        <pre>      if ($form-&gt;isNewItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1006" class="number uncovered">1006</th>

                    <td class="uncovered" >
                        <pre>         return null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1007" class="number ">1007</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1008" class="number covered">1008</th>

                    <td class="covered" >
                        <pre>      return $form;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1009" class="number unreach">1009</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1010" class="number ">1010</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1011" class="number ">1011</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1012" class="number ">1012</th>

                    <td class="" >
                        <pre>    * Get entire form to be inserted into a target content
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1013" class="number ">1013</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1014" class="number ">1014</th>

                    <td class="" >
                        <pre>    * @param boolean $richText If true, enable rich text output
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1015" class="number ">1015</th>

                    <td class="" >
                        <pre>    * @return String Full form questions and answers to be print
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1016" class="number ">1016</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getFullForm">
                    <th id="L1017" class="number ">1017</th>

                    <td class="" id="getFullForm">
                        <pre>   public function getFullForm($richText = false) {<span class="label label-success">83%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1018" class="number covered">1018</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1019" class="number ">1019</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1020" class="number covered">1020</th>

                    <td class="covered" >
                        <pre>      $question_no = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1021" class="number covered">1021</th>

                    <td class="covered" >
                        <pre>      $output      = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1022" class="number covered">1022</th>

                    <td class="covered" >
                        <pre>      $eol = &quot;\r\n&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1023" class="number ">1023</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1024" class="number covered">1024</th>

                    <td class="covered" >
                        <pre>      if ($richText) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1025" class="number covered">1025</th>

                    <td class="covered" >
                        <pre>         $output .= &#039;&lt;h1&gt;&#039; . __(&#039;Form data&#039;, &#039;formcreator&#039;) . &#039;&lt;/h1&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1026" class="number ">1026</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1027" class="number uncovered">1027</th>

                    <td class="uncovered" >
                        <pre>         $output .= __(&#039;Form data&#039;, &#039;formcreator&#039;) . $eol;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1028" class="number uncovered">1028</th>

                    <td class="uncovered" >
                        <pre>         $output .= &#039;=================&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1029" class="number uncovered">1029</th>

                    <td class="uncovered" >
                        <pre>         $output .= $eol . $eol;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1030" class="number ">1030</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1031" class="number ">1031</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1032" class="number ">1032</th>

                    <td class="" >
                        <pre>      // retrieve answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1033" class="number covered">1033</th>

                    <td class="covered" >
                        <pre>      $answers_values = $this-&gt;getAnswers($this-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1034" class="number covered">1034</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1035" class="number covered">1035</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1036" class="number covered">1036</th>

                    <td class="covered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1037" class="number covered">1037</th>

                    <td class="covered" >
                        <pre>      foreach ($fields as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1038" class="number covered">1038</th>

                    <td class="covered" >
                        <pre>         $answer = $answers_values[&#039;formcreator_field_&#039; . $questionId];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1039" class="number covered">1039</th>

                    <td class="covered" >
                        <pre>         $fields[$questionId]-&gt;deserializeValue($answer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1040" class="number ">1040</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1041" class="number ">1041</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1042" class="number ">1042</th>

                    <td class="" >
                        <pre>      // TODO: code very close to PluginFormcreatorTargetBase::parseTags() (factorizable ?)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1043" class="number ">1043</th>

                    <td class="" >
                        <pre>      // compute all questions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1044" class="number covered">1044</th>

                    <td class="covered" >
                        <pre>      $questionTable = PluginFormcreatorQuestion::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1045" class="number covered">1045</th>

                    <td class="covered" >
                        <pre>      $sectionTable = PluginFormcreatorSection::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1046" class="number covered">1046</th>

                    <td class="covered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1047" class="number covered">1047</th>

                    <td class="covered" >
                        <pre>      $sectionFk = PluginFormcreatorSection::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1048" class="number covered">1048</th>

                    <td class="covered" >
                        <pre>      $questions = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1049" class="number ">1049</th>

                    <td class="" >
                        <pre>         &#039;SELECT&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1050" class="number covered">1050</th>

                    <td class="covered" >
                        <pre>            $sectionTable =&gt; [&#039;name as section_name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1051" class="number ">1051</th>

                    <td class="" >
                        <pre>            $questionTable =&gt; [&#039;id&#039;, &#039;fieldtype&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1052" class="number ">1052</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1053" class="number ">1053</th>

                    <td class="" >
                        <pre>         &#039;FROM&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1054" class="number covered">1054</th>

                    <td class="covered" >
                        <pre>            $questionTable,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1055" class="number ">1055</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1056" class="number ">1056</th>

                    <td class="" >
                        <pre>         &#039;INNER JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1057" class="number ">1057</th>

                    <td class="" >
                        <pre>            $sectionTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1058" class="number ">1058</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1059" class="number covered">1059</th>

                    <td class="covered" >
                        <pre>                  $questionTable =&gt; $sectionFk,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1060" class="number covered">1060</th>

                    <td class="covered" >
                        <pre>                  $sectionTable =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1061" class="number ">1061</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1062" class="number ">1062</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1063" class="number ">1063</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1064" class="number ">1064</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1065" class="number ">1065</th>

                    <td class="" >
                        <pre>            &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1066" class="number covered">1066</th>

                    <td class="covered" >
                        <pre>               &quot;$sectionTable.$formFk&quot; =&gt; $this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1067" class="number ">1067</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1068" class="number ">1068</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1069" class="number ">1069</th>

                    <td class="" >
                        <pre>         &#039;GROUPBY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1070" class="number covered">1070</th>

                    <td class="covered" >
                        <pre>            &quot;$questionTable.id&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1071" class="number ">1071</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1072" class="number ">1072</th>

                    <td class="" >
                        <pre>         &#039;ORDER&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1073" class="number covered">1073</th>

                    <td class="covered" >
                        <pre>            &quot;$sectionTable.order ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1074" class="number covered">1074</th>

                    <td class="covered" >
                        <pre>            &quot;$sectionTable.id ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1075" class="number covered">1075</th>

                    <td class="covered" >
                        <pre>            &quot;$questionTable.order *ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1076" class="number ">1076</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1077" class="number ">1077</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1078" class="number covered">1078</th>

                    <td class="covered" >
                        <pre>      $last_section = &quot;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1079" class="number covered">1079</th>

                    <td class="covered" >
                        <pre>      while ($question_line = $questions-&gt;next()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1080" class="number ">1080</th>

                    <td class="" >
                        <pre>         // Get and display current section if needed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1081" class="number covered">1081</th>

                    <td class="covered" >
                        <pre>         if ($last_section != $question_line[&#039;section_name&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1082" class="number covered">1082</th>

                    <td class="covered" >
                        <pre>            if ($richText) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1083" class="number covered">1083</th>

                    <td class="covered" >
                        <pre>               $output .= &#039;&lt;h2&gt;&#039; . $question_line[&#039;section_name&#039;] . &#039;&lt;/h2&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1084" class="number ">1084</th>

                    <td class="" >
                        <pre>            } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1085" class="number uncovered">1085</th>

                    <td class="uncovered" >
                        <pre>               $output .= $eol . $question_line[&#039;section_name&#039;] . $eol;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1086" class="number uncovered">1086</th>

                    <td class="uncovered" >
                        <pre>               $output .= &#039;---------------------------------&#039; . $eol;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1087" class="number ">1087</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1088" class="number covered">1088</th>

                    <td class="covered" >
                        <pre>            $last_section = $question_line[&#039;section_name&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1089" class="number ">1089</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1090" class="number ">1090</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1091" class="number ">1091</th>

                    <td class="" >
                        <pre>         // Don&#039;t save tags in &quot;full form&quot;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1092" class="number covered">1092</th>

                    <td class="covered" >
                        <pre>         if ($question_line[&#039;fieldtype&#039;] == &#039;tag&#039;) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1093" class="number uncovered">1093</th>

                    <td class="uncovered" >
                        <pre>            continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1094" class="number ">1094</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1095" class="number ">1095</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1096" class="number covered">1096</th>

                    <td class="covered" >
                        <pre>         if (!PluginFormcreatorFields::isVisible($fields[$question_line[&#039;id&#039;]]-&gt;getQuestion(), $fields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1097" class="number uncovered">1097</th>

                    <td class="uncovered" >
                        <pre>            continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1098" class="number ">1098</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1099" class="number ">1099</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1100" class="number covered">1100</th>

                    <td class="covered" >
                        <pre>         if ($question_line[&#039;fieldtype&#039;] != &#039;description&#039;) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1101" class="number covered">1101</th>

                    <td class="covered" >
                        <pre>            $question_no++;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1102" class="number covered">1102</th>

                    <td class="covered" >
                        <pre>            if ($richText) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1103" class="number covered">1103</th>

                    <td class="covered" >
                        <pre>               $output .= &#039;&lt;div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1104" class="number covered">1104</th>

                    <td class="covered" >
                        <pre>               $output .= &#039;&lt;b&gt;&#039; . $question_no . &#039;) ##question_&#039; . $question_line[&#039;id&#039;] . &#039;## : &lt;/b&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1105" class="number covered">1105</th>

                    <td class="covered" >
                        <pre>               $output .= &#039;##answer_&#039; . $question_line[&#039;id&#039;] . &#039;##&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1106" class="number covered">1106</th>

                    <td class="covered" >
                        <pre>               $output .= &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1107" class="number ">1107</th>

                    <td class="" >
                        <pre>            } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1108" class="number uncovered">1108</th>

                    <td class="uncovered" >
                        <pre>               $output .= $question_no . &#039;) ##question_&#039; . $question_line[&#039;id&#039;] . &#039;## : &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1109" class="number uncovered">1109</th>

                    <td class="uncovered" >
                        <pre>               $output .= &#039;##answer_&#039; . $question_line[&#039;id&#039;] . &#039;##&#039; . $eol . $eol;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1110" class="number ">1110</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1111" class="number ">1111</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1112" class="number ">1112</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1113" class="number ">1113</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1114" class="number covered">1114</th>

                    <td class="covered" >
                        <pre>      return $output;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1115" class="number unreach">1115</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1116" class="number ">1116</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_addItem">
                    <th id="L1117" class="number ">1117</th>

                    <td class="" id="post_addItem">
                        <pre>   public function post_addItem() {<span class="label label-warning">70%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1118" class="number ">1118</th>

                    <td class="" >
                        <pre>      // Save questions answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1119" class="number covered">1119</th>

                    <td class="covered" >
                        <pre>      $question = new PluginFormcreatorQuestion();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1120" class="number covered">1120</th>

                    <td class="covered" >
                        <pre>      $this-&gt;questions = $question-&gt;getQuestionsFromForm($this-&gt;input[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1121" class="number ">1121</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1122" class="number covered">1122</th>

                    <td class="covered" >
                        <pre>      foreach ($this-&gt;questions as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1123" class="number covered">1123</th>

                    <td class="covered" >
                        <pre>         $answer = new PluginFormcreatorAnswer();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1124" class="number covered">1124</th>

                    <td class="covered" >
                        <pre>         $answer-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1125" class="number covered">1125</th>

                    <td class="covered" >
                        <pre>            &#039;plugin_formcreator_formanswers_id&#039;  =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1126" class="number covered">1126</th>

                    <td class="covered" >
                        <pre>            &#039;plugin_formcreator_questions_id&#039;    =&gt; $question-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1127" class="number covered">1127</th>

                    <td class="covered" >
                        <pre>            &#039;answer&#039;                             =&gt; $this-&gt;questionFields[$questionId]-&gt;serializeValue(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1128" class="number covered">1128</th>

                    <td class="covered" >
                        <pre>         ], [], 0);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1129" class="number covered">1129</th>

                    <td class="covered" >
                        <pre>         foreach ($this-&gt;questionFields[$questionId]-&gt;getDocumentsForTarget() as $documentId) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1130" class="number uncovered">1130</th>

                    <td class="uncovered" >
                        <pre>            $docItem = new Document_Item();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1131" class="number uncovered">1131</th>

                    <td class="uncovered" >
                        <pre>            $docItem-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1132" class="number uncovered">1132</th>

                    <td class="uncovered" >
                        <pre>               &#039;documents_id&#039; =&gt; $documentId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1133" class="number ">1133</th>

                    <td class="" >
                        <pre>               &#039;itemtype&#039;     =&gt; __CLASS__,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1134" class="number uncovered">1134</th>

                    <td class="uncovered" >
                        <pre>               &#039;items_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1135" class="number ">1135</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1136" class="number ">1136</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1137" class="number ">1137</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1138" class="number covered">1138</th>

                    <td class="covered" >
                        <pre>      $this-&gt;sendNotification();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1139" class="number covered">1139</th>

                    <td class="covered" >
                        <pre>      if ($this-&gt;input[&#039;status&#039;] == self::STATUS_ACCEPTED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1140" class="number covered">1140</th>

                    <td class="covered" >
                        <pre>         if (!$this-&gt;generateTarget()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1141" class="number uncovered">1141</th>

                    <td class="uncovered" >
                        <pre>            Session::addMessageAfterRedirect(__(&#039;Cannot generate targets!&#039;, &#039;formcreator&#039;), true, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1142" class="number ">1142</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1143" class="number ">1143</th>

                    <td class="" >
                        <pre>            // TODO: find a way to validate the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1144" class="number ">1144</th>

                    <td class="" >
                        <pre>            // It the form is not being validated, nothing gives the power to anyone to validate the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1145" class="number uncovered">1145</th>

                    <td class="uncovered" >
                        <pre>            $this-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1146" class="number uncovered">1146</th>

                    <td class="uncovered" >
                        <pre>               &#039;id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1147" class="number ">1147</th>

                    <td class="" >
                        <pre>               &#039;status&#039; =&gt; self::STATUS_WAITING,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1148" class="number ">1148</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1149" class="number ">1149</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1150" class="number ">1150</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1151" class="number covered">1151</th>

                    <td class="covered" >
                        <pre>      $this-&gt;createIssue();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1152" class="number covered">1152</th>

                    <td class="covered" >
                        <pre>      Session::addMessageAfterRedirect(__(&#039;The form has been successfully saved!&#039;, &#039;formcreator&#039;), true, INFO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1153" class="number covered">1153</th>

                    <td class="covered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1154" class="number ">1154</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_updateItem">
                    <th id="L1155" class="number ">1155</th>

                    <td class="" id="post_updateItem">
                        <pre>   public function post_updateItem($history = 1) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1156" class="number uncovered">1156</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;sendNotification();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1157" class="number uncovered">1157</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;input[&#039;status&#039;] == self::STATUS_ACCEPTED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1158" class="number uncovered">1158</th>

                    <td class="uncovered" >
                        <pre>         if (!$this-&gt;generateTarget()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1159" class="number uncovered">1159</th>

                    <td class="uncovered" >
                        <pre>            Session::addMessageAfterRedirect(__(&#039;Cannot generate targets!&#039;, &#039;formcreator&#039;), true, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1160" class="number ">1160</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1161" class="number ">1161</th>

                    <td class="" >
                        <pre>            // TODO: find a way to validate the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1162" class="number ">1162</th>

                    <td class="" >
                        <pre>            // It the form is not being validated, nothing gives the power to anyone to validate the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1163" class="number uncovered">1163</th>

                    <td class="uncovered" >
                        <pre>            $this-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1164" class="number uncovered">1164</th>

                    <td class="uncovered" >
                        <pre>               &#039;id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1165" class="number ">1165</th>

                    <td class="" >
                        <pre>               &#039;status&#039; =&gt; self::STATUS_WAITING,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1166" class="number ">1166</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1167" class="number ">1167</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1168" class="number ">1168</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1169" class="number uncovered">1169</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;updateIssue();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1170" class="number uncovered">1170</th>

                    <td class="uncovered" >
                        <pre>      Session::addMessageAfterRedirect(__(&#039;The form has been successfully saved!&#039;, &#039;formcreator&#039;), true, INFO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1171" class="number uncovered">1171</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1172" class="number ">1172</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1173" class="number ">1173</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1174" class="number ">1174</th>

                    <td class="" >
                        <pre>    * Actions done after the PURGE of the item in the database
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1175" class="number ">1175</th>

                    <td class="" >
                        <pre>    * Delete answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1176" class="number ">1176</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1177" class="number ">1177</th>

                    <td class="" >
                        <pre>    * @return void
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1178" class="number ">1178</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_purgeItem">
                    <th id="L1179" class="number ">1179</th>

                    <td class="" id="post_purgeItem">
                        <pre>   public function post_purgeItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1180" class="number uncovered">1180</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1181" class="number ">1181</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1182" class="number uncovered">1182</th>

                    <td class="uncovered" >
                        <pre>      $formAnswerFk = PluginFormcreatorFormAnswer::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1183" class="number uncovered">1183</th>

                    <td class="uncovered" >
                        <pre>      $DB-&gt;delete(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1184" class="number uncovered">1184</th>

                    <td class="uncovered" >
                        <pre>         self::getTable(), [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1185" class="number uncovered">1185</th>

                    <td class="uncovered" >
                        <pre>            $formAnswerFk,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1186" class="number ">1186</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1187" class="number ">1187</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1188" class="number ">1188</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1189" class="number ">1189</th>

                    <td class="" >
                        <pre>      // If the form was waiting for validation
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1190" class="number uncovered">1190</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;fields[&#039;status&#039;] == self::STATUS_WAITING) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1191" class="number ">1191</th>

                    <td class="" >
                        <pre>         // Notify the requester
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1192" class="number uncovered">1192</th>

                    <td class="uncovered" >
                        <pre>         NotificationEvent::raiseEvent(&#039;plugin_formcreator_deleted&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1193" class="number ">1193</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1194" class="number uncovered">1194</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1195" class="number ">1195</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1196" class="number ">1196</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1197" class="number ">1197</th>

                    <td class="" >
                        <pre>    * Parse target content to replace TAGS like ##FULLFORM## by the values
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1198" class="number ">1198</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1199" class="number ">1199</th>

                    <td class="" >
                        <pre>    * @param  string $content                            String to be parsed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1200" class="number ">1200</th>

                    <td class="" >
                        <pre>    * @param  PluginFormcreatorTargetInterface $target   Target for which output is being generated
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1201" class="number ">1201</th>

                    <td class="" >
                        <pre>    * @param  boolean $richText                          Disable rich text mode for field rendering
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1202" class="number ">1202</th>

                    <td class="" >
                        <pre>    * @return string                                     Parsed string with tags replaced by form values
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1203" class="number ">1203</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="parseTags">
                    <th id="L1204" class="number ">1204</th>

                    <td class="" id="parseTags">
                        <pre>   public function parseTags($content, PluginFormcreatorTargetInterface $target, $richText = false) {<span class="label label-success">74%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1205" class="number ">1205</th>

                    <td class="" >
                        <pre>      // retrieve answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1206" class="number covered">1206</th>

                    <td class="covered" >
                        <pre>      $answers_values = $this-&gt;getAnswers($this-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1207" class="number ">1207</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1208" class="number ">1208</th>

                    <td class="" >
                        <pre>      // Retrieve questions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1209" class="number covered">1209</th>

                    <td class="covered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1210" class="number covered">1210</th>

                    <td class="covered" >
                        <pre>      $questions = (new PluginFormcreatorQuestion())</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1211" class="number covered">1211</th>

                    <td class="covered" >
                        <pre>         -&gt;getQuestionsFromForm($this-&gt;fields[$formFk]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1212" class="number ">1212</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1213" class="number ">1213</th>

                    <td class="" >
                        <pre>      // Prepare all fields of the form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1214" class="number covered">1214</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1215" class="number covered">1215</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($this-&gt;fields[$formFk]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1216" class="number covered">1216</th>

                    <td class="covered" >
                        <pre>      $fields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1217" class="number covered">1217</th>

                    <td class="covered" >
                        <pre>      foreach ($questions as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1218" class="number covered">1218</th>

                    <td class="covered" >
                        <pre>         $answer = $answers_values[&#039;formcreator_field_&#039; . $questionId];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1219" class="number covered">1219</th>

                    <td class="covered" >
                        <pre>         $fields[$questionId]-&gt;deserializeValue($answer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1220" class="number ">1220</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1221" class="number ">1221</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1222" class="number covered">1222</th>

                    <td class="covered" >
                        <pre>      foreach ($questions as $questionId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1223" class="number covered">1223</th>

                    <td class="covered" >
                        <pre>         if (!PluginFormcreatorFields::isVisible($question, $fields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1224" class="number uncovered">1224</th>

                    <td class="uncovered" >
                        <pre>            $name = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1225" class="number uncovered">1225</th>

                    <td class="uncovered" >
                        <pre>            $value = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1226" class="number ">1226</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1227" class="number covered">1227</th>

                    <td class="covered" >
                        <pre>            $name  = $question-&gt;fields[&#039;name&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1228" class="number covered">1228</th>

                    <td class="covered" >
                        <pre>            $value = $fields[$questionId]-&gt;getValueForTargetText($richText);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1229" class="number ">1229</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1230" class="number ">1230</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1231" class="number covered">1231</th>

                    <td class="covered" >
                        <pre>         $content = str_replace(&#039;##question_&#039; . $questionId . &#039;##&#039;, Toolbox::addslashes_deep($name), $content);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1232" class="number covered">1232</th>

                    <td class="covered" >
                        <pre>         $content = str_replace(&#039;##answer_&#039; . $questionId . &#039;##&#039;, Toolbox::addslashes_deep($value), $content);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1233" class="number covered">1233</th>

                    <td class="covered" >
                        <pre>         foreach ($fields[$questionId]-&gt;getDocumentsForTarget() as $documentId) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1234" class="number uncovered">1234</th>

                    <td class="uncovered" >
                        <pre>            $target-&gt;addAttachedDocument($documentId);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1235" class="number ">1235</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1236" class="number covered">1236</th>

                    <td class="covered" >
                        <pre>         if ($question-&gt;fields[&#039;fieldtype&#039;] === &#039;file&#039;) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1237" class="number uncovered">1237</th>

                    <td class="uncovered" >
                        <pre>            if (strpos($content, &#039;##answer_&#039; . $questionId . &#039;##&#039;) !== false) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1238" class="number uncovered">1238</th>

                    <td class="uncovered" >
                        <pre>               if (!is_array($value)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1239" class="number uncovered">1239</th>

                    <td class="uncovered" >
                        <pre>                  $value = [$value];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1240" class="number ">1240</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1241" class="number ">1241</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1242" class="number ">1242</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1243" class="number ">1243</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1244" class="number covered">1244</th>

                    <td class="covered" >
                        <pre>         if ($fields[$questionId] instanceof PluginFormcreatorDropdownField) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1245" class="number uncovered">1245</th>

                    <td class="uncovered" >
                        <pre>            $content = $fields[$questionId]-&gt;parseObjectProperties($answer, $content);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1246" class="number ">1246</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1247" class="number ">1247</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1248" class="number ">1248</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1249" class="number covered">1249</th>

                    <td class="covered" >
                        <pre>      return $content;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1250" class="number unreach">1250</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1251" class="number ">1251</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1252" class="number ">1252</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1253" class="number ">1253</th>

                    <td class="" >
                        <pre>    * Validates answers of a form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1254" class="number ">1254</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1255" class="number ">1255</th>

                    <td class="" >
                        <pre>    * @param array $input fields from the HTML form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1256" class="number ">1256</th>

                    <td class="" >
                        <pre>    * @return boolean true if answers are valid, false otherwise
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1257" class="number ">1257</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="validateFormAnswer">
                    <th id="L1258" class="number ">1258</th>

                    <td class="" id="validateFormAnswer">
                        <pre>   protected function validateFormAnswer($input) {<span class="label label-warning">68%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1259" class="number ">1259</th>

                    <td class="" >
                        <pre>      // Find the form the requester is answering to
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1260" class="number covered">1260</th>

                    <td class="covered" >
                        <pre>      $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1261" class="number covered">1261</th>

                    <td class="covered" >
                        <pre>      $form-&gt;getFromDB($input[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1262" class="number ">1262</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1263" class="number covered">1263</th>

                    <td class="covered" >
                        <pre>      $valid = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1264" class="number covered">1264</th>

                    <td class="covered" >
                        <pre>      $fieldValidities = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1265" class="number ">1265</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1266" class="number covered">1266</th>

                    <td class="covered" >
                        <pre>      $this-&gt;questionFields = $form-&gt;getFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1267" class="number covered">1267</th>

                    <td class="covered" >
                        <pre>      foreach ($this-&gt;questionFields as $id =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1268" class="number covered">1268</th>

                    <td class="covered" >
                        <pre>         $fieldValidities[$id] = $this-&gt;questionFields[$id]-&gt;parseAnswerValues($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1269" class="number ">1269</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1270" class="number ">1270</th>

                    <td class="" >
                        <pre>      // any invalid field will invalidate the answers
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1271" class="number covered">1271</th>

                    <td class="covered" >
                        <pre>      $valid = !in_array(false, $fieldValidities, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1272" class="number ">1272</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1273" class="number ">1273</th>

                    <td class="" >
                        <pre>      // Mandatory field must be filled
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1274" class="number ">1274</th>

                    <td class="" >
                        <pre>      // and fields must contain a value matching the constraints of the field (range for example)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1275" class="number covered">1275</th>

                    <td class="covered" >
                        <pre>      if ($valid) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1276" class="number covered">1276</th>

                    <td class="covered" >
                        <pre>         foreach ($this-&gt;questionFields as $id =&gt; $field) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1277" class="number covered">1277</th>

                    <td class="covered" >
                        <pre>            if (!$this-&gt;questionFields[$id]-&gt;isPrerequisites()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1278" class="number uncovered">1278</th>

                    <td class="uncovered" >
                        <pre>               continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1279" class="number ">1279</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1280" class="number covered">1280</th>

                    <td class="covered" >
                        <pre>            if (PluginFormcreatorFields::isVisible($field-&gt;getQuestion(), $this-&gt;questionFields) &amp;&amp; !$this-&gt;questionFields[$id]-&gt;isValid()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1281" class="number uncovered">1281</th>

                    <td class="uncovered" >
                        <pre>               $valid = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1282" class="number uncovered">1282</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1283" class="number ">1283</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1284" class="number ">1284</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1285" class="number ">1285</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1286" class="number ">1286</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1287" class="number ">1287</th>

                    <td class="" >
                        <pre>      // Check required_validator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1288" class="number covered">1288</th>

                    <td class="covered" >
                        <pre>      if ($form-&gt;fields[&#039;validation_required&#039;] &amp;&amp; empty($input[&#039;formcreator_validator&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1289" class="number uncovered">1289</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;You must select validator!&#039;, &#039;formcreator&#039;), false, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1290" class="number uncovered">1290</th>

                    <td class="uncovered" >
                        <pre>         $valid = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1291" class="number ">1291</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1292" class="number ">1292</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1293" class="number covered">1293</th>

                    <td class="covered" >
                        <pre>      if (!$valid) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1294" class="number ">1294</th>

                    <td class="" >
                        <pre>         // Save answers in session to display it again with the same values
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1295" class="number uncovered">1295</th>

                    <td class="uncovered" >
                        <pre>         $_SESSION[&#039;formcreator&#039;][&#039;data&#039;] = Toolbox::stripslashes_deep($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1296" class="number uncovered">1296</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1297" class="number ">1297</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1298" class="number ">1298</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1299" class="number covered">1299</th>

                    <td class="covered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1300" class="number unreach">1300</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1301" class="number ">1301</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="sendNotification">
                    <th id="L1302" class="number ">1302</th>

                    <td class="" id="sendNotification">
                        <pre>   private function sendNotification() {<span class="label label-success">77%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1303" class="number covered">1303</th>

                    <td class="covered" >
                        <pre>      switch ($this-&gt;input[&#039;status&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1304" class="number ">1304</th>

                    <td class="" >
                        <pre>         case self::STATUS_WAITING :
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1305" class="number ">1305</th>

                    <td class="" >
                        <pre>            // Notify the requester
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1306" class="number covered">1306</th>

                    <td class="covered" >
                        <pre>            NotificationEvent::raiseEvent(&#039;plugin_formcreator_form_created&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1307" class="number ">1307</th>

                    <td class="" >
                        <pre>            // Notify the validator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1308" class="number covered">1308</th>

                    <td class="covered" >
                        <pre>            NotificationEvent::raiseEvent(&#039;plugin_formcreator_need_validation&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1309" class="number covered">1309</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1310" class="number ">1310</th>

                    <td class="" >
                        <pre>         case self::STATUS_REFUSED :
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1311" class="number ">1311</th>

                    <td class="" >
                        <pre>            // Notify the requester
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1312" class="number uncovered">1312</th>

                    <td class="uncovered" >
                        <pre>            NotificationEvent::raiseEvent(&#039;plugin_formcreator_refused&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1313" class="number uncovered">1313</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1314" class="number ">1314</th>

                    <td class="" >
                        <pre>         case self::STATUS_ACCEPTED :
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1315" class="number ">1315</th>

                    <td class="" >
                        <pre>            // Notify the requester
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1316" class="number covered">1316</th>

                    <td class="covered" >
                        <pre>            $form = new PluginFormcreatorForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1317" class="number covered">1317</th>

                    <td class="covered" >
                        <pre>            $form-&gt;getFromDB($this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1318" class="number covered">1318</th>

                    <td class="covered" >
                        <pre>            if ($form-&gt;fields[&#039;validation_required&#039;] != PluginFormcreatorForm::VALIDATION_NONE) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1319" class="number uncovered">1319</th>

                    <td class="uncovered" >
                        <pre>               NotificationEvent::raiseEvent(&#039;plugin_formcreator_accepted&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1320" class="number ">1320</th>

                    <td class="" >
                        <pre>            } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1321" class="number covered">1321</th>

                    <td class="covered" >
                        <pre>               NotificationEvent::raiseEvent(&#039;plugin_formcreator_form_created&#039;, $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1322" class="number ">1322</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1323" class="number ">1323</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1324" class="number covered">1324</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1325" class="number ">1325</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1326" class="number covered">1326</th>

                    <td class="covered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1327" class="number ">1327</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="createIssue">
                    <th id="L1328" class="number ">1328</th>

                    <td class="" id="createIssue">
                        <pre>   private function createIssue() {<span class="label label-success">96%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1329" class="number covered">1329</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1330" class="number ">1330</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1331" class="number covered">1331</th>

                    <td class="covered" >
                        <pre>      $issue = new PluginFormcreatorIssue();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1332" class="number covered">1332</th>

                    <td class="covered" >
                        <pre>      if ($this-&gt;input[&#039;status&#039;] != self::STATUS_REFUSED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1333" class="number ">1333</th>

                    <td class="" >
                        <pre>         // If cannot get itemTicket from DB it happens either
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1334" class="number ">1334</th>

                    <td class="" >
                        <pre>         // when no item exist
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1335" class="number ">1335</th>

                    <td class="" >
                        <pre>         // or when several rows matches
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1336" class="number ">1336</th>

                    <td class="" >
                        <pre>         // Both are processed the same way
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1337" class="number covered">1337</th>

                    <td class="covered" >
                        <pre>         $rows = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1338" class="number covered">1338</th>

                    <td class="covered" >
                        <pre>            &#039;SELECT&#039; =&gt; [&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1339" class="number covered">1339</th>

                    <td class="covered" >
                        <pre>            &#039;FROM&#039;   =&gt; Item_Ticket::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1340" class="number ">1340</th>

                    <td class="" >
                        <pre>            &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1341" class="number ">1341</th>

                    <td class="" >
                        <pre>               &#039;itemtype&#039; =&gt; PluginFormcreatorFormAnswer::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1342" class="number covered">1342</th>

                    <td class="covered" >
                        <pre>               &#039;items_id&#039; =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1343" class="number ">1343</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1344" class="number ">1344</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1345" class="number covered">1345</th>

                    <td class="covered" >
                        <pre>         if ($rows-&gt;count() != 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1346" class="number ">1346</th>

                    <td class="" >
                        <pre>            // There are several tickets for this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1347" class="number ">1347</th>

                    <td class="" >
                        <pre>            // The issue must be created from this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1348" class="number covered">1348</th>

                    <td class="covered" >
                        <pre>            $issue-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1349" class="number covered">1349</th>

                    <td class="covered" >
                        <pre>               &#039;original_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1350" class="number ">1350</th>

                    <td class="" >
                        <pre>               &#039;sub_itemtype&#039;    =&gt; PluginFormcreatorFormAnswer::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1351" class="number covered">1351</th>

                    <td class="covered" >
                        <pre>               &#039;name&#039;            =&gt; addslashes($this-&gt;fields[&#039;name&#039;]),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1352" class="number covered">1352</th>

                    <td class="covered" >
                        <pre>               &#039;status&#039;          =&gt; $this-&gt;fields[&#039;status&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1353" class="number covered">1353</th>

                    <td class="covered" >
                        <pre>               &#039;date_creation&#039;   =&gt; $this-&gt;fields[&#039;request_date&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1354" class="number covered">1354</th>

                    <td class="covered" >
                        <pre>               &#039;date_mod&#039;        =&gt; $this-&gt;fields[&#039;request_date&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1355" class="number covered">1355</th>

                    <td class="covered" >
                        <pre>               &#039;entities_id&#039;     =&gt; $this-&gt;fields[&#039;entities_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1356" class="number covered">1356</th>

                    <td class="covered" >
                        <pre>               &#039;is_recursive&#039;    =&gt; $this-&gt;fields[&#039;is_recursive&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1357" class="number covered">1357</th>

                    <td class="covered" >
                        <pre>               &#039;requester_id&#039;    =&gt; $this-&gt;fields[&#039;requester_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1358" class="number covered">1358</th>

                    <td class="covered" >
                        <pre>               &#039;validator_id&#039;    =&gt; $this-&gt;fields[&#039;users_id_validator&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1359" class="number covered">1359</th>

                    <td class="covered" >
                        <pre>               &#039;comment&#039;         =&gt; &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1360" class="number ">1360</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1361" class="number ">1361</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1362" class="number ">1362</th>

                    <td class="" >
                        <pre>            // There is one ticket for this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1363" class="number ">1363</th>

                    <td class="" >
                        <pre>            // The issue must be created from this ticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1364" class="number covered">1364</th>

                    <td class="covered" >
                        <pre>            $result = $rows-&gt;next();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1365" class="number covered">1365</th>

                    <td class="covered" >
                        <pre>            $itemTicket = new Item_Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1366" class="number covered">1366</th>

                    <td class="covered" >
                        <pre>            $itemTicket-&gt;getFromDB($result[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1367" class="number covered">1367</th>

                    <td class="covered" >
                        <pre>            $ticket = new Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1368" class="number covered">1368</th>

                    <td class="covered" >
                        <pre>            if (!$ticket-&gt;getFromDB($itemTicket-&gt;fields[&#039;tickets_id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1369" class="number uncovered">1369</th>

                    <td class="uncovered" >
                        <pre>               throw new RuntimeException(&#039;Formcreator: Missing ticket &#039; . $itemTicket-&gt;fields[&#039;tickets_id&#039;] . &#039; for formanswer &#039; . $this-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1370" class="number ">1370</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1371" class="number covered">1371</th>

                    <td class="covered" >
                        <pre>            $ticketId = $ticket-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1372" class="number covered">1372</th>

                    <td class="covered" >
                        <pre>            $ticketUser = new Ticket_User();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1373" class="number covered">1373</th>

                    <td class="covered" >
                        <pre>            $ticketUserRow = $ticketUser-&gt;find([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1374" class="number covered">1374</th>

                    <td class="covered" >
                        <pre>               &#039;tickets_id&#039; =&gt; $ticketId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1375" class="number uncovered">1375</th>

                    <td class="uncovered" >
                        <pre>               &#039;type&#039; =&gt; CommonITILActor::REQUESTER,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1376" class="number ">1376</th>

                    <td class="" >
                        <pre>               ], [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1377" class="number covered">1377</th>

                    <td class="covered" >
                        <pre>                  &#039;id ASC&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1378" class="number ">1378</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1379" class="number covered">1379</th>

                    <td class="covered" >
                        <pre>               1</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1380" class="number ">1380</th>

                    <td class="" >
                        <pre>            );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1381" class="number covered">1381</th>

                    <td class="covered" >
                        <pre>            $ticketUserRow = array_pop($ticketUserRow);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1382" class="number covered">1382</th>

                    <td class="covered" >
                        <pre>            $issue-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1383" class="number covered">1383</th>

                    <td class="covered" >
                        <pre>               &#039;original_id&#039;     =&gt; $ticketId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1384" class="number ">1384</th>

                    <td class="" >
                        <pre>               &#039;sub_itemtype&#039;    =&gt; Ticket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1385" class="number covered">1385</th>

                    <td class="covered" >
                        <pre>               &#039;name&#039;            =&gt; addslashes($ticket-&gt;getField(&#039;name&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1386" class="number covered">1386</th>

                    <td class="covered" >
                        <pre>               &#039;status&#039;          =&gt; $ticket-&gt;getField(&#039;status&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1387" class="number covered">1387</th>

                    <td class="covered" >
                        <pre>               &#039;date_creation&#039;   =&gt; $ticket-&gt;getField(&#039;date&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1388" class="number covered">1388</th>

                    <td class="covered" >
                        <pre>               &#039;date_mod&#039;        =&gt; $ticket-&gt;getField(&#039;date_mod&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1389" class="number covered">1389</th>

                    <td class="covered" >
                        <pre>               &#039;entities_id&#039;     =&gt; $ticket-&gt;getField(&#039;entities_id&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1390" class="number covered">1390</th>

                    <td class="covered" >
                        <pre>               &#039;is_recursive&#039;    =&gt; &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1391" class="number covered">1391</th>

                    <td class="covered" >
                        <pre>               &#039;requester_id&#039;    =&gt; $ticketUserRow[&#039;users_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1392" class="number covered">1392</th>

                    <td class="covered" >
                        <pre>               &#039;validator_id&#039;    =&gt; &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1393" class="number covered">1393</th>

                    <td class="covered" >
                        <pre>               &#039;comment&#039;         =&gt; addslashes($ticket-&gt;getField(&#039;content&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1394" class="number ">1394</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1395" class="number ">1395</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1396" class="number ">1396</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1397" class="number covered">1397</th>

                    <td class="covered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1398" class="number ">1398</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="updateIssue">
                    <th id="L1399" class="number ">1399</th>

                    <td class="" id="updateIssue">
                        <pre>   private function updateIssue() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1400" class="number uncovered">1400</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1401" class="number ">1401</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1402" class="number uncovered">1402</th>

                    <td class="uncovered" >
                        <pre>      $issue = new PluginFormcreatorIssue();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1403" class="number uncovered">1403</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;input[&#039;status&#039;] != self::STATUS_REFUSED) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1404" class="number uncovered">1404</th>

                    <td class="uncovered" >
                        <pre>         $rows = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1405" class="number uncovered">1405</th>

                    <td class="uncovered" >
                        <pre>            &#039;SELECT&#039; =&gt; [&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1406" class="number uncovered">1406</th>

                    <td class="uncovered" >
                        <pre>            &#039;FROM&#039;   =&gt; Item_Ticket::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1407" class="number ">1407</th>

                    <td class="" >
                        <pre>            &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1408" class="number ">1408</th>

                    <td class="" >
                        <pre>               &#039;itemtype&#039; =&gt; PluginFormcreatorFormAnswer::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1409" class="number uncovered">1409</th>

                    <td class="uncovered" >
                        <pre>               &#039;items_id&#039; =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1410" class="number ">1410</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1411" class="number ">1411</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1412" class="number uncovered">1412</th>

                    <td class="uncovered" >
                        <pre>         if ($rows-&gt;count() != 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1413" class="number ">1413</th>

                    <td class="" >
                        <pre>            // There are several tickets for this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1414" class="number ">1414</th>

                    <td class="" >
                        <pre>            // The issue must be updated from this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1415" class="number uncovered">1415</th>

                    <td class="uncovered" >
                        <pre>            $issue-&gt;getFromDBByCrit([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1416" class="number ">1416</th>

                    <td class="" >
                        <pre>               &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1417" class="number uncovered">1417</th>

                    <td class="uncovered" >
                        <pre>               &#039;sub_itemtype&#039; =&gt; PluginFormcreatorFormAnswer::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1418" class="number uncovered">1418</th>

                    <td class="uncovered" >
                        <pre>               &#039;original_id&#039;  =&gt; $this-&gt;getID()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1419" class="number ">1419</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1420" class="number ">1420</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1421" class="number uncovered">1421</th>

                    <td class="uncovered" >
                        <pre>            $issue-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1422" class="number uncovered">1422</th>

                    <td class="uncovered" >
                        <pre>               &#039;id&#039;              =&gt; $issue-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1423" class="number uncovered">1423</th>

                    <td class="uncovered" >
                        <pre>               &#039;original_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1424" class="number ">1424</th>

                    <td class="" >
                        <pre>               &#039;sub_itemtype&#039;    =&gt; PluginFormcreatorFormAnswer::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1425" class="number uncovered">1425</th>

                    <td class="uncovered" >
                        <pre>               &#039;name&#039;            =&gt; addslashes($this-&gt;fields[&#039;name&#039;]),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1426" class="number uncovered">1426</th>

                    <td class="uncovered" >
                        <pre>               &#039;status&#039;          =&gt; $this-&gt;fields[&#039;status&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1427" class="number uncovered">1427</th>

                    <td class="uncovered" >
                        <pre>               &#039;date_creation&#039;   =&gt; $this-&gt;fields[&#039;request_date&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1428" class="number uncovered">1428</th>

                    <td class="uncovered" >
                        <pre>               &#039;date_mod&#039;        =&gt; $this-&gt;fields[&#039;request_date&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1429" class="number uncovered">1429</th>

                    <td class="uncovered" >
                        <pre>               &#039;entities_id&#039;     =&gt; $this-&gt;fields[&#039;entities_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1430" class="number uncovered">1430</th>

                    <td class="uncovered" >
                        <pre>               &#039;is_recursive&#039;    =&gt; $this-&gt;fields[&#039;is_recursive&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1431" class="number uncovered">1431</th>

                    <td class="uncovered" >
                        <pre>               &#039;requester_id&#039;    =&gt; $this-&gt;fields[&#039;requester_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1432" class="number uncovered">1432</th>

                    <td class="uncovered" >
                        <pre>               &#039;validator_id&#039;    =&gt; $this-&gt;fields[&#039;users_id_validator&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1433" class="number uncovered">1433</th>

                    <td class="uncovered" >
                        <pre>               &#039;comment&#039;         =&gt; &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1434" class="number ">1434</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1435" class="number ">1435</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1436" class="number ">1436</th>

                    <td class="" >
                        <pre>            // There is one ticket for this form answer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1437" class="number ">1437</th>

                    <td class="" >
                        <pre>            // The issue must be updated from this ticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1438" class="number uncovered">1438</th>

                    <td class="uncovered" >
                        <pre>            $result = $rows-&gt;next();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1439" class="number uncovered">1439</th>

                    <td class="uncovered" >
                        <pre>            $itemTicket = new Item_Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1440" class="number uncovered">1440</th>

                    <td class="uncovered" >
                        <pre>            $itemTicket-&gt;getFromDB($result[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1441" class="number uncovered">1441</th>

                    <td class="uncovered" >
                        <pre>            $ticket = new Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1442" class="number uncovered">1442</th>

                    <td class="uncovered" >
                        <pre>            if (!$ticket-&gt;getFromDB($itemTicket-&gt;fields[&#039;tickets_id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1443" class="number uncovered">1443</th>

                    <td class="uncovered" >
                        <pre>               throw new RuntimeException(&#039;Formcreator: Missing ticket &#039; . $itemTicket-&gt;fields[&#039;tickets_id&#039;] . &#039; for formanswer &#039; . $this-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1444" class="number ">1444</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1445" class="number uncovered">1445</th>

                    <td class="uncovered" >
                        <pre>            $ticketId = $ticket-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1446" class="number uncovered">1446</th>

                    <td class="uncovered" >
                        <pre>            $ticketUser = new Ticket_User();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1447" class="number uncovered">1447</th>

                    <td class="uncovered" >
                        <pre>            $ticketUserRow = $ticketUser-&gt;find([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1448" class="number uncovered">1448</th>

                    <td class="uncovered" >
                        <pre>                  &#039;tickets_id&#039; =&gt; $ticketId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1449" class="number uncovered">1449</th>

                    <td class="uncovered" >
                        <pre>                  &#039;type&#039; =&gt; CommonITILActor::REQUESTER,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1450" class="number ">1450</th>

                    <td class="" >
                        <pre>               ], [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1451" class="number uncovered">1451</th>

                    <td class="uncovered" >
                        <pre>                  &#039;id ASC&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1452" class="number ">1452</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1453" class="number uncovered">1453</th>

                    <td class="uncovered" >
                        <pre>               1</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1454" class="number ">1454</th>

                    <td class="" >
                        <pre>            );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1455" class="number uncovered">1455</th>

                    <td class="uncovered" >
                        <pre>            $ticketUserRow = array_pop($ticketUserRow);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1456" class="number uncovered">1456</th>

                    <td class="uncovered" >
                        <pre>            $issue-&gt;getFromDBByCrit([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1457" class="number ">1457</th>

                    <td class="" >
                        <pre>               &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1458" class="number uncovered">1458</th>

                    <td class="uncovered" >
                        <pre>                 &#039;sub_itemtype&#039; =&gt; PluginFormcreatorFormAnswer::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1459" class="number uncovered">1459</th>

                    <td class="uncovered" >
                        <pre>                 &#039;original_id&#039;  =&gt; $this-&gt;getID()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1460" class="number ">1460</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1461" class="number ">1461</th>

                    <td class="" >
                        <pre>             ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1462" class="number uncovered">1462</th>

                    <td class="uncovered" >
                        <pre>             $issue-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1463" class="number uncovered">1463</th>

                    <td class="uncovered" >
                        <pre>                &#039;id&#039;              =&gt; $issue-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1464" class="number uncovered">1464</th>

                    <td class="uncovered" >
                        <pre>                &#039;original_id&#039;     =&gt; $ticketId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1465" class="number ">1465</th>

                    <td class="" >
                        <pre>                &#039;sub_itemtype&#039;    =&gt; Ticket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1466" class="number uncovered">1466</th>

                    <td class="uncovered" >
                        <pre>                &#039;name&#039;            =&gt; addslashes($ticket-&gt;getField(&#039;name&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1467" class="number uncovered">1467</th>

                    <td class="uncovered" >
                        <pre>                &#039;status&#039;          =&gt; $ticket-&gt;getField(&#039;status&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1468" class="number uncovered">1468</th>

                    <td class="uncovered" >
                        <pre>                &#039;date_creation&#039;   =&gt; $ticket-&gt;getField(&#039;date&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1469" class="number uncovered">1469</th>

                    <td class="uncovered" >
                        <pre>                &#039;date_mod&#039;        =&gt; $ticket-&gt;getField(&#039;date_mod&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1470" class="number uncovered">1470</th>

                    <td class="uncovered" >
                        <pre>                &#039;entities_id&#039;     =&gt; $ticket-&gt;getField(&#039;entities_id&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1471" class="number uncovered">1471</th>

                    <td class="uncovered" >
                        <pre>                &#039;is_recursive&#039;    =&gt; &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1472" class="number uncovered">1472</th>

                    <td class="uncovered" >
                        <pre>                &#039;requester_id&#039;    =&gt; $ticketUserRow[&#039;users_id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1473" class="number uncovered">1473</th>

                    <td class="uncovered" >
                        <pre>                &#039;validator_id&#039;    =&gt; &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1474" class="number uncovered">1474</th>

                    <td class="uncovered" >
                        <pre>                &#039;comment&#039;         =&gt; addslashes($ticket-&gt;getField(&#039;content&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1475" class="number ">1475</th>

                    <td class="" >
                        <pre>             ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1476" class="number ">1476</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1477" class="number ">1477</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1478" class="number uncovered">1478</th>

                    <td class="uncovered" >
                        <pre>         $issue-&gt;getFromDBByCrit([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1479" class="number ">1479</th>

                    <td class="" >
                        <pre>            &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1480" class="number uncovered">1480</th>

                    <td class="uncovered" >
                        <pre>              &#039;sub_itemtype&#039; =&gt; PluginFormcreatorFormAnswer::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1481" class="number uncovered">1481</th>

                    <td class="uncovered" >
                        <pre>              &#039;original_id&#039;  =&gt; $this-&gt;getID()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1482" class="number ">1482</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1483" class="number ">1483</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1484" class="number uncovered">1484</th>

                    <td class="uncovered" >
                        <pre>         $issue-&gt;update([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1485" class="number uncovered">1485</th>

                    <td class="uncovered" >
                        <pre>            &#039;id&#039;              =&gt; $issue-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1486" class="number ">1486</th>

                    <td class="" >
                        <pre>            &#039;sub_itemtype&#039;    =&gt; PluginFormcreatorFormAnswer::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1487" class="number uncovered">1487</th>

                    <td class="uncovered" >
                        <pre>            &#039;original_id&#039;     =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1488" class="number uncovered">1488</th>

                    <td class="uncovered" >
                        <pre>            &#039;status&#039;          =&gt; $this-&gt;fields[&#039;status&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1489" class="number ">1489</th>

                    <td class="" >
                        <pre>         ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1490" class="number ">1490</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1491" class="number uncovered">1491</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1492" class="number ">1492</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1493" class="number ">1493</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1494" class="number ">1494</th>

                    <td class="" >
                        <pre>    * @param integer $limit The N last answers found
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1495" class="number ">1495</th>

                    <td class="" >
                        <pre>    * @return DBMysqlIterator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1496" class="number ">1496</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getMyLastAnswersAsRequester">
                    <th id="L1497" class="number ">1497</th>

                    <td class="" id="getMyLastAnswersAsRequester">
                        <pre>   public static function getMyLastAnswersAsRequester($limit = 5) {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1498" class="number covered">1498</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1499" class="number ">1499</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1500" class="number covered">1500</th>

                    <td class="covered" >
                        <pre>      $formAnswerTable = self::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1501" class="number covered">1501</th>

                    <td class="covered" >
                        <pre>      $formTable = PluginFormcreatorForm::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1502" class="number ">1502</th>

                    <td class="" >
                        <pre>      $request = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1503" class="number ">1503</th>

                    <td class="" >
                        <pre>         &#039;SELECT&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1504" class="number covered">1504</th>

                    <td class="covered" >
                        <pre>            $formTable =&gt; [&#039;name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1505" class="number ">1505</th>

                    <td class="" >
                        <pre>            $formAnswerTable =&gt; [&#039;id&#039;, &#039;status&#039;, &#039;request_date&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1506" class="number ">1506</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1507" class="number covered">1507</th>

                    <td class="covered" >
                        <pre>         &#039;FROM&#039; =&gt; $formTable,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1508" class="number ">1508</th>

                    <td class="" >
                        <pre>         &#039;INNER JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1509" class="number ">1509</th>

                    <td class="" >
                        <pre>            $formAnswerTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1510" class="number ">1510</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1511" class="number covered">1511</th>

                    <td class="covered" >
                        <pre>                  $formTable =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1512" class="number covered">1512</th>

                    <td class="covered" >
                        <pre>                  $formAnswerTable =&gt; PluginFormcreatorForm::getForeignKeyField(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1513" class="number ">1513</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1514" class="number ">1514</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1515" class="number ">1515</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1516" class="number ">1516</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1517" class="number covered">1517</th>

                    <td class="covered" >
                        <pre>            &quot;$formAnswerTable.requester_id&quot; =&gt; Session::getLoginUserID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1518" class="number covered">1518</th>

                    <td class="covered" >
                        <pre>            &quot;$formTable.is_deleted&quot; =&gt; 0,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1519" class="number ">1519</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1520" class="number ">1520</th>

                    <td class="" >
                        <pre>         &#039;ORDER&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1521" class="number covered">1521</th>

                    <td class="covered" >
                        <pre>            &quot;$formAnswerTable.status ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1522" class="number covered">1522</th>

                    <td class="covered" >
                        <pre>            &quot;$formAnswerTable.request_date DESC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1523" class="number ">1523</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1524" class="number covered">1524</th>

                    <td class="covered" >
                        <pre>         &#039;LIMIT&#039; =&gt; $limit,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1525" class="number ">1525</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1526" class="number ">1526</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1527" class="number covered">1527</th>

                    <td class="covered" >
                        <pre>      return $DB-&gt;request($request);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1528" class="number unreach">1528</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1529" class="number ">1529</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1530" class="number ">1530</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1531" class="number ">1531</th>

                    <td class="" >
                        <pre>    * @param integer $limit The N last answers found
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1532" class="number ">1532</th>

                    <td class="" >
                        <pre>    * @return DBMysqlIterator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1533" class="number ">1533</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getMyLastAnswersAsValidator">
                    <th id="L1534" class="number ">1534</th>

                    <td class="" id="getMyLastAnswersAsValidator">
                        <pre>   public static function getMyLastAnswersAsValidator($limit = 5) {<span class="label label-success">82%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1535" class="number covered">1535</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1536" class="number ">1536</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1537" class="number covered">1537</th>

                    <td class="covered" >
                        <pre>      $userId = Session::getLoginUserID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1538" class="number covered">1538</th>

                    <td class="covered" >
                        <pre>      $groupList = Group_User::getUserGroups($userId);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1539" class="number covered">1539</th>

                    <td class="covered" >
                        <pre>      $groupIdList = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1540" class="number covered">1540</th>

                    <td class="covered" >
                        <pre>      foreach ($groupList as $group) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1541" class="number uncovered">1541</th>

                    <td class="uncovered" >
                        <pre>         $groupIdList[] = $group[&#039;id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1542" class="number ">1542</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1543" class="number ">1543</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1544" class="number covered">1544</th>

                    <td class="covered" >
                        <pre>      $formAnswerTable = self::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1545" class="number covered">1545</th>

                    <td class="covered" >
                        <pre>      $formTable = PluginFormcreatorForm::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1546" class="number covered">1546</th>

                    <td class="covered" >
                        <pre>      $validatorTable = PluginFormcreatorForm_Validator::getTable();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1547" class="number covered">1547</th>

                    <td class="covered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1548" class="number ">1548</th>

                    <td class="" >
                        <pre>      $request = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1549" class="number ">1549</th>

                    <td class="" >
                        <pre>         &#039;SELECT&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1550" class="number covered">1550</th>

                    <td class="covered" >
                        <pre>            $formTable =&gt; [&#039;name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1551" class="number ">1551</th>

                    <td class="" >
                        <pre>            $formAnswerTable =&gt; [&#039;id&#039;, &#039;status&#039;, &#039;request_date&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1552" class="number ">1552</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1553" class="number covered">1553</th>

                    <td class="covered" >
                        <pre>         &#039;FROM&#039; =&gt; $formTable,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1554" class="number ">1554</th>

                    <td class="" >
                        <pre>         &#039;INNER JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1555" class="number ">1555</th>

                    <td class="" >
                        <pre>            $formAnswerTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1556" class="number ">1556</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1557" class="number covered">1557</th>

                    <td class="covered" >
                        <pre>                  $formTable =&gt; &#039;id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1558" class="number covered">1558</th>

                    <td class="covered" >
                        <pre>                  $formAnswerTable =&gt; PluginFormcreatorForm::getForeignKeyField(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1559" class="number ">1559</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1560" class="number ">1560</th>

                    <td class="" >
                        <pre>            ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1561" class="number ">1561</th>

                    <td class="" >
                        <pre>            $validatorTable =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1562" class="number ">1562</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1563" class="number covered">1563</th>

                    <td class="covered" >
                        <pre>                  $validatorTable =&gt; $formFk,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1564" class="number covered">1564</th>

                    <td class="covered" >
                        <pre>                  $formTable =&gt; &#039;id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1565" class="number ">1565</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1566" class="number ">1566</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1567" class="number ">1567</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1568" class="number ">1568</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1569" class="number ">1569</th>

                    <td class="" >
                        <pre>            &#039;OR&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1570" class="number ">1570</th>

                    <td class="" >
                        <pre>               [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1571" class="number ">1571</th>

                    <td class="" >
                        <pre>                  &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1572" class="number covered">1572</th>

                    <td class="covered" >
                        <pre>                     &quot;$formTable.validation_required&quot; =&gt; 1,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1573" class="number uncovered">1573</th>

                    <td class="uncovered" >
                        <pre>                     &quot;$validatorTable.itemtype&quot; =&gt; User::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1574" class="number covered">1574</th>

                    <td class="covered" >
                        <pre>                     &quot;$validatorTable.items_id&quot; =&gt; $userId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1575" class="number covered">1575</th>

                    <td class="covered" >
                        <pre>                     &quot;$formAnswerTable.users_id_validator&quot; =&gt; $userId</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1576" class="number ">1576</th>

                    <td class="" >
                        <pre>                  ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1577" class="number ">1577</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1578" class="number ">1578</th>

                    <td class="" >
                        <pre>               [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1579" class="number ">1579</th>

                    <td class="" >
                        <pre>                  &#039;AND&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1580" class="number covered">1580</th>

                    <td class="covered" >
                        <pre>                     &quot;$formTable.validation_required&quot; =&gt; 2,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1581" class="number uncovered">1581</th>

                    <td class="uncovered" >
                        <pre>                     &quot;$validatorTable.itemtype&quot; =&gt; Group::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1582" class="number uncovered">1582</th>

                    <td class="uncovered" >
                        <pre>                     &quot;$validatorTable.items_id&quot; =&gt; $groupIdList + [&#039;NULL&#039;, &#039;0&#039;, &#039;&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1583" class="number uncovered">1583</th>

                    <td class="uncovered" >
                        <pre>                     &quot;$formAnswerTable.groups_id_validator&quot; =&gt; $groupIdList + [&#039;NULL&#039;, &#039;0&#039;, &#039;&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1584" class="number ">1584</th>

                    <td class="" >
                        <pre>                  ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1585" class="number ">1585</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1586" class="number ">1586</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1587" class="number ">1587</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1588" class="number ">1588</th>

                    <td class="" >
                        <pre>         &#039;ORDER&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1589" class="number covered">1589</th>

                    <td class="covered" >
                        <pre>            &quot;$formAnswerTable.status ASC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1590" class="number covered">1590</th>

                    <td class="covered" >
                        <pre>            &quot;$formAnswerTable.request_date DESC&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1591" class="number ">1591</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1592" class="number covered">1592</th>

                    <td class="covered" >
                        <pre>         &#039;LIMIT&#039; =&gt; $limit,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1593" class="number ">1593</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1594" class="number ">1594</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1595" class="number covered">1595</th>

                    <td class="covered" >
                        <pre>      return $DB-&gt;request($request);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1596" class="number unreach">1596</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1597" class="number ">1597</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                        </tbody>
        </table>
    </div>
    </div>

    <footer class="row">
        <div class="col-lg-12">
            <small class="pull-right">Powered by <a href="http://atoum.org"><img src="assets/logo.png" alt="atoum"/></a></small>
        </div>
    </footer>
</div>

<script>
    $(function() {
        $('table.sort').tablesorter();
    })
</script>

</body>

</html>

---
layout: coverage
---
<html>

<head>
    <script src="assets/d3.js" charset="utf-8"></script>
    <script src="assets/dagre-d3.js"></script>
    <script src="assets/jquery.js"></script>
    <script src="assets/jquery.tablesorter.js"></script>
    <script src="assets/report.js"></script>

    <link rel="stylesheet" href="assets/font-awesome.min.css">
</head>

<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html"><img src="assets/logo.png" alt="atoum"/> Code coverage report</a>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="col-lg-12">
            <div class="row">
        <h1>PluginFormcreatorTargetTicket: lines coverage</h1>

        


<table class="table table-bordered">
    <tr>
        
                    <td style="text-align: center; width: 100%">
                <h1 class="text-warning">
                    34%
                                            <small>of 670</small>
                                    </h1>
                <strong>Lines</strong>
            </td>
        
        
            </tr>
</table>

<table class="table table-bordered table-striped table-hover sort">
    <thead>
    <tr>
        <th>Method <i class="fa"></i></th>
                            <th style="text-align: center">Lines <i class="fa"></i></th>
            <th style="text-align: center">Line % <i class="fa"></i></th>
                            </tr>
    </thead>

    <tbody>
            <tr>
            <td><a href="#getTypeName">PluginFormcreatorTargetTicket::getTypeName()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getItem_User">PluginFormcreatorTargetTicket::getItem_User()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getItem_Group">PluginFormcreatorTargetTicket::getItem_Group()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getItem_Supplier">PluginFormcreatorTargetTicket::getItem_Supplier()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getItem_Item">PluginFormcreatorTargetTicket::getItem_Item()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTargetItemtypeName">PluginFormcreatorTargetTicket::getTargetItemtypeName()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getItem_Actor">PluginFormcreatorTargetTicket::getItem_Actor()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getCategoryFilter">PluginFormcreatorTargetTicket::getCategoryFilter()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getEnumAssociateRule">PluginFormcreatorTargetTicket::getEnumAssociateRule()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getEnumRequestTypeRule">PluginFormcreatorTargetTicket::getEnumRequestTypeRule()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showForm">PluginFormcreatorTargetTicket::showForm()</a></td>
                                        <td style="text-align: center">85</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showCompositeTicketSettings">PluginFormcreatorTargetTicket::showCompositeTicketSettings()</a></td>
                                        <td style="text-align: center">77</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#prepareInputForAdd">PluginFormcreatorTargetTicket::prepareInputForAdd()</a></td>
                                        <td style="text-align: center">2</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#prepareInputForUpdate">PluginFormcreatorTargetTicket::prepareInputForUpdate()</a></td>
                                        <td style="text-align: center">76</td>
                <td style="text-align: center">    
    <span class="label label-danger">7%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#pre_purgeItem">PluginFormcreatorTargetTicket::pre_purgeItem()</a></td>
                                        <td style="text-align: center">13</td>
                <td style="text-align: center">    
    <span class="label label-warning">62%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_addItem">PluginFormcreatorTargetTicket::post_addItem()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_updateItem">PluginFormcreatorTargetTicket::post_updateItem()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-success">75%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#saveLinkedItem">PluginFormcreatorTargetTicket::saveLinkedItem()</a></td>
                                        <td style="text-align: center">28</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#save">PluginFormcreatorTargetTicket::save()</a></td>
                                        <td style="text-align: center">102</td>
                <td style="text-align: center">    
    <span class="label label-warning">66%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#setTargetLocation">PluginFormcreatorTargetTicket::setTargetLocation()</a></td>
                                        <td style="text-align: center">18</td>
                <td style="text-align: center">    
    <span class="label label-warning">39%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#setTargetType">PluginFormcreatorTargetTicket::setTargetType()</a></td>
                                        <td style="text-align: center">17</td>
                <td style="text-align: center">    
    <span class="label label-success">94%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showTypeSettings">PluginFormcreatorTargetTicket::showTypeSettings()</a></td>
                                        <td style="text-align: center">28</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showAssociateSettings">PluginFormcreatorTargetTicket::showAssociateSettings()</a></td>
                                        <td style="text-align: center">38</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#setTargetAssociatedItem">PluginFormcreatorTargetTicket::setTargetAssociatedItem()</a></td>
                                        <td style="text-align: center">45</td>
                <td style="text-align: center">    
    <span class="label label-success">82%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#import">PluginFormcreatorTargetTicket::import()</a></td>
                                        <td style="text-align: center">56</td>
                <td style="text-align: center">    
    <span class="label label-success">71%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTaggableFields">PluginFormcreatorTargetTicket::getTaggableFields()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#export">PluginFormcreatorTargetTicket::export()</a></td>
                                        <td style="text-align: center">33</td>
                <td style="text-align: center">    
    <span class="label label-success">82%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#saveAssociatedItems">PluginFormcreatorTargetTicket::saveAssociatedItems()</a></td>
                                        <td style="text-align: center">17</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTargetTicketsForForm">PluginFormcreatorTargetTicket::getTargetTicketsForForm()</a></td>
                                        <td style="text-align: center">11</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
        </tbody>
</table>

        <table class="table table-bordered table-stripped">
            <thead>
            <tr>
                <th>#</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
                            <tr class="line" id="">
                    <th id="L1" class="number ">1</th>

                    <td class="" >
                        <pre>&lt;?php
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L2" class="number ">2</th>

                    <td class="" >
                        <pre>/**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L3" class="number ">3</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L4" class="number ">4</th>

                    <td class="" >
                        <pre> * Formcreator is a plugin which allows creation of custom forms of
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L5" class="number ">5</th>

                    <td class="" >
                        <pre> * easy access.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L6" class="number ">6</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L7" class="number ">7</th>

                    <td class="" >
                        <pre> * LICENSE
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L8" class="number ">8</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L9" class="number ">9</th>

                    <td class="" >
                        <pre> * This file is part of Formcreator.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L10" class="number ">10</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L11" class="number ">11</th>

                    <td class="" >
                        <pre> * Formcreator is free software; you can redistribute it and/or modify
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L12" class="number ">12</th>

                    <td class="" >
                        <pre> * it under the terms of the GNU General Public License as published by
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L13" class="number ">13</th>

                    <td class="" >
                        <pre> * the Free Software Foundation; either version 2 of the License, or
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L14" class="number ">14</th>

                    <td class="" >
                        <pre> * (at your option) any later version.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L15" class="number ">15</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L16" class="number ">16</th>

                    <td class="" >
                        <pre> * Formcreator is distributed in the hope that it will be useful,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L17" class="number ">17</th>

                    <td class="" >
                        <pre> * but WITHOUT ANY WARRANTY; without even the implied warranty of
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L18" class="number ">18</th>

                    <td class="" >
                        <pre> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L19" class="number ">19</th>

                    <td class="" >
                        <pre> * GNU General Public License for more details.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L20" class="number ">20</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L21" class="number ">21</th>

                    <td class="" >
                        <pre> * You should have received a copy of the GNU General Public License
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L22" class="number ">22</th>

                    <td class="" >
                        <pre> * along with Formcreator. If not, see &lt;http://www.gnu.org/licenses/&gt;.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L23" class="number ">23</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L24" class="number ">24</th>

                    <td class="" >
                        <pre> * @copyright Copyright © 2011 - 2020 Teclib&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L25" class="number ">25</th>

                    <td class="" >
                        <pre> * @license   http://www.gnu.org/licenses/gpl.txt GPLv3+
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L26" class="number ">26</th>

                    <td class="" >
                        <pre> * @link      https://github.com/pluginsGLPI/formcreator/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L27" class="number ">27</th>

                    <td class="" >
                        <pre> * @link      https://pluginsglpi.github.io/formcreator/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L28" class="number ">28</th>

                    <td class="" >
                        <pre> * @link      http://plugins.glpi-project.org/#/plugin/formcreator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L29" class="number ">29</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L30" class="number ">30</th>

                    <td class="" >
                        <pre> */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L31" class="number ">31</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L32" class="number ">32</th>

                    <td class="" >
                        <pre>use GlpiPlugin\Formcreator\Exception\ImportFailureException;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L33" class="number ">33</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L34" class="number ">34</th>

                    <td class="" >
                        <pre>if (!defined(&#039;GLPI_ROOT&#039;)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L35" class="number ">35</th>

                    <td class="" >
                        <pre>   die(&quot;Sorry. You can&#039;t access this file directly&quot;);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L36" class="number ">36</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L37" class="number ">37</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L38" class="number ">38</th>

                    <td class="" >
                        <pre>class PluginFormcreatorTargetTicket extends PluginFormcreatorTargetBase
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L39" class="number ">39</th>

                    <td class="" >
                        <pre>{
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L40" class="number ">40</th>

                    <td class="" >
                        <pre>   const ASSOCIATE_RULE_NONE = 1;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L41" class="number ">41</th>

                    <td class="" >
                        <pre>   const ASSOCIATE_RULE_SPECIFIC = 2;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L42" class="number ">42</th>

                    <td class="" >
                        <pre>   const ASSOCIATE_RULE_ANSWER = 3;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L43" class="number ">43</th>

                    <td class="" >
                        <pre>   const ASSOCIATE_RULE_LAST_ANSWER = 4;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L44" class="number ">44</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L45" class="number ">45</th>

                    <td class="" >
                        <pre>   const REQUESTTYPE_NONE = 0;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L46" class="number ">46</th>

                    <td class="" >
                        <pre>   const REQUESTTYPE_SPECIFIC = 1;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L47" class="number ">47</th>

                    <td class="" >
                        <pre>   const REQUESTTYPE_ANSWER = 2;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L48" class="number ">48</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L49" class="number ">49</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTypeName">
                    <th id="L50" class="number ">50</th>

                    <td class="" id="getTypeName">
                        <pre>   public static function getTypeName($nb = 1) {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L51" class="number covered">51</th>

                    <td class="covered" >
                        <pre>      return _n(&#039;Target ticket&#039;, &#039;Target tickets&#039;, $nb, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L52" class="number unreach">52</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L53" class="number ">53</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getItem_User">
                    <th id="L54" class="number ">54</th>

                    <td class="" id="getItem_User">
                        <pre>   protected function getItem_User() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L55" class="number covered">55</th>

                    <td class="covered" >
                        <pre>      return new Ticket_User();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L56" class="number unreach">56</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L57" class="number ">57</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getItem_Group">
                    <th id="L58" class="number ">58</th>

                    <td class="" id="getItem_Group">
                        <pre>   protected function getItem_Group() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L59" class="number covered">59</th>

                    <td class="covered" >
                        <pre>      return new Group_Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L60" class="number unreach">60</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L61" class="number ">61</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getItem_Supplier">
                    <th id="L62" class="number ">62</th>

                    <td class="" id="getItem_Supplier">
                        <pre>   protected function getItem_Supplier() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L63" class="number covered">63</th>

                    <td class="covered" >
                        <pre>      return new Supplier_Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L64" class="number unreach">64</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L65" class="number ">65</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getItem_Item">
                    <th id="L66" class="number ">66</th>

                    <td class="" id="getItem_Item">
                        <pre>   protected function getItem_Item() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L67" class="number covered">67</th>

                    <td class="covered" >
                        <pre>      return new Item_Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L68" class="number unreach">68</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L69" class="number ">69</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTargetItemtypeName">
                    <th id="L70" class="number ">70</th>

                    <td class="" id="getTargetItemtypeName">
                        <pre>   protected function getTargetItemtypeName() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L71" class="number covered">71</th>

                    <td class="covered" >
                        <pre>      return Ticket::class;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L72" class="number unreach">72</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L73" class="number ">73</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getItem_Actor">
                    <th id="L74" class="number ">74</th>

                    <td class="" id="getItem_Actor">
                        <pre>   public function getItem_Actor() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L75" class="number covered">75</th>

                    <td class="covered" >
                        <pre>      return new PluginFormcreatorTargetTicket_Actor();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L76" class="number unreach">76</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L77" class="number ">77</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getCategoryFilter">
                    <th id="L78" class="number ">78</th>

                    <td class="" id="getCategoryFilter">
                        <pre>   protected function getCategoryFilter() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L79" class="number ">79</th>

                    <td class="" >
                        <pre>      return [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L80" class="number ">80</th>

                    <td class="" >
                        <pre>         &#039;OR&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L81" class="number covered">81</th>

                    <td class="covered" >
                        <pre>            &#039;is_request&#039;  =&gt; 1,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L82" class="number ">82</th>

                    <td class="" >
                        <pre>            &#039;is_incident&#039; =&gt; 1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L83" class="number ">83</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L84" class="number ">84</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L85" class="number unreach">85</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L86" class="number ">86</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getEnumAssociateRule">
                    <th id="L87" class="number ">87</th>

                    <td class="" id="getEnumAssociateRule">
                        <pre>   public static function getEnumAssociateRule() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L88" class="number ">88</th>

                    <td class="" >
                        <pre>      return [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L89" class="number covered">89</th>

                    <td class="covered" >
                        <pre>         self::ASSOCIATE_RULE_NONE        =&gt; __(&#039;None&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L90" class="number covered">90</th>

                    <td class="covered" >
                        <pre>         self::ASSOCIATE_RULE_SPECIFIC    =&gt; __(&#039;Specific asset&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L91" class="number covered">91</th>

                    <td class="covered" >
                        <pre>         self::ASSOCIATE_RULE_ANSWER      =&gt; __(&#039;Equals to the answer to the question&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L92" class="number covered">92</th>

                    <td class="covered" >
                        <pre>         self::ASSOCIATE_RULE_LAST_ANSWER =&gt; __(&#039;Last valid answer&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L93" class="number ">93</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L94" class="number unreach">94</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L95" class="number ">95</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getEnumRequestTypeRule">
                    <th id="L96" class="number ">96</th>

                    <td class="" id="getEnumRequestTypeRule">
                        <pre>   public static function getEnumRequestTypeRule() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L97" class="number ">97</th>

                    <td class="" >
                        <pre>      return [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L98" class="number uncovered">98</th>

                    <td class="uncovered" >
                        <pre>         self::REQUESTTYPE_NONE      =&gt; __(&#039;Default or from a template&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L99" class="number uncovered">99</th>

                    <td class="uncovered" >
                        <pre>         self::REQUESTTYPE_SPECIFIC  =&gt; __(&#039;Specific type&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L100" class="number uncovered">100</th>

                    <td class="uncovered" >
                        <pre>         self::REQUESTTYPE_ANSWER    =&gt; __(&#039;Equals to the answer to the question&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L101" class="number ">101</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L102" class="number unreach">102</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L103" class="number ">103</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L104" class="number ">104</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L105" class="number ">105</th>

                    <td class="" >
                        <pre>    * Show the Form for the adminsitrator to edit in the config page
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L106" class="number ">106</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L107" class="number ">107</th>

                    <td class="" >
                        <pre>    * @param  array  $options Optional options
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L108" class="number ">108</th>

                    <td class="" >
                        <pre>    * @return void
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L109" class="number ">109</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showForm">
                    <th id="L110" class="number ">110</th>

                    <td class="" id="showForm">
                        <pre>   public function showForm($ID, $options = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L111" class="number uncovered">111</th>

                    <td class="uncovered" >
                        <pre>      if ($ID == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L112" class="number ">112</th>

                    <td class="" >
                        <pre>         // Not used for now
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L113" class="number uncovered">113</th>

                    <td class="uncovered" >
                        <pre>         $title =  __(&#039;Add a target &#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L114" class="number ">114</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L115" class="number uncovered">115</th>

                    <td class="uncovered" >
                        <pre>         $title =  __(&#039;Edit a target&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L116" class="number ">116</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L117" class="number uncovered">117</th>

                    <td class="uncovered" >
                        <pre>      $rand = mt_rand();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L118" class="number ">118</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L119" class="number uncovered">119</th>

                    <td class="uncovered" >
                        <pre>      $form = $this-&gt;getForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L120" class="number ">120</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L121" class="number ">121</th>

                    <td class="" >
                        <pre>      // TODO: remive the fixed width
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L122" class="number uncovered">122</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div class=&quot;center&quot; style=&quot;width: 950px; margin: 0 auto;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L123" class="number ">123</th>

                    <td class="" >
                        <pre>      echo &#039;&lt;form name=&quot;form&quot;&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L124" class="number ">124</th>

                    <td class="" >
                        <pre>      . &#039; method=&quot;post&quot;&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L125" class="number uncovered">125</th>

                    <td class="uncovered" >
                        <pre>      . &#039; action=&quot;&#039; . self::getFormURL() . &#039;&quot;&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L126" class="number uncovered">126</th>

                    <td class="uncovered" >
                        <pre>      . &#039; data-itemtype=&quot;&#039; . self::class . &#039;&quot;&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L127" class="number uncovered">127</th>

                    <td class="uncovered" >
                        <pre>      . &#039;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L128" class="number ">128</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L129" class="number ">129</th>

                    <td class="" >
                        <pre>      // General information: target_name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L130" class="number uncovered">130</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;table class=&quot;tab_cadre_fixe&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L131" class="number uncovered">131</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&lt;th colspan=&quot;2&quot;&gt;&#039; . $title . &#039;&lt;/th&gt;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L132" class="number uncovered">132</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L133" class="number uncovered">133</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;15%&quot;&gt;&lt;strong&gt;&#039; . __(&#039;Name&#039;) . &#039; &lt;span style=&quot;color:red;&quot;&gt;*&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L134" class="number ">134</th>

                    <td class="" >
                        <pre>      // TODO: remive the fixed width
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L135" class="number uncovered">135</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;85%&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; style=&quot;width:704px;&quot; value=&quot;&#039; . $this-&gt;fields[&#039;name&#039;] . &#039;&quot; /&gt;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L136" class="number uncovered">136</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L137" class="number uncovered">137</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/table&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L138" class="number ">138</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L139" class="number ">139</th>

                    <td class="" >
                        <pre>      // Ticket information: title, template...
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L140" class="number uncovered">140</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;table class=&quot;tab_cadre_fixe&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L141" class="number ">141</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L142" class="number uncovered">142</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&lt;th colspan=&quot;4&quot;&gt;&#039; . _n(&#039;Target ticket&#039;, &#039;Target tickets&#039;, 1, &#039;formcreator&#039;) . &#039;&lt;/th&gt;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L143" class="number ">143</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L144" class="number uncovered">144</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L145" class="number uncovered">145</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td&gt;&lt;strong&gt;&#039; . __(&#039;Ticket title&#039;, &#039;formcreator&#039;) . &#039; &lt;span style=&quot;color:red;&quot;&gt;*&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L146" class="number uncovered">146</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td colspan=&quot;3&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;target_name&quot; style=&quot;width:704px;&quot; value=&quot;&#039; . $this-&gt;fields[&#039;target_name&#039;] . &#039;&quot;/&gt;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L147" class="number uncovered">147</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L148" class="number ">148</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L149" class="number uncovered">149</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L150" class="number uncovered">150</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td&gt;&lt;strong&gt;&#039; . __(&#039;Description&#039;) . &#039; &lt;span style=&quot;color:red;&quot;&gt;*&lt;/span&gt;&lt;/strong&gt;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L151" class="number uncovered">151</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td colspan=&quot;3&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L152" class="number uncovered">152</th>

                    <td class="uncovered" >
                        <pre>      echo Html::textarea([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L153" class="number uncovered">153</th>

                    <td class="uncovered" >
                        <pre>         &#039;name&#039;            =&gt; &#039;content&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L154" class="number uncovered">154</th>

                    <td class="uncovered" >
                        <pre>         &#039;value&#039;           =&gt; $this-&gt;fields[&#039;content&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L155" class="number ">155</th>

                    <td class="" >
                        <pre>         &#039;enable_richtext&#039; =&gt; true,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L156" class="number ">156</th>

                    <td class="" >
                        <pre>         &#039;display&#039;         =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L157" class="number ">157</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L158" class="number uncovered">158</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L159" class="number uncovered">159</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L160" class="number ">160</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L161" class="number uncovered">161</th>

                    <td class="uncovered" >
                        <pre>      $rand = mt_rand();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L162" class="number uncovered">162</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showDestinationEntitySetings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L163" class="number ">163</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L164" class="number uncovered">164</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L165" class="number uncovered">165</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showTemplateSettings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L166" class="number uncovered">166</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showDueDateSettings($form, $rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L167" class="number uncovered">167</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L168" class="number ">168</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L169" class="number uncovered">169</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showSLASettings();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L170" class="number uncovered">170</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showOLASettings();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L171" class="number ">171</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L172" class="number uncovered">172</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showTypeSettings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L173" class="number ">173</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L174" class="number ">174</th>

                    <td class="" >
                        <pre>      //  associated elements of the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L175" class="number ">175</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L176" class="number uncovered">176</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showAssociateSettings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L177" class="number ">177</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L178" class="number ">178</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L179" class="number ">179</th>

                    <td class="" >
                        <pre>      //  category of the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L180" class="number ">180</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L181" class="number uncovered">181</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showCategorySettings($form, $rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L182" class="number ">182</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L183" class="number ">183</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L184" class="number ">184</th>

                    <td class="" >
                        <pre>      // Urgency selection
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L185" class="number ">185</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L186" class="number uncovered">186</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showUrgencySettings($form, $rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L187" class="number ">187</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L188" class="number ">188</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L189" class="number ">189</th>

                    <td class="" >
                        <pre>      // Location selection
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L190" class="number ">190</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L191" class="number uncovered">191</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showLocationSettings($form, $rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L192" class="number ">192</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L193" class="number ">193</th>

                    <td class="" >
                        <pre>      //  Tags
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L194" class="number ">194</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L195" class="number uncovered">195</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showPluginTagsSettings($form, $rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L196" class="number ">196</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L197" class="number ">197</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L198" class="number ">198</th>

                    <td class="" >
                        <pre>      //  Composite tickets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L199" class="number ">199</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L200" class="number uncovered">200</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showCompositeTicketSettings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L201" class="number ">201</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L202" class="number ">202</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L203" class="number ">203</th>

                    <td class="" >
                        <pre>      //  Validation as ticket followup
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L204" class="number ">204</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L205" class="number uncovered">205</th>

                    <td class="uncovered" >
                        <pre>      if ($form-&gt;fields[&#039;validation_required&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L206" class="number uncovered">206</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L207" class="number uncovered">207</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;td colspan=&quot;4&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L208" class="number uncovered">208</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;input type=&quot;hidden&quot; name=&quot;validation_followup&quot; value=&quot;0&quot; /&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L209" class="number uncovered">209</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;input type=&quot;checkbox&quot; name=&quot;validation_followup&quot; id=&quot;validation_followup&quot; value=&quot;1&quot; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L210" class="number uncovered">210</th>

                    <td class="uncovered" >
                        <pre>         if (!isset($this-&gt;fields[&#039;validation_followup&#039;]) || ($this-&gt;fields[&#039;validation_followup&#039;] == 1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L211" class="number uncovered">211</th>

                    <td class="uncovered" >
                        <pre>            echo &#039; checked=&quot;checked&quot;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L212" class="number ">212</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L213" class="number uncovered">213</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;/&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L214" class="number uncovered">214</th>

                    <td class="uncovered" >
                        <pre>         echo &#039; &lt;label for=&quot;validation_followup&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L215" class="number uncovered">215</th>

                    <td class="uncovered" >
                        <pre>         echo __(&#039;Add validation message as first ticket followup&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L216" class="number uncovered">216</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/label&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L217" class="number uncovered">217</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L218" class="number uncovered">218</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L219" class="number ">219</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L220" class="number ">220</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L221" class="number ">221</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L222" class="number ">222</th>

                    <td class="" >
                        <pre>      //  Conditions to generate the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L223" class="number ">223</th>

                    <td class="" >
                        <pre>      // -------------------------------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L224" class="number uncovered">224</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L225" class="number uncovered">225</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;th colspan=&quot;4&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L226" class="number uncovered">226</th>

                    <td class="uncovered" >
                        <pre>      echo __(&#039;Condition to show the target&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L227" class="number uncovered">227</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/label&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L228" class="number uncovered">228</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/th&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L229" class="number uncovered">229</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L230" class="number uncovered">230</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showConditionsSettings($rand);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L231" class="number ">231</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L232" class="number uncovered">232</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/table&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L233" class="number ">233</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L234" class="number ">234</th>

                    <td class="" >
                        <pre>      // Buttons
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L235" class="number uncovered">235</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;table class=&quot;tab_cadre_fixe&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L236" class="number ">236</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L237" class="number uncovered">237</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L238" class="number uncovered">238</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td colspan=&quot;4&quot; class=&quot;center&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L239" class="number uncovered">239</th>

                    <td class="uncovered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L240" class="number uncovered">240</th>

                    <td class="uncovered" >
                        <pre>      echo Html::hidden(&#039;id&#039;, [&#039;value&#039; =&gt; $ID]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L241" class="number uncovered">241</th>

                    <td class="uncovered" >
                        <pre>      echo Html::hidden($formFk, [&#039;value&#039; =&gt; $this-&gt;fields[$formFk]]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L242" class="number uncovered">242</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L243" class="number uncovered">243</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L244" class="number ">244</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L245" class="number uncovered">245</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L246" class="number uncovered">246</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td colspan=&quot;5&quot; class=&quot;center&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L247" class="number uncovered">247</th>

                    <td class="uncovered" >
                        <pre>      echo Html::submit(_x(&#039;button&#039;, &#039;Save&#039;), [&#039;name&#039; =&gt; &#039;update&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L248" class="number uncovered">248</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L249" class="number uncovered">249</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L250" class="number ">250</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L251" class="number uncovered">251</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/table&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L252" class="number uncovered">252</th>

                    <td class="uncovered" >
                        <pre>      Html::closeForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L253" class="number ">253</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L254" class="number uncovered">254</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showActorsSettings();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L255" class="number ">255</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L256" class="number uncovered">256</th>

                    <td class="uncovered" >
                        <pre>      $this-&gt;showTagsList();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L257" class="number uncovered">257</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L258" class="number uncovered">258</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L259" class="number ">259</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L260" class="number ">260</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L261" class="number ">261</th>

                    <td class="" >
                        <pre>    * Show settings to handle composite tickets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L262" class="number ">262</th>

                    <td class="" >
                        <pre>    * @param string $rand
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L263" class="number ">263</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showCompositeTicketSettings">
                    <th id="L264" class="number ">264</th>

                    <td class="" id="showCompositeTicketSettings">
                        <pre>   protected function showCompositeTicketSettings($rand) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L265" class="number uncovered">265</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L266" class="number ">266</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L267" class="number uncovered">267</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L268" class="number uncovered">268</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L269" class="number uncovered">269</th>

                    <td class="uncovered" >
                        <pre>      echo __(&#039;Link to an other ticket&#039;, &#039;formcreator&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L270" class="number uncovered">270</th>

                    <td class="uncovered" >
                        <pre>      echo &quot;&lt;span class=&#039;fa fa-plus pointer&#039; onClick=\&quot;&quot;.Html::jsShow(&quot;plugin_formcreator_linked_items$rand&quot;).&quot;\&quot;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L271" class="number uncovered">271</th>

                    <td class="uncovered" >
                        <pre>             title=\&quot;&quot;.__s(&#039;Add&#039;).&quot;\&quot;&gt;&lt;span class=&#039;sr-only&#039;&gt;&quot; . __s(&#039;Add&#039;) . &quot;&lt;/span&gt;&lt;/span&gt;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L272" class="number ">272</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L273" class="number uncovered">273</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L274" class="number uncovered">274</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td colspan=&quot;3&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L275" class="number uncovered">275</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div style=&quot;display: none&quot; id=&quot;plugin_formcreator_linked_items&#039; . $rand . &#039;&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L276" class="number uncovered">276</th>

                    <td class="uncovered" >
                        <pre>      Ticket_Ticket::dropdownLinks(&#039;_linktype&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L277" class="number ">277</th>

                    <td class="" >
                        <pre>      $elements = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L278" class="number uncovered">278</th>

                    <td class="uncovered" >
                        <pre>         &#039;PluginFormcreatorTargetTicket&#039;  =&gt; __(&#039;An other destination of this form&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L279" class="number uncovered">279</th>

                    <td class="uncovered" >
                        <pre>         &#039;Ticket&#039;                         =&gt; __(&#039;An existing ticket&#039;, &#039;formcreator&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L280" class="number ">280</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L281" class="number uncovered">281</th>

                    <td class="uncovered" >
                        <pre>      Dropdown::showFromArray(&#039;_link_itemtype&#039;, $elements, [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L282" class="number uncovered">282</th>

                    <td class="uncovered" >
                        <pre>         &#039;on_change&#039; =&gt; &quot;plugin_formcreator_updateCompositePeerType($rand)&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L283" class="number uncovered">283</th>

                    <td class="uncovered" >
                        <pre>         &#039;rand&#039;      =&gt; $rand,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L284" class="number ">284</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L285" class="number uncovered">285</th>

                    <td class="uncovered" >
                        <pre>      echo Html::scriptBlock(&quot;plugin_formcreator_updateCompositePeerType($rand);&quot;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L286" class="number ">286</th>

                    <td class="" >
                        <pre>      // get already linked items
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L287" class="number uncovered">287</th>

                    <td class="uncovered" >
                        <pre>      $targetTicketId = $this-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L288" class="number uncovered">288</th>

                    <td class="uncovered" >
                        <pre>      $rows = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L289" class="number uncovered">289</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039;   =&gt; PluginFormcreatorItem_TargetTicket::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L290" class="number ">290</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L291" class="number uncovered">291</th>

                    <td class="uncovered" >
                        <pre>            &#039;plugin_formcreator_targettickets_id&#039; =&gt; $targetTicketId</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L292" class="number ">292</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L293" class="number ">293</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L294" class="number uncovered">294</th>

                    <td class="uncovered" >
                        <pre>      $excludedTargetTicketsIds = [$this-&gt;getID()];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L295" class="number uncovered">295</th>

                    <td class="uncovered" >
                        <pre>      $excludedTicketIds = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L296" class="number uncovered">296</th>

                    <td class="uncovered" >
                        <pre>      foreach ($rows as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L297" class="number uncovered">297</th>

                    <td class="uncovered" >
                        <pre>         switch ($row[&#039;itemtype&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L298" class="number uncovered">298</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetTicket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L299" class="number uncovered">299</th>

                    <td class="uncovered" >
                        <pre>               $excludedTargetTicketsIds[] = $row[&#039;items_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L300" class="number uncovered">300</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L301" class="number ">301</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L302" class="number uncovered">302</th>

                    <td class="uncovered" >
                        <pre>            case Ticket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L303" class="number uncovered">303</th>

                    <td class="uncovered" >
                        <pre>               $excludedTicketIds[] = $row[&#039;items_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L304" class="number uncovered">304</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L305" class="number ">305</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L306" class="number ">306</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L307" class="number ">307</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L308" class="number uncovered">308</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;plugin_formcreator_link_ticket&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L309" class="number ">309</th>

                    <td class="" >
                        <pre>      $linkparam = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L310" class="number uncovered">310</th>

                    <td class="uncovered" >
                        <pre>         &#039;name&#039;        =&gt; &#039;_link_tickets_id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L311" class="number uncovered">311</th>

                    <td class="uncovered" >
                        <pre>         &#039;rand&#039;        =&gt; $rand,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L312" class="number uncovered">312</th>

                    <td class="uncovered" >
                        <pre>         &#039;used&#039;        =&gt; $excludedTicketIds,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L313" class="number ">313</th>

                    <td class="" >
                        <pre>         &#039;displaywith&#039; =&gt; [&#039;id&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L314" class="number ">314</th>

                    <td class="" >
                        <pre>         &#039;display&#039;     =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L315" class="number ">315</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L316" class="number uncovered">316</th>

                    <td class="uncovered" >
                        <pre>      echo Ticket::dropdown($linkparam);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L317" class="number uncovered">317</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L318" class="number ">318</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L319" class="number ">319</th>

                    <td class="" >
                        <pre>      // dropdown of target tickets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L320" class="number uncovered">320</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;plugin_formcreator_link_target&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L321" class="number ">321</th>

                    <td class="" >
                        <pre>      $condition = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L322" class="number uncovered">322</th>

                    <td class="uncovered" >
                        <pre>         &#039;plugin_formcreator_forms_id&#039; =&gt; $this-&gt;fields[&#039;plugin_formcreator_forms_id&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L323" class="number ">323</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L324" class="number uncovered">324</th>

                    <td class="uncovered" >
                        <pre>      echo PluginFormcreatorTargetTicket::dropdown([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L325" class="number uncovered">325</th>

                    <td class="uncovered" >
                        <pre>         &#039;name&#039;        =&gt; &#039;_link_targettickets_id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L326" class="number uncovered">326</th>

                    <td class="uncovered" >
                        <pre>         &#039;rand&#039;        =&gt; $rand,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L327" class="number ">327</th>

                    <td class="" >
                        <pre>         &#039;display&#039;     =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L328" class="number uncovered">328</th>

                    <td class="uncovered" >
                        <pre>         &#039;used&#039;        =&gt; $excludedTargetTicketsIds,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L329" class="number ">329</th>

                    <td class="" >
                        <pre>         &#039;displaywith&#039; =&gt; [&#039;id&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L330" class="number uncovered">330</th>

                    <td class="uncovered" >
                        <pre>         &#039;condition&#039;   =&gt; $condition,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L331" class="number ">331</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L332" class="number uncovered">332</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L333" class="number uncovered">333</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L334" class="number ">334</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L335" class="number ">335</th>

                    <td class="" >
                        <pre>      // show already linked items
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L336" class="number uncovered">336</th>

                    <td class="uncovered" >
                        <pre>      foreach ($rows as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L337" class="number uncovered">337</th>

                    <td class="uncovered" >
                        <pre>         $icons = &#039;&amp;nbsp;&#039;.Html::getSimpleForm(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L338" class="number uncovered">338</th>

                    <td class="uncovered" >
                        <pre>            PluginFormcreatorItem_TargetTicket::getFormURL(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L339" class="number uncovered">339</th>

                    <td class="uncovered" >
                        <pre>            &#039;purge&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L340" class="number uncovered">340</th>

                    <td class="uncovered" >
                        <pre>            _x(&#039;button&#039;, &#039;Delete permanently&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L341" class="number uncovered">341</th>

                    <td class="uncovered" >
                        <pre>            [&#039;id&#039; =&gt; $row[&#039;id&#039;]],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L342" class="number uncovered">342</th>

                    <td class="uncovered" >
                        <pre>            &#039;fa-times-circle&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L343" class="number ">343</th>

                    <td class="" >
                        <pre>         );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L344" class="number uncovered">344</th>

                    <td class="uncovered" >
                        <pre>         $itemtype = $row[&#039;itemtype&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L345" class="number uncovered">345</th>

                    <td class="uncovered" >
                        <pre>         $item = new $itemtype();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L346" class="number uncovered">346</th>

                    <td class="uncovered" >
                        <pre>         $item-&gt;getFromDB($row[&#039;items_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L347" class="number ">347</th>

                    <td class="" >
                        <pre>         switch ($itemtype) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L348" class="number uncovered">348</th>

                    <td class="uncovered" >
                        <pre>            case Ticket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L349" class="number uncovered">349</th>

                    <td class="uncovered" >
                        <pre>               echo Ticket_Ticket::getLinkName($row[&#039;link&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L350" class="number uncovered">350</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L351" class="number uncovered">351</th>

                    <td class="uncovered" >
                        <pre>               echo $itemtype::getTypeName();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L352" class="number uncovered">352</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L353" class="number uncovered">353</th>

                    <td class="uncovered" >
                        <pre>               echo &#039;&lt;span style=&quot;font-weight:bold&quot;&gt;&#039; . $item-&gt;getField(&#039;name&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L354" class="number uncovered">354</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L355" class="number uncovered">355</th>

                    <td class="uncovered" >
                        <pre>               echo $icons;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L356" class="number uncovered">356</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L357" class="number ">357</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L358" class="number uncovered">358</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetTicket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L359" class="number uncovered">359</th>

                    <td class="uncovered" >
                        <pre>               echo Ticket_Ticket::getLinkName($row[&#039;link&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L360" class="number uncovered">360</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L361" class="number uncovered">361</th>

                    <td class="uncovered" >
                        <pre>               echo $itemtype::getTypeName();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L362" class="number uncovered">362</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L363" class="number uncovered">363</th>

                    <td class="uncovered" >
                        <pre>               echo &#039;&lt;span style=&quot;font-weight:bold&quot;&gt;&#039; . $item-&gt;getField(&#039;name&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L364" class="number uncovered">364</th>

                    <td class="uncovered" >
                        <pre>               echo &#039; &#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L365" class="number uncovered">365</th>

                    <td class="uncovered" >
                        <pre>               echo $icons;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L366" class="number uncovered">366</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L367" class="number ">367</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L368" class="number uncovered">368</th>

                    <td class="uncovered" >
                        <pre>         echo &#039;&lt;br&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L369" class="number ">369</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L370" class="number ">370</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L371" class="number uncovered">371</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L372" class="number uncovered">372</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L373" class="number uncovered">373</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L374" class="number ">374</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="prepareInputForAdd">
                    <th id="L375" class="number ">375</th>

                    <td class="" id="prepareInputForAdd">
                        <pre>   public function prepareInputForAdd($input) {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L376" class="number covered">376</th>

                    <td class="covered" >
                        <pre>      $input = parent::prepareInputForAdd($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L377" class="number ">377</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L378" class="number covered">378</th>

                    <td class="covered" >
                        <pre>      return $input;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L379" class="number unreach">379</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L380" class="number ">380</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L381" class="number ">381</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L382" class="number ">382</th>

                    <td class="" >
                        <pre>    * Prepare input datas for updating the target ticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L383" class="number ">383</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L384" class="number ">384</th>

                    <td class="" >
                        <pre>    * @param array $input datas used to add the item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L385" class="number ">385</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L386" class="number ">386</th>

                    <td class="" >
                        <pre>    * @return array the modified $input array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L387" class="number ">387</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="prepareInputForUpdate">
                    <th id="L388" class="number ">388</th>

                    <td class="" id="prepareInputForUpdate">
                        <pre>   public function prepareInputForUpdate($input) {<span class="label label-danger">7%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L389" class="number ">389</th>

                    <td class="" >
                        <pre>      // Control fields values :
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L390" class="number covered">390</th>

                    <td class="covered" >
                        <pre>      if (!isset($input[&#039;_skip_checks&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L391" class="number covered">391</th>

                    <td class="covered" >
                        <pre>          || !$input[&#039;_skip_checks&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L392" class="number ">392</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L393" class="number uncovered">393</th>

                    <td class="uncovered" >
                        <pre>         $input[&#039;content&#039;] = Html::entity_decode_deep($input[&#039;content&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L394" class="number ">394</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L395" class="number uncovered">395</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;destination_entity&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L396" class="number uncovered">396</th>

                    <td class="uncovered" >
                        <pre>            case self::DESTINATION_ENTITY_SPECIFIC :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L397" class="number uncovered">397</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;destination_entity_value&#039;] = $input[&#039;_destination_entity_value_specific&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L398" class="number uncovered">398</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L399" class="number uncovered">399</th>

                    <td class="uncovered" >
                        <pre>            case self::DESTINATION_ENTITY_USER :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L400" class="number uncovered">400</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;destination_entity_value&#039;] = $input[&#039;_destination_entity_value_user&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L401" class="number uncovered">401</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L402" class="number uncovered">402</th>

                    <td class="uncovered" >
                        <pre>            case self::DESTINATION_ENTITY_ENTITY :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L403" class="number uncovered">403</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;destination_entity_value&#039;] = $input[&#039;_destination_entity_value_entity&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L404" class="number uncovered">404</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L405" class="number ">405</th>

                    <td class="" >
                        <pre>            default :
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L406" class="number uncovered">406</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;destination_entity_value&#039;] = &#039;NULL&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L407" class="number uncovered">407</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L408" class="number ">408</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L409" class="number ">409</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L410" class="number uncovered">410</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;urgency_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L411" class="number uncovered">411</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::URGENCY_RULE_ANSWER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L412" class="number uncovered">412</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;urgency_question&#039;] = $input[&#039;_urgency_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L413" class="number uncovered">413</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L414" class="number uncovered">414</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::URGENCY_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L415" class="number uncovered">415</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;urgency_question&#039;] = $input[&#039;_urgency_specific&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L416" class="number uncovered">416</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L417" class="number ">417</th>

                    <td class="" >
                        <pre>            default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L418" class="number uncovered">418</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;urgency_question&#039;] = &#039;0&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L419" class="number ">419</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L420" class="number ">420</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L421" class="number uncovered">421</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;sla_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L422" class="number uncovered">422</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::SLA_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L423" class="number uncovered">423</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;sla_question_tto&#039;] = $input[&#039;_sla_specific_tto&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L424" class="number uncovered">424</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;sla_question_ttr&#039;] = $input[&#039;_sla_specific_ttr&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L425" class="number uncovered">425</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L426" class="number uncovered">426</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::SLA_RULE_FROM_ANWSER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L427" class="number uncovered">427</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;sla_question_tto&#039;] = $input[&#039;_sla_questions_tto&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L428" class="number uncovered">428</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;sla_question_ttr&#039;] = $input[&#039;_sla_questions_ttr&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L429" class="number uncovered">429</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L430" class="number ">430</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L431" class="number ">431</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L432" class="number uncovered">432</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;ola_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L433" class="number uncovered">433</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::OLA_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L434" class="number uncovered">434</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;ola_question_tto&#039;] = $input[&#039;_ola_specific_tto&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L435" class="number uncovered">435</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;ola_question_ttr&#039;] = $input[&#039;_ola_specific_ttr&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L436" class="number uncovered">436</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L437" class="number uncovered">437</th>

                    <td class="uncovered" >
                        <pre>            case PluginFormcreatorTargetBase::OLA_RULE_FROM_ANWSER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L438" class="number uncovered">438</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;ola_question_tto&#039;] = $input[&#039;_ola_questions_tto&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L439" class="number uncovered">439</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;ola_question_ttr&#039;] = $input[&#039;_ola_questions_ttr&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L440" class="number uncovered">440</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L441" class="number ">441</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L442" class="number ">442</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L443" class="number uncovered">443</th>

                    <td class="uncovered" >
                        <pre>         $input[&#039;type_question&#039;] = &#039;0&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L444" class="number uncovered">444</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;type_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L445" class="number ">445</th>

                    <td class="" >
                        <pre>            case self::REQUESTTYPE_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L446" class="number uncovered">446</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;type_question&#039;] = $input[&#039;_type_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L447" class="number uncovered">447</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L448" class="number ">448</th>

                    <td class="" >
                        <pre>            case self::REQUESTTYPE_SPECIFIC:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L449" class="number uncovered">449</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;type_question&#039;] = $input[&#039;_type_specific&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L450" class="number uncovered">450</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L451" class="number ">451</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L452" class="number ">452</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L453" class="number uncovered">453</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;category_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L454" class="number uncovered">454</th>

                    <td class="uncovered" >
                        <pre>            case self::CATEGORY_RULE_ANSWER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L455" class="number uncovered">455</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;category_question&#039;] = $input[&#039;_category_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L456" class="number uncovered">456</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L457" class="number uncovered">457</th>

                    <td class="uncovered" >
                        <pre>            case self::CATEGORY_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L458" class="number uncovered">458</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;category_question&#039;] = $input[&#039;_category_specific&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L459" class="number uncovered">459</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L460" class="number ">460</th>

                    <td class="" >
                        <pre>            default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L461" class="number uncovered">461</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;category_question&#039;] = &#039;0&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L462" class="number ">462</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L463" class="number ">463</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L464" class="number uncovered">464</th>

                    <td class="uncovered" >
                        <pre>         switch ($input[&#039;location_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L465" class="number uncovered">465</th>

                    <td class="uncovered" >
                        <pre>            case self::LOCATION_RULE_ANSWER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L466" class="number uncovered">466</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;location_question&#039;] = $input[&#039;_location_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L467" class="number uncovered">467</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L468" class="number uncovered">468</th>

                    <td class="uncovered" >
                        <pre>            case self::LOCATION_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L469" class="number uncovered">469</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;location_question&#039;] = $input[&#039;_location_specific&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L470" class="number uncovered">470</th>

                    <td class="uncovered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L471" class="number ">471</th>

                    <td class="" >
                        <pre>            default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L472" class="number uncovered">472</th>

                    <td class="uncovered" >
                        <pre>               $input[&#039;location_question&#039;] = &#039;0&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L473" class="number ">473</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L474" class="number ">474</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L475" class="number uncovered">475</th>

                    <td class="uncovered" >
                        <pre>         $plugin = new Plugin();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L476" class="number uncovered">476</th>

                    <td class="uncovered" >
                        <pre>         if ($plugin-&gt;isActivated(&#039;tag&#039;)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L477" class="number uncovered">477</th>

                    <td class="uncovered" >
                        <pre>            $input[&#039;tag_questions&#039;] = (!empty($input[&#039;_tag_questions&#039;]))</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L478" class="number uncovered">478</th>

                    <td class="uncovered" >
                        <pre>                                       ? implode(&#039;,&#039;, $input[&#039;_tag_questions&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L479" class="number uncovered">479</th>

                    <td class="uncovered" >
                        <pre>                                       : &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L480" class="number uncovered">480</th>

                    <td class="uncovered" >
                        <pre>            $input[&#039;tag_specifics&#039;] = (!empty($input[&#039;_tag_specifics&#039;]))</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L481" class="number uncovered">481</th>

                    <td class="uncovered" >
                        <pre>                                       ? implode(&#039;,&#039;, $input[&#039;_tag_specifics&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L482" class="number uncovered">482</th>

                    <td class="uncovered" >
                        <pre>                                       : &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L483" class="number ">483</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L484" class="number ">484</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L485" class="number ">485</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L486" class="number covered">486</th>

                    <td class="covered" >
                        <pre>      if (isset($input[&#039;_linktype&#039;]) &amp;&amp; isset($input[&#039;_link_itemtype&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L487" class="number uncovered">487</th>

                    <td class="uncovered" >
                        <pre>         $input = $this-&gt;saveLinkedItem($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L488" class="number ">488</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L489" class="number ">489</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L490" class="number covered">490</th>

                    <td class="covered" >
                        <pre>      if (isset($input[&#039;items_id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L491" class="number uncovered">491</th>

                    <td class="uncovered" >
                        <pre>         $input = $this-&gt;saveAssociatedItems($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L492" class="number ">492</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L493" class="number ">493</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L494" class="number covered">494</th>

                    <td class="covered" >
                        <pre>      return parent::prepareInputForUpdate($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L495" class="number unreach">495</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L496" class="number ">496</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L497" class="number ">497</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L498" class="number ">498</th>

                    <td class="" >
                        <pre>    * Hook for pre_purge of the item.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L499" class="number ">499</th>

                    <td class="" >
                        <pre>    * GLPI does not provides pre_purgeItem, this is emulated with
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L500" class="number ">500</th>

                    <td class="" >
                        <pre>    * the hook pre_purge_item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L501" class="number ">501</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L502" class="number ">502</th>

                    <td class="" >
                        <pre>    * @param CommonDBTM $item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L503" class="number ">503</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L504" class="number ">504</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="pre_purgeItem">
                    <th id="L505" class="number ">505</th>

                    <td class="" id="pre_purgeItem">
                        <pre>   public function pre_purgeItem() {<span class="label label-warning">62%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L506" class="number covered">506</th>

                    <td class="covered" >
                        <pre>      if (!parent::pre_purgeItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L507" class="number uncovered">507</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;input = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L508" class="number uncovered">508</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L509" class="number ">509</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L510" class="number ">510</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L511" class="number ">511</th>

                    <td class="" >
                        <pre>      // delete targets linked to this instance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L512" class="number covered">512</th>

                    <td class="covered" >
                        <pre>      $myFk = static::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L513" class="number covered">513</th>

                    <td class="covered" >
                        <pre>      $item_targetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L514" class="number covered">514</th>

                    <td class="covered" >
                        <pre>      if (!$item_targetTicket-&gt;deleteByCriteria([$myFk  =&gt; $this-&gt;getID()])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L515" class="number uncovered">515</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;input = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L516" class="number uncovered">516</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L517" class="number ">517</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L518" class="number ">518</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L519" class="number ">519</th>

                    <td class="" >
                        <pre>      // delete conditions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L520" class="number covered">520</th>

                    <td class="covered" >
                        <pre>      if (! (new PluginFormcreatorCondition())-&gt;deleteByCriteria([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L521" class="number covered">521</th>

                    <td class="covered" >
                        <pre>         &#039;itemtype&#039; =&gt; self::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L522" class="number covered">522</th>

                    <td class="covered" >
                        <pre>         &#039;items_id&#039; =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L523" class="number ">523</th>

                    <td class="" >
                        <pre>      ])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L524" class="number uncovered">524</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L525" class="number ">525</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L526" class="number ">526</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L527" class="number covered">527</th>

                    <td class="covered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L528" class="number unreach">528</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L529" class="number ">529</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_addItem">
                    <th id="L530" class="number ">530</th>

                    <td class="" id="post_addItem">
                        <pre>   public function post_addItem() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L531" class="number covered">531</th>

                    <td class="covered" >
                        <pre>      parent::post_addItem();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L532" class="number covered">532</th>

                    <td class="covered" >
                        <pre>      if (!isset($this-&gt;input[&#039;_skip_checks&#039;]) || !$this-&gt;input[&#039;_skip_checks&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L533" class="number covered">533</th>

                    <td class="covered" >
                        <pre>         $this-&gt;updateConditions($this-&gt;input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L534" class="number ">534</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L535" class="number covered">535</th>

                    <td class="covered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L536" class="number ">536</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_updateItem">
                    <th id="L537" class="number ">537</th>

                    <td class="" id="post_updateItem">
                        <pre>   public function post_updateItem($history = 1) {<span class="label label-success">75%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L538" class="number covered">538</th>

                    <td class="covered" >
                        <pre>      parent::post_updateItem();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L539" class="number covered">539</th>

                    <td class="covered" >
                        <pre>      if (!isset($this-&gt;input[&#039;_skip_checks&#039;]) || !$this-&gt;input[&#039;_skip_checks&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L540" class="number uncovered">540</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;updateConditions($this-&gt;input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L541" class="number ">541</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L542" class="number covered">542</th>

                    <td class="covered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L543" class="number ">543</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L544" class="number ">544</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L545" class="number ">545</th>

                    <td class="" >
                        <pre>    * Save links to other items for composite tickets
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L546" class="number ">546</th>

                    <td class="" >
                        <pre>    * @param array $input form data
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L547" class="number ">547</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L548" class="number ">548</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L549" class="number ">549</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="saveLinkedItem">
                    <th id="L550" class="number ">550</th>

                    <td class="" id="saveLinkedItem">
                        <pre>   private function saveLinkedItem($input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L551" class="number ">551</th>

                    <td class="" >
                        <pre>      // Check link type is valid
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L552" class="number uncovered">552</th>

                    <td class="uncovered" >
                        <pre>      $linktype = (int) $input[&#039;_linktype&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L553" class="number uncovered">553</th>

                    <td class="uncovered" >
                        <pre>      if ($linktype &lt; Ticket_Ticket::LINK_TO || $linktype &gt; Ticket_Ticket::PARENT_OF) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L554" class="number uncovered">554</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;Invalid link type&#039;, &#039;formcreator&#039;), false, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L555" class="number uncovered">555</th>

                    <td class="uncovered" >
                        <pre>         return [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L556" class="number ">556</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L557" class="number ">557</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L558" class="number ">558</th>

                    <td class="" >
                        <pre>      // Check itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L559" class="number uncovered">559</th>

                    <td class="uncovered" >
                        <pre>      $itemtype = $input[&#039;_link_itemtype&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L560" class="number ">560</th>

                    <td class="" >
                        <pre>      switch ($itemtype) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L561" class="number uncovered">561</th>

                    <td class="uncovered" >
                        <pre>         case Ticket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L562" class="number uncovered">562</th>

                    <td class="uncovered" >
                        <pre>            $itemId = (int) $input[&#039;_link_tickets_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L563" class="number uncovered">563</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L564" class="number ">564</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L565" class="number uncovered">565</th>

                    <td class="uncovered" >
                        <pre>         case PluginFormcreatorTargetTicket::getType():</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L566" class="number uncovered">566</th>

                    <td class="uncovered" >
                        <pre>            $itemId = (int) $input[&#039;_link_targettickets_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L567" class="number uncovered">567</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L568" class="number ">568</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L569" class="number ">569</th>

                    <td class="" >
                        <pre>         default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L570" class="number uncovered">570</th>

                    <td class="uncovered" >
                        <pre>            Session::addMessageAfterRedirect(__(&#039;Invalid linked item type&#039;, &#039;formcreator&#039;), false, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L571" class="number uncovered">571</th>

                    <td class="uncovered" >
                        <pre>            return [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L572" class="number ">572</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L573" class="number uncovered">573</th>

                    <td class="uncovered" >
                        <pre>      $item = new $itemtype();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L574" class="number ">574</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L575" class="number ">575</th>

                    <td class="" >
                        <pre>      // Check an id was provided (if not, then the fields were not populated)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L576" class="number uncovered">576</th>

                    <td class="uncovered" >
                        <pre>      if ($item::isNewID($itemId)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L577" class="number ">577</th>

                    <td class="" >
                        <pre>         // nothing to do
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L578" class="number uncovered">578</th>

                    <td class="uncovered" >
                        <pre>         return $input;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L579" class="number ">579</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L580" class="number ">580</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L581" class="number ">581</th>

                    <td class="" >
                        <pre>      // Check item exists
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L582" class="number uncovered">582</th>

                    <td class="uncovered" >
                        <pre>      if (!$item-&gt;getFromDB($itemId)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L583" class="number uncovered">583</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;Linked item does not exists&#039;, &#039;formcreator&#039;), false, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L584" class="number uncovered">584</th>

                    <td class="uncovered" >
                        <pre>         return [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L585" class="number ">585</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L586" class="number ">586</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L587" class="number uncovered">587</th>

                    <td class="uncovered" >
                        <pre>      $item_targetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L588" class="number uncovered">588</th>

                    <td class="uncovered" >
                        <pre>      $item_targetTicket-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L589" class="number uncovered">589</th>

                    <td class="uncovered" >
                        <pre>         &#039;plugin_formcreator_targettickets_id&#039;  =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L590" class="number uncovered">590</th>

                    <td class="uncovered" >
                        <pre>         &#039;link&#039;                                 =&gt; $linktype,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L591" class="number uncovered">591</th>

                    <td class="uncovered" >
                        <pre>         &#039;itemtype&#039;                             =&gt; $itemtype,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L592" class="number uncovered">592</th>

                    <td class="uncovered" >
                        <pre>         &#039;items_id&#039;                             =&gt; $itemId,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L593" class="number ">593</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L594" class="number ">594</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L595" class="number uncovered">595</th>

                    <td class="uncovered" >
                        <pre>      if ($item_targetTicket-&gt;isNewItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L596" class="number uncovered">596</th>

                    <td class="uncovered" >
                        <pre>         Session::addMessageAfterRedirect(__(&#039;Failed to link the item&#039;, &#039;formcreator&#039;), false, ERROR);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L597" class="number ">597</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L598" class="number ">598</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L599" class="number uncovered">599</th>

                    <td class="uncovered" >
                        <pre>      return $input;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L600" class="number unreach">600</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L601" class="number ">601</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L602" class="number ">602</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L603" class="number ">603</th>

                    <td class="" >
                        <pre>    * Save form data to the target
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L604" class="number ">604</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L605" class="number ">605</th>

                    <td class="" >
                        <pre>    * @param  PluginFormcreatorFormAnswer $formanswer    Answers previously saved
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L606" class="number ">606</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L607" class="number ">607</th>

                    <td class="" >
                        <pre>    * @return Ticket|null Generated ticket if success, null otherwise
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L608" class="number ">608</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="save">
                    <th id="L609" class="number ">609</th>

                    <td class="" id="save">
                        <pre>   public function save(PluginFormcreatorFormAnswer $formanswer) {<span class="label label-warning">66%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L610" class="number ">610</th>

                    <td class="" >
                        <pre>      // Prepare actors structures for creation of the ticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L611" class="number covered">611</th>

                    <td class="covered" >
                        <pre>      $this-&gt;requesters = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L612" class="number ">612</th>

                    <td class="" >
                        <pre>         &#039;_users_id_requester&#039;         =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L613" class="number ">613</th>

                    <td class="" >
                        <pre>         &#039;_users_id_requester_notif&#039;   =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L614" class="number ">614</th>

                    <td class="" >
                        <pre>            &#039;use_notification&#039;      =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L615" class="number ">615</th>

                    <td class="" >
                        <pre>            &#039;alternative_email&#039;     =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L616" class="number ">616</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L617" class="number ">617</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L618" class="number covered">618</th>

                    <td class="covered" >
                        <pre>      $this-&gt;observers = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L619" class="number ">619</th>

                    <td class="" >
                        <pre>         &#039;_users_id_observer&#039;          =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L620" class="number ">620</th>

                    <td class="" >
                        <pre>         &#039;_users_id_observer_notif&#039;    =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L621" class="number ">621</th>

                    <td class="" >
                        <pre>            &#039;use_notification&#039;      =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L622" class="number ">622</th>

                    <td class="" >
                        <pre>            &#039;alternative_email&#039;     =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L623" class="number ">623</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L624" class="number ">624</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L625" class="number covered">625</th>

                    <td class="covered" >
                        <pre>      $this-&gt;assigned = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L626" class="number ">626</th>

                    <td class="" >
                        <pre>         &#039;_users_id_assign&#039;            =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L627" class="number ">627</th>

                    <td class="" >
                        <pre>         &#039;_users_id_assign_notif&#039;      =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L628" class="number ">628</th>

                    <td class="" >
                        <pre>            &#039;use_notification&#039;      =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L629" class="number ">629</th>

                    <td class="" >
                        <pre>            &#039;alternative_email&#039;     =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L630" class="number ">630</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L631" class="number ">631</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L632" class="number ">632</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L633" class="number covered">633</th>

                    <td class="covered" >
                        <pre>      $this-&gt;assignedSuppliers = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L634" class="number ">634</th>

                    <td class="" >
                        <pre>         &#039;_suppliers_id_assign&#039;        =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L635" class="number ">635</th>

                    <td class="" >
                        <pre>         &#039;_suppliers_id_assign_notif&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L636" class="number ">636</th>

                    <td class="" >
                        <pre>            &#039;use_notification&#039;      =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L637" class="number ">637</th>

                    <td class="" >
                        <pre>            &#039;alternative_email&#039;     =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L638" class="number ">638</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L639" class="number ">639</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L640" class="number ">640</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L641" class="number covered">641</th>

                    <td class="covered" >
                        <pre>      $this-&gt;requesterGroups = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L642" class="number ">642</th>

                    <td class="" >
                        <pre>         &#039;_groups_id_requester&#039;        =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L643" class="number ">643</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L644" class="number ">644</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L645" class="number covered">645</th>

                    <td class="covered" >
                        <pre>      $this-&gt;observerGroups = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L646" class="number ">646</th>

                    <td class="" >
                        <pre>         &#039;_groups_id_observer&#039;         =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L647" class="number ">647</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L648" class="number ">648</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L649" class="number covered">649</th>

                    <td class="covered" >
                        <pre>      $this-&gt;assignedGroups = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L650" class="number ">650</th>

                    <td class="" >
                        <pre>         &#039;_groups_id_assign&#039;           =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L651" class="number ">651</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L652" class="number ">652</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L653" class="number covered">653</th>

                    <td class="covered" >
                        <pre>      $data = Ticket::getDefaultValues();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L654" class="number covered">654</th>

                    <td class="covered" >
                        <pre>      $ticket  = new Ticket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L655" class="number covered">655</th>

                    <td class="covered" >
                        <pre>      $form    = $formanswer-&gt;getForm();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L656" class="number ">656</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L657" class="number covered">657</th>

                    <td class="covered" >
                        <pre>      $data[&#039;requesttypes_id&#039;] = PluginFormcreatorCommon::getFormcreatorRequestTypeId();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L658" class="number ">658</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L659" class="number ">659</th>

                    <td class="" >
                        <pre>      // Get predefined Fields
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L660" class="number covered">660</th>

                    <td class="covered" >
                        <pre>      $ttp                  = new TicketTemplatePredefinedField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L661" class="number covered">661</th>

                    <td class="covered" >
                        <pre>      $predefined_fields    = $ttp-&gt;getPredefinedFields($this-&gt;fields[&#039;tickettemplates_id&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L662" class="number ">662</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L663" class="number covered">663</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_users_id_requester&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L664" class="number uncovered">664</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_REQUESTER, $predefined_fields[&#039;_users_id_requester&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L665" class="number uncovered">665</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_users_id_requester&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L666" class="number ">666</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L667" class="number covered">667</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_users_id_observer&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L668" class="number uncovered">668</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_OBSERVER, $predefined_fields[&#039;_users_id_observer&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L669" class="number uncovered">669</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_users_id_observer&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L670" class="number ">670</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L671" class="number covered">671</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_users_id_assign&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L672" class="number uncovered">672</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_ASSIGNED, $predefined_fields[&#039;_users_id_assign&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L673" class="number uncovered">673</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_users_id_assign&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L674" class="number ">674</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L675" class="number ">675</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L676" class="number covered">676</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_groups_id_requester&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L677" class="number uncovered">677</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addGroupActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_REQUESTER, $predefined_fields[&#039;_groups_id_requester&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L678" class="number uncovered">678</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_groups_id_requester&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L679" class="number ">679</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L680" class="number covered">680</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_groups_id_observer&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L681" class="number uncovered">681</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addGroupActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_OBSERVER, $predefined_fields[&#039;_groups_id_observer&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L682" class="number uncovered">682</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_groups_id_observer&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L683" class="number ">683</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L684" class="number covered">684</th>

                    <td class="covered" >
                        <pre>      if (isset($predefined_fields[&#039;_groups_id_assign&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L685" class="number uncovered">685</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addGroupActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_ASSIGNED, $predefined_fields[&#039;_groups_id_assign&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L686" class="number uncovered">686</th>

                    <td class="uncovered" >
                        <pre>         unset($predefined_fields[&#039;_groups_id_assign&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L687" class="number ">687</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L688" class="number ">688</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L689" class="number covered">689</th>

                    <td class="covered" >
                        <pre>      $data = array_merge($data, $predefined_fields);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L690" class="number ">690</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L691" class="number ">691</th>

                    <td class="" >
                        <pre>      // Parse data
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L692" class="number ">692</th>

                    <td class="" >
                        <pre>      // TODO: generate instances of all answers of the form and use them for the fullform computation
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L693" class="number ">693</th>

                    <td class="" >
                        <pre>      //       and the computation from a admin-defined target ticket template
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L694" class="number covered">694</th>

                    <td class="covered" >
                        <pre>      $richText = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L695" class="number covered">695</th>

                    <td class="covered" >
                        <pre>      $data[&#039;name&#039;] = $this-&gt;prepareTemplate(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L696" class="number covered">696</th>

                    <td class="covered" >
                        <pre>         $this-&gt;fields[&#039;target_name&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L697" class="number ">697</th>

                    <td class="" >
                        <pre>         $formanswer,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L698" class="number covered">698</th>

                    <td class="covered" >
                        <pre>         false</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L699" class="number ">699</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L700" class="number covered">700</th>

                    <td class="covered" >
                        <pre>      $data[&#039;name&#039;] = Toolbox::addslashes_deep($data[&#039;name&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L701" class="number covered">701</th>

                    <td class="covered" >
                        <pre>      $data[&#039;name&#039;] = $formanswer-&gt;parseTags($data[&#039;name&#039;], $this);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L702" class="number ">702</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L703" class="number covered">703</th>

                    <td class="covered" >
                        <pre>      $data[&#039;content&#039;] = $this-&gt;prepareTemplate(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L704" class="number covered">704</th>

                    <td class="covered" >
                        <pre>         $this-&gt;fields[&#039;content&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L705" class="number ">705</th>

                    <td class="" >
                        <pre>         $formanswer,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L706" class="number ">706</th>

                    <td class="" >
                        <pre>         $richText
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L707" class="number ">707</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L708" class="number ">708</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L709" class="number covered">709</th>

                    <td class="covered" >
                        <pre>      $data[&#039;content&#039;] = Toolbox::addslashes_deep($data[&#039;content&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L710" class="number covered">710</th>

                    <td class="covered" >
                        <pre>      $data[&#039;content&#039;] = $formanswer-&gt;parseTags($data[&#039;content&#039;], $this, $richText);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L711" class="number ">711</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L712" class="number covered">712</th>

                    <td class="covered" >
                        <pre>      $data[&#039;_tickettemplates_id&#039;] = $this-&gt;fields[&#039;tickettemplates_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L713" class="number ">713</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L714" class="number covered">714</th>

                    <td class="covered" >
                        <pre>      $this-&gt;prepareActors($form, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L715" class="number ">715</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L716" class="number covered">716</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;requesters[&#039;_users_id_requester&#039;]) == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L717" class="number uncovered">717</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;addActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_REQUESTER, $formanswer-&gt;fields[&#039;requester_id&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L718" class="number uncovered">718</th>

                    <td class="uncovered" >
                        <pre>         $requesters_id = $formanswer-&gt;fields[&#039;requester_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L719" class="number covered">719</th>

                    <td class="covered" >
                        <pre>      } else if (count($this-&gt;requesters[&#039;_users_id_requester&#039;]) &gt;= 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L720" class="number covered">720</th>

                    <td class="covered" >
                        <pre>         if ($this-&gt;requesters[&#039;_users_id_requester&#039;][0] == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L721" class="number uncovered">721</th>

                    <td class="uncovered" >
                        <pre>            $this-&gt;addActor(PluginFormcreatorTarget_Actor::ACTOR_ROLE_REQUESTER, $formanswer-&gt;fields[&#039;requester_id&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L722" class="number uncovered">722</th>

                    <td class="uncovered" >
                        <pre>            $requesters_id = $formanswer-&gt;fields[&#039;requester_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L723" class="number ">723</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L724" class="number covered">724</th>

                    <td class="covered" >
                        <pre>            $requesters_id = $this-&gt;requesters[&#039;_users_id_requester&#039;][0];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L725" class="number ">725</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L726" class="number ">726</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L727" class="number ">727</th>

                    <td class="" >
                        <pre>         // If only one requester, revert array of requesters into a scalar
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L728" class="number ">728</th>

                    <td class="" >
                        <pre>         // This is needed to process business rule affecting location of a ticket with the location of the user
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L729" class="number covered">729</th>

                    <td class="covered" >
                        <pre>         if (count($this-&gt;requesters[&#039;_users_id_requester&#039;]) == 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L730" class="number covered">730</th>

                    <td class="covered" >
                        <pre>            $this-&gt;requesters[&#039;_users_id_requester&#039;] = array_pop($this-&gt;requesters[&#039;_users_id_requester&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L731" class="number ">731</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L732" class="number ">732</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L733" class="number ">733</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L734" class="number covered">734</th>

                    <td class="covered" >
                        <pre>      $data[&#039;users_id_recipient&#039;] = $formanswer-&gt;fields[&#039;requester_id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L735" class="number covered">735</th>

                    <td class="covered" >
                        <pre>      $data[&#039;users_id_lastupdater&#039;] = Session::getLoginUserID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L736" class="number ">736</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L737" class="number covered">737</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetEntity($data, $formanswer, $requesters_id);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L738" class="number covered">738</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetDueDate($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L739" class="number covered">739</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setSLA($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L740" class="number covered">740</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setOLA($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L741" class="number covered">741</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetUrgency($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L742" class="number covered">742</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetCategory($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L743" class="number covered">743</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetLocation($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L744" class="number covered">744</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetAssociatedItem($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L745" class="number covered">745</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;setTargetType($data, $formanswer);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L746" class="number ">746</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L747" class="number ">747</th>

                    <td class="" >
                        <pre>      // There is always at least one requester
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L748" class="number covered">748</th>

                    <td class="covered" >
                        <pre>      $data = $this-&gt;requesters + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L749" class="number ">749</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L750" class="number ">750</th>

                    <td class="" >
                        <pre>      // Overwrite default actors only if populated
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L751" class="number covered">751</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;observers[&#039;_users_id_observer&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L752" class="number uncovered">752</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;observers + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L753" class="number ">753</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L754" class="number covered">754</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;assigned[&#039;_users_id_assign&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L755" class="number uncovered">755</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;assigned + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L756" class="number ">756</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L757" class="number covered">757</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;assignedSuppliers[&#039;_suppliers_id_assign&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L758" class="number uncovered">758</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;assignedSuppliers + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L759" class="number ">759</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L760" class="number covered">760</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;requesterGroups[&#039;_groups_id_requester&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L761" class="number uncovered">761</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;requesterGroups + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L762" class="number ">762</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L763" class="number covered">763</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;observerGroups[&#039;_groups_id_observer&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L764" class="number uncovered">764</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;observerGroups + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L765" class="number ">765</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L766" class="number covered">766</th>

                    <td class="covered" >
                        <pre>      if (count($this-&gt;assignedGroups[&#039;_groups_id_assign&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L767" class="number uncovered">767</th>

                    <td class="uncovered" >
                        <pre>         $data = $this-&gt;assignedGroups + $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L768" class="number ">768</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L769" class="number ">769</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L770" class="number ">770</th>

                    <td class="" >
                        <pre>      // Create the target ticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L771" class="number covered">771</th>

                    <td class="covered" >
                        <pre>      $data[&#039;_auto_import&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L772" class="number covered">772</th>

                    <td class="covered" >
                        <pre>      if (!$ticketID = $ticket-&gt;add($data)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L773" class="number uncovered">773</th>

                    <td class="uncovered" >
                        <pre>         return null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L774" class="number ">774</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L775" class="number ">775</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L776" class="number covered">776</th>

                    <td class="covered" >
                        <pre>      $this-&gt;saveTags($formanswer, $ticketID);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L777" class="number ">777</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L778" class="number ">778</th>

                    <td class="" >
                        <pre>      // Add link between Ticket and FormAnswer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L779" class="number covered">779</th>

                    <td class="covered" >
                        <pre>      $itemlink = $this-&gt;getItem_Item();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L780" class="number covered">780</th>

                    <td class="covered" >
                        <pre>      $itemlink-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L781" class="number covered">781</th>

                    <td class="covered" >
                        <pre>         &#039;itemtype&#039;   =&gt; PluginFormcreatorFormAnswer::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L782" class="number covered">782</th>

                    <td class="covered" >
                        <pre>         &#039;items_id&#039;   =&gt; $formanswer-&gt;fields[&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L783" class="number covered">783</th>

                    <td class="covered" >
                        <pre>         &#039;tickets_id&#039; =&gt; $ticketID,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L784" class="number ">784</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L785" class="number ">785</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L786" class="number covered">786</th>

                    <td class="covered" >
                        <pre>      $this-&gt;attachDocument($formanswer-&gt;getID(), Ticket::class, $ticketID);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L787" class="number ">787</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L788" class="number ">788</th>

                    <td class="" >
                        <pre>      // Attach validation message as first ticket followup if validation is required and
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L789" class="number ">789</th>

                    <td class="" >
                        <pre>      // if is set in ticket target configuration
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L790" class="number covered">790</th>

                    <td class="covered" >
                        <pre>      if ($form-&gt;fields[&#039;validation_required&#039;] &amp;&amp; $this-&gt;fields[&#039;validation_followup&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L791" class="number uncovered">791</th>

                    <td class="uncovered" >
                        <pre>         $message = addslashes(__(&#039;Your form has been accepted by the validator&#039;, &#039;formcreator&#039;));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L792" class="number uncovered">792</th>

                    <td class="uncovered" >
                        <pre>         if (!empty($formanswer-&gt;fields[&#039;comment&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L793" class="number uncovered">793</th>

                    <td class="uncovered" >
                        <pre>            $message.= &quot;\n&quot;.addslashes($formanswer-&gt;fields[&#039;comment&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L794" class="number ">794</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L795" class="number ">795</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L796" class="number ">796</th>

                    <td class="" >
                        <pre>         // Disable email notification when adding a followup
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L797" class="number uncovered">797</th>

                    <td class="uncovered" >
                        <pre>         $use_mailing = PluginFormcreatorCommon::isNotificationEnabled();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L798" class="number uncovered">798</th>

                    <td class="uncovered" >
                        <pre>         PluginFormcreatorCommon::setNotification(false);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L799" class="number ">799</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L800" class="number ">800</th>

                    <td class="" >
                        <pre>         $followUpInput = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L801" class="number uncovered">801</th>

                    <td class="uncovered" >
                        <pre>           &#039;date&#039;                            =&gt; $_SESSION[&#039;glpi_currenttime&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L802" class="number uncovered">802</th>

                    <td class="uncovered" >
                        <pre>           &#039;users_id&#039;                        =&gt; Session::getLoginUserID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L803" class="number uncovered">803</th>

                    <td class="uncovered" >
                        <pre>           &#039;content&#039;                         =&gt; $message,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L804" class="number ">804</th>

                    <td class="" >
                        <pre>           &#039;_do_not_compute_takeintoaccount&#039; =&gt; true
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L805" class="number ">805</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L806" class="number ">806</th>

                    <td class="" >
                        <pre>         // GLPI 9.4+
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L807" class="number ">807</th>

                    <td class="" >
                        <pre>         $followUpInput += [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L808" class="number uncovered">808</th>

                    <td class="uncovered" >
                        <pre>            &#039;items_id&#039; =&gt; $ticketID,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L809" class="number ">809</th>

                    <td class="" >
                        <pre>            &#039;itemtype&#039; =&gt; Ticket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L810" class="number ">810</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L811" class="number uncovered">811</th>

                    <td class="uncovered" >
                        <pre>         $ticketFollowup = new ITILFollowup();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L812" class="number uncovered">812</th>

                    <td class="uncovered" >
                        <pre>         $ticketFollowup-&gt;add($followUpInput);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L813" class="number ">813</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L814" class="number ">814</th>

                    <td class="" >
                        <pre>         // Restore mail notification setting
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L815" class="number uncovered">815</th>

                    <td class="uncovered" >
                        <pre>         PluginFormcreatorCommon::setNotification($use_mailing);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L816" class="number ">816</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L817" class="number ">817</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L818" class="number covered">818</th>

                    <td class="covered" >
                        <pre>      return $ticket;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L819" class="number unreach">819</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L820" class="number ">820</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="setTargetLocation">
                    <th id="L821" class="number ">821</th>

                    <td class="" id="setTargetLocation">
                        <pre>   protected function setTargetLocation($data, $formanswer) {<span class="label label-warning">39%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L822" class="number covered">822</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L823" class="number ">823</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L824" class="number covered">824</th>

                    <td class="covered" >
                        <pre>      switch ($this-&gt;fields[&#039;location_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L825" class="number covered">825</th>

                    <td class="covered" >
                        <pre>         case self::LOCATION_RULE_ANSWER:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L826" class="number uncovered">826</th>

                    <td class="uncovered" >
                        <pre>            $location = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L827" class="number uncovered">827</th>

                    <td class="uncovered" >
                        <pre>               &#039;SELECT&#039; =&gt; [&#039;answer&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L828" class="number uncovered">828</th>

                    <td class="uncovered" >
                        <pre>               &#039;FROM&#039;   =&gt; PluginFormcreatorAnswer::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L829" class="number ">829</th>

                    <td class="" >
                        <pre>               &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L830" class="number uncovered">830</th>

                    <td class="uncovered" >
                        <pre>                  &#039;plugin_formcreator_formanswers_id&#039; =&gt; $formanswer-&gt;fields[&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L831" class="number uncovered">831</th>

                    <td class="uncovered" >
                        <pre>                  &#039;plugin_formcreator_questions_id&#039;   =&gt; $this-&gt;fields[&#039;location_question&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L832" class="number ">832</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L833" class="number uncovered">833</th>

                    <td class="uncovered" >
                        <pre>            ])-&gt;next();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L834" class="number uncovered">834</th>

                    <td class="uncovered" >
                        <pre>            $location = $location[&#039;answer&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L835" class="number uncovered">835</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L836" class="number covered">836</th>

                    <td class="covered" >
                        <pre>         case self::LOCATION_RULE_SPECIFIC:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L837" class="number uncovered">837</th>

                    <td class="uncovered" >
                        <pre>            $location = $this-&gt;fields[&#039;location_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L838" class="number uncovered">838</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L839" class="number ">839</th>

                    <td class="" >
                        <pre>         default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L840" class="number covered">840</th>

                    <td class="covered" >
                        <pre>            $location = null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L841" class="number ">841</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L842" class="number covered">842</th>

                    <td class="covered" >
                        <pre>      if (!is_null($location)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L843" class="number uncovered">843</th>

                    <td class="uncovered" >
                        <pre>         $data[&#039;locations_id&#039;] = $location;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L844" class="number ">844</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L845" class="number ">845</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L846" class="number covered">846</th>

                    <td class="covered" >
                        <pre>      return $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L847" class="number unreach">847</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L848" class="number ">848</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="setTargetType">
                    <th id="L849" class="number ">849</th>

                    <td class="" id="setTargetType">
                        <pre>   protected function setTargetType($data, $formanswer) {<span class="label label-success">94%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L850" class="number covered">850</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L851" class="number ">851</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L852" class="number covered">852</th>

                    <td class="covered" >
                        <pre>      $type = null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L853" class="number covered">853</th>

                    <td class="covered" >
                        <pre>      switch ($this-&gt;fields[&#039;type_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L854" class="number ">854</th>

                    <td class="" >
                        <pre>         case self::REQUESTTYPE_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L855" class="number covered">855</th>

                    <td class="covered" >
                        <pre>            $type = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L856" class="number covered">856</th>

                    <td class="covered" >
                        <pre>               &#039;SELECT&#039; =&gt; [&#039;answer&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L857" class="number covered">857</th>

                    <td class="covered" >
                        <pre>               &#039;FROM&#039;   =&gt; PluginFormcreatorAnswer::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L858" class="number ">858</th>

                    <td class="" >
                        <pre>               &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L859" class="number covered">859</th>

                    <td class="covered" >
                        <pre>                  &#039;plugin_formcreator_formanswers_id&#039; =&gt; $formanswer-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L860" class="number covered">860</th>

                    <td class="covered" >
                        <pre>                  &#039;plugin_formcreator_questions_id&#039;   =&gt; $this-&gt;fields[&#039;type_question&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L861" class="number ">861</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L862" class="number covered">862</th>

                    <td class="covered" >
                        <pre>            ])-&gt;next();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L863" class="number covered">863</th>

                    <td class="covered" >
                        <pre>            $type = $type[&#039;answer&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L864" class="number covered">864</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L865" class="number ">865</th>

                    <td class="" >
                        <pre>         case self::REQUESTTYPE_SPECIFIC:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L866" class="number covered">866</th>

                    <td class="covered" >
                        <pre>            $type = $this-&gt;fields[&#039;type_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L867" class="number covered">867</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L868" class="number ">868</th>

                    <td class="" >
                        <pre>         default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L869" class="number uncovered">869</th>

                    <td class="uncovered" >
                        <pre>            $type = null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L870" class="number ">870</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L871" class="number covered">871</th>

                    <td class="covered" >
                        <pre>      if (!is_null($type)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L872" class="number covered">872</th>

                    <td class="covered" >
                        <pre>         $data[&#039;type&#039;] = $type;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L873" class="number ">873</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L874" class="number ">874</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L875" class="number covered">875</th>

                    <td class="covered" >
                        <pre>      return $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L876" class="number unreach">876</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L877" class="number ">877</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showTypeSettings">
                    <th id="L878" class="number ">878</th>

                    <td class="" id="showTypeSettings">
                        <pre>   protected  function showTypeSettings($rand) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L879" class="number uncovered">879</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L880" class="number uncovered">880</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;15%&quot;&gt;&#039; . __(&#039;Request type&#039;) . &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L881" class="number uncovered">881</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;25%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L882" class="number uncovered">882</th>

                    <td class="uncovered" >
                        <pre>      Dropdown::showFromArray(&#039;type_rule&#039;, static::getEnumRequestTypeRule(), [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L883" class="number uncovered">883</th>

                    <td class="uncovered" >
                        <pre>            &#039;value&#039; =&gt; $this-&gt;fields[&#039;type_rule&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L884" class="number uncovered">884</th>

                    <td class="uncovered" >
                        <pre>            &#039;rand&#039; =&gt; $rand,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L885" class="number uncovered">885</th>

                    <td class="uncovered" >
                        <pre>            &#039;on_change&#039; =&gt; &quot;plugin_formcreator_changeRequestType($rand)&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L886" class="number ">886</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L887" class="number ">887</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L888" class="number uncovered">888</th>

                    <td class="uncovered" >
                        <pre>      echo Html::scriptBlock(&quot;plugin_formcreator_changeRequestType($rand);&quot;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L889" class="number uncovered">889</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L890" class="number uncovered">890</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;15%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L891" class="number uncovered">891</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;requesttype_question_title&quot; style=&quot;display: none&quot;&gt;&#039; . __(&#039;Question&#039;, &#039;formcreator&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L892" class="number uncovered">892</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;requesttype_specific_title&quot; style=&quot;display: none&quot;&gt;&#039; . __(&#039;Type &#039;, &#039;formcreator&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L893" class="number uncovered">893</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L894" class="number uncovered">894</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;25%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L895" class="number uncovered">895</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div id=&quot;requesttype_specific_value&quot; style=&quot;display: none&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L896" class="number uncovered">896</th>

                    <td class="uncovered" >
                        <pre>      Ticket::dropdownType(&#039;_type_specific&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L897" class="number ">897</th>

                    <td class="" >
                        <pre>         [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L898" class="number uncovered">898</th>

                    <td class="uncovered" >
                        <pre>            &#039;value&#039;   =&gt; $this-&gt;fields[&#039;type_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L899" class="number ">899</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L900" class="number ">900</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L901" class="number uncovered">901</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L902" class="number uncovered">902</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div id=&quot;requesttype_question_value&quot; style=&quot;display: none&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L903" class="number uncovered">903</th>

                    <td class="uncovered" >
                        <pre>      PluginFormcreatorQuestion::dropdownForForm(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L904" class="number uncovered">904</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;getForm()-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L905" class="number ">905</th>

                    <td class="" >
                        <pre>         [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L906" class="number uncovered">906</th>

                    <td class="uncovered" >
                        <pre>            &#039;fieldtype&#039; =&gt; [&#039;requesttype&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L907" class="number ">907</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L908" class="number uncovered">908</th>

                    <td class="uncovered" >
                        <pre>         &#039;_type_question&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L909" class="number ">909</th>

                    <td class="" >
                        <pre>         [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L910" class="number uncovered">910</th>

                    <td class="uncovered" >
                        <pre>            &#039;value&#039; =&gt; $this-&gt;fields[&#039;type_question&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L911" class="number ">911</th>

                    <td class="" >
                        <pre>         ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L912" class="number ">912</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L913" class="number uncovered">913</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L914" class="number uncovered">914</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L915" class="number uncovered">915</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L916" class="number uncovered">916</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L917" class="number ">917</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showAssociateSettings">
                    <th id="L918" class="number ">918</th>

                    <td class="" id="showAssociateSettings">
                        <pre>   protected function showAssociateSettings($rand) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L919" class="number uncovered">919</th>

                    <td class="uncovered" >
                        <pre>      global $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L920" class="number ">920</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L921" class="number uncovered">921</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L922" class="number uncovered">922</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;15%&quot;&gt;&#039; . __(&#039;Associated elements&#039;) . &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L923" class="number uncovered">923</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;45%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L924" class="number uncovered">924</th>

                    <td class="uncovered" >
                        <pre>      Dropdown::showFromArray(&#039;associate_rule&#039;, static::getEnumAssociateRule(), [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L925" class="number uncovered">925</th>

                    <td class="uncovered" >
                        <pre>         &#039;value&#039;                 =&gt; $this-&gt;fields[&#039;associate_rule&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L926" class="number uncovered">926</th>

                    <td class="uncovered" >
                        <pre>         &#039;on_change&#039;             =&gt; &quot;plugin_formcreator_change_associate($rand)&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L927" class="number uncovered">927</th>

                    <td class="uncovered" >
                        <pre>         &#039;rand&#039;                  =&gt; $rand</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L928" class="number ">928</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L929" class="number uncovered">929</th>

                    <td class="uncovered" >
                        <pre>      echo Html::scriptBlock(&quot;plugin_formcreator_change_associate($rand)&quot;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L930" class="number uncovered">930</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L931" class="number uncovered">931</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;15%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L932" class="number uncovered">932</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;plugin_formcreator_associate_question_title&quot; style=&quot;display: none&quot;&gt;&#039; . __(&#039;Question&#039;, &#039;formcreator&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L933" class="number uncovered">933</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;span id=&quot;plugin_formcreator_associate_specific_title&quot; style=&quot;display: none&quot;&gt;&#039; . __(&#039;Item &#039;, &#039;formcreator&#039;) . &#039;&lt;/span&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L934" class="number uncovered">934</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L935" class="number uncovered">935</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;td width=&quot;25%&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L936" class="number ">936</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L937" class="number uncovered">937</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div id=&quot;plugin_formcreator_associate_specific_value&quot; style=&quot;display: none&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L938" class="number uncovered">938</th>

                    <td class="uncovered" >
                        <pre>      $options = json_decode($this-&gt;fields[&#039;associate_question&#039;], true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L939" class="number uncovered">939</th>

                    <td class="uncovered" >
                        <pre>      if (!is_array($options)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L940" class="number uncovered">940</th>

                    <td class="uncovered" >
                        <pre>         $options = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L941" class="number ">941</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L942" class="number uncovered">942</th>

                    <td class="uncovered" >
                        <pre>      $options[&#039;_canupdate&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L943" class="number uncovered">943</th>

                    <td class="uncovered" >
                        <pre>      $itemTargetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L944" class="number uncovered">944</th>

                    <td class="uncovered" >
                        <pre>      $rows = $itemTargetTicket-&gt;find([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L945" class="number uncovered">945</th>

                    <td class="uncovered" >
                        <pre>         self::getForeignKeyField() =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L946" class="number ">946</th>

                    <td class="" >
                        <pre>         [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L947" class="number ">947</th>

                    <td class="" >
                        <pre>            &#039;NOT&#039; =&gt; [&#039;itemtype&#039; =&gt; [PluginFormcreatorTargetTicket::class, Ticket::class]],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L948" class="number ">948</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L949" class="number ">949</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L950" class="number uncovered">950</th>

                    <td class="uncovered" >
                        <pre>      foreach ($rows as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L951" class="number uncovered">951</th>

                    <td class="uncovered" >
                        <pre>         $options[&#039;items_id&#039;][$row[&#039;itemtype&#039;]][$row[&#039;id&#039;]] = $row[&#039;id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L952" class="number ">952</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L953" class="number uncovered">953</th>

                    <td class="uncovered" >
                        <pre>      Item_Ticket::itemAddForm(new Ticket(), $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L954" class="number uncovered">954</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L955" class="number uncovered">955</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;div id=&quot;plugin_formcreator_associate_question_value&quot; style=&quot;display: none&quot;&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L956" class="number ">956</th>

                    <td class="" >
                        <pre>      // select all user questions (GLPI Object)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L957" class="number uncovered">957</th>

                    <td class="uncovered" >
                        <pre>      PluginFormcreatorQuestion::dropdownForForm(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L958" class="number uncovered">958</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;getForm()-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L959" class="number ">959</th>

                    <td class="" >
                        <pre>         [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L960" class="number uncovered">960</th>

                    <td class="uncovered" >
                        <pre>            &#039;fieldtype&#039; =&gt; &#039;glpiselect&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L961" class="number uncovered">961</th>

                    <td class="uncovered" >
                        <pre>            &#039;values&#039; =&gt; $CFG_GLPI[&#039;ticket_types&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L962" class="number ">962</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L963" class="number uncovered">963</th>

                    <td class="uncovered" >
                        <pre>         &#039;_associate_question&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L964" class="number uncovered">964</th>

                    <td class="uncovered" >
                        <pre>         $this-&gt;fields[&#039;associate_question&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L965" class="number ">965</th>

                    <td class="" >
                        <pre>      );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L966" class="number uncovered">966</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/div&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L967" class="number uncovered">967</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/td&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L968" class="number uncovered">968</th>

                    <td class="uncovered" >
                        <pre>      echo &#039;&lt;/tr&gt;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L969" class="number uncovered">969</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L970" class="number ">970</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="setTargetAssociatedItem">
                    <th id="L971" class="number ">971</th>

                    <td class="" id="setTargetAssociatedItem">
                        <pre>   protected function setTargetAssociatedItem($data, $formanswer) {<span class="label label-success">82%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L972" class="number covered">972</th>

                    <td class="covered" >
                        <pre>      global $DB, $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L973" class="number ">973</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L974" class="number covered">974</th>

                    <td class="covered" >
                        <pre>      switch ($this-&gt;fields[&#039;associate_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L975" class="number ">975</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L976" class="number ">976</th>

                    <td class="" >
                        <pre>            // find the itemtype of the associated item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L977" class="number covered">977</th>

                    <td class="covered" >
                        <pre>            $associateQuestion = $this-&gt;fields[&#039;associate_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L978" class="number covered">978</th>

                    <td class="covered" >
                        <pre>            $question = new PluginFormcreatorQuestion();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L979" class="number covered">979</th>

                    <td class="covered" >
                        <pre>            $question-&gt;getFromDB($associateQuestion);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L980" class="number covered">980</th>

                    <td class="covered" >
                        <pre>            $itemtype = $question-&gt;fields[&#039;values&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L981" class="number ">981</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L982" class="number ">982</th>

                    <td class="" >
                        <pre>            // find the id of the associated item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L983" class="number covered">983</th>

                    <td class="covered" >
                        <pre>            $item = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L984" class="number covered">984</th>

                    <td class="covered" >
                        <pre>               &#039;SELECT&#039; =&gt; [&#039;answer&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L985" class="number covered">985</th>

                    <td class="covered" >
                        <pre>               &#039;FROM&#039;   =&gt; PluginFormcreatorAnswer::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L986" class="number ">986</th>

                    <td class="" >
                        <pre>               &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L987" class="number covered">987</th>

                    <td class="covered" >
                        <pre>                  &#039;plugin_formcreator_formanswers_id&#039; =&gt; $formanswer-&gt;fields[&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L988" class="number covered">988</th>

                    <td class="covered" >
                        <pre>                  &#039;plugin_formcreator_questions_id&#039;   =&gt; $associateQuestion</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L989" class="number ">989</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L990" class="number covered">990</th>

                    <td class="covered" >
                        <pre>            ])-&gt;next();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L991" class="number covered">991</th>

                    <td class="covered" >
                        <pre>            $itemId = $item[&#039;answer&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L992" class="number ">992</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L993" class="number ">993</th>

                    <td class="" >
                        <pre>            // associate the item if it exists
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L994" class="number covered">994</th>

                    <td class="covered" >
                        <pre>            if (!class_exists($itemtype)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L995" class="number uncovered">995</th>

                    <td class="uncovered" >
                        <pre>               return $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L996" class="number ">996</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L997" class="number covered">997</th>

                    <td class="covered" >
                        <pre>            $item = new $itemtype();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L998" class="number covered">998</th>

                    <td class="covered" >
                        <pre>            if ($item-&gt;getFromDB($itemId)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L999" class="number covered">999</th>

                    <td class="covered" >
                        <pre>               $data[&#039;items_id&#039;] = [$itemtype =&gt; [$itemId =&gt; $itemId]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1000" class="number ">1000</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1001" class="number covered">1001</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1002" class="number ">1002</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1003" class="number ">1003</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_SPECIFIC:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1004" class="number uncovered">1004</th>

                    <td class="uncovered" >
                        <pre>            $itemTargetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1005" class="number uncovered">1005</th>

                    <td class="uncovered" >
                        <pre>            $rows = $itemTargetTicket-&gt;find([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1006" class="number uncovered">1006</th>

                    <td class="uncovered" >
                        <pre>               self::getForeignKeyField() =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1007" class="number ">1007</th>

                    <td class="" >
                        <pre>               [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1008" class="number ">1008</th>

                    <td class="" >
                        <pre>                  &#039;NOT&#039; =&gt; [&#039;itemtype&#039; =&gt; [PluginFormcreatorTargetTicket::class, Ticket::class]],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1009" class="number ">1009</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1010" class="number ">1010</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1011" class="number uncovered">1011</th>

                    <td class="uncovered" >
                        <pre>            foreach ($rows as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1012" class="number uncovered">1012</th>

                    <td class="uncovered" >
                        <pre>               $data[&#039;items_id&#039;] = [$row[&#039;itemtype&#039;] =&gt; [$row[&#039;items_id&#039;] =&gt; $row[&#039;items_id&#039;]]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1013" class="number ">1013</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1014" class="number uncovered">1014</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1015" class="number ">1015</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1016" class="number ">1016</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_LAST_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1017" class="number covered">1017</th>

                    <td class="covered" >
                        <pre>            $form_id = $formanswer-&gt;fields[&#039;id&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1018" class="number ">1018</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1019" class="number ">1019</th>

                    <td class="" >
                        <pre>            // Get all answers for glpiselect questions of this form, ordered
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1020" class="number ">1020</th>

                    <td class="" >
                        <pre>            // from last to first displayed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1021" class="number covered">1021</th>

                    <td class="covered" >
                        <pre>            $answers = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1022" class="number covered">1022</th>

                    <td class="covered" >
                        <pre>               &#039;SELECT&#039; =&gt; [&#039;answer.answer&#039;, &#039;question.values&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1023" class="number covered">1023</th>

                    <td class="covered" >
                        <pre>               &#039;FROM&#039; =&gt; PluginFormcreatorAnswer::getTable() . &#039; AS answer&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1024" class="number ">1024</th>

                    <td class="" >
                        <pre>               &#039;JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1025" class="number covered">1025</th>

                    <td class="covered" >
                        <pre>                  PluginFormcreatorQuestion::getTable() . &#039; AS question&#039; =&gt; [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1026" class="number ">1026</th>

                    <td class="" >
                        <pre>                     &#039;ON&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1027" class="number ">1027</th>

                    <td class="" >
                        <pre>                        &#039;answer&#039; =&gt; &#039;plugin_formcreator_questions_id&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1028" class="number ">1028</th>

                    <td class="" >
                        <pre>                        &#039;question&#039; =&gt; &#039;id&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1029" class="number ">1029</th>

                    <td class="" >
                        <pre>                     ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1030" class="number ">1030</th>

                    <td class="" >
                        <pre>                  ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1031" class="number ">1031</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1032" class="number ">1032</th>

                    <td class="" >
                        <pre>               &#039;WHERE&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1033" class="number covered">1033</th>

                    <td class="covered" >
                        <pre>                  &#039;answer.plugin_formcreator_formanswers_id&#039; =&gt; $form_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1034" class="number covered">1034</th>

                    <td class="covered" >
                        <pre>                  &#039;question.fieldtype&#039;                       =&gt; &quot;glpiselect&quot;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1035" class="number ">1035</th>

                    <td class="" >
                        <pre>               ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1036" class="number ">1036</th>

                    <td class="" >
                        <pre>               &#039;ORDER&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1037" class="number ">1037</th>

                    <td class="" >
                        <pre>                  &#039;row DESC&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1038" class="number ">1038</th>

                    <td class="" >
                        <pre>                  &#039;col DESC&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1039" class="number ">1039</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1040" class="number ">1040</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1041" class="number ">1041</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1042" class="number covered">1042</th>

                    <td class="covered" >
                        <pre>            foreach ($answers as $answer) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1043" class="number ">1043</th>

                    <td class="" >
                        <pre>               // Skip if the object type is not valid asset type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1044" class="number covered">1044</th>

                    <td class="covered" >
                        <pre>               if (!in_array($answer[&#039;values&#039;], $CFG_GLPI[&quot;asset_types&quot;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1045" class="number covered">1045</th>

                    <td class="covered" >
                        <pre>                  continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1046" class="number ">1046</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1047" class="number ">1047</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1048" class="number ">1048</th>

                    <td class="" >
                        <pre>               // Skip if question was not answered
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1049" class="number covered">1049</th>

                    <td class="covered" >
                        <pre>               if (empty($answer[&#039;answer&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1050" class="number uncovered">1050</th>

                    <td class="uncovered" >
                        <pre>                  continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1051" class="number ">1051</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1052" class="number ">1052</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1053" class="number ">1053</th>

                    <td class="" >
                        <pre>               // Skip if item doesn&#039;t exist in the DB (shouldn&#039;t happen)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1054" class="number covered">1054</th>

                    <td class="covered" >
                        <pre>               $item = new $answer[&#039;values&#039;]();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1055" class="number covered">1055</th>

                    <td class="covered" >
                        <pre>               if (!$item-&gt;getFromDB($answer[&#039;answer&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1056" class="number covered">1056</th>

                    <td class="covered" >
                        <pre>                  continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1057" class="number ">1057</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1058" class="number ">1058</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1059" class="number ">1059</th>

                    <td class="" >
                        <pre>               // Found a valid answer, stop here
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1060" class="number covered">1060</th>

                    <td class="covered" >
                        <pre>               $data[&#039;items_id&#039;] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1061" class="number covered">1061</th>

                    <td class="covered" >
                        <pre>                  $answer[&#039;values&#039;] =&gt; [$answer[&#039;answer&#039;]]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1062" class="number ">1062</th>

                    <td class="" >
                        <pre>               ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1063" class="number covered">1063</th>

                    <td class="covered" >
                        <pre>               break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1064" class="number ">1064</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1065" class="number ">1065</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1066" class="number covered">1066</th>

                    <td class="covered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1067" class="number ">1067</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1068" class="number ">1068</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1069" class="number covered">1069</th>

                    <td class="covered" >
                        <pre>      return $data;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1070" class="number unreach">1070</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1071" class="number ">1071</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="import">
                    <th id="L1072" class="number ">1072</th>

                    <td class="" id="import">
                        <pre>   public static function import(PluginFormcreatorLinker $linker, $input = [], $containerId = 0) {<span class="label label-success">71%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1073" class="number covered">1073</th>

                    <td class="covered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1074" class="number ">1074</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1075" class="number covered">1075</th>

                    <td class="covered" >
                        <pre>      if (!isset($input[&#039;uuid&#039;]) &amp;&amp; !isset($input[&#039;id&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1076" class="number covered">1076</th>

                    <td class="covered" >
                        <pre>         throw new ImportFailureException(sprintf(&#039;UUID or ID is mandatory for %1$s&#039;, static::getTypeName(1)));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1077" class="number ">1077</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1078" class="number ">1078</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1079" class="number covered">1079</th>

                    <td class="covered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1080" class="number covered">1080</th>

                    <td class="covered" >
                        <pre>      $input[$formFk] = $containerId;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1081" class="number covered">1081</th>

                    <td class="covered" >
                        <pre>      $input[&#039;_skip_checks&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1082" class="number covered">1082</th>

                    <td class="covered" >
                        <pre>      $input[&#039;_skip_create_actors&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1083" class="number ">1083</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1084" class="number covered">1084</th>

                    <td class="covered" >
                        <pre>      $item = new self;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1085" class="number ">1085</th>

                    <td class="" >
                        <pre>      // Find an existing target to update, only if an UUID is available
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1086" class="number covered">1086</th>

                    <td class="covered" >
                        <pre>      $itemId = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1087" class="number ">1087</th>

                    <td class="" >
                        <pre>      /** @var string $idKey key to use as ID (id or uuid) */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1088" class="number covered">1088</th>

                    <td class="covered" >
                        <pre>      $idKey = &#039;id&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1089" class="number covered">1089</th>

                    <td class="covered" >
                        <pre>      if (isset($input[&#039;uuid&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1090" class="number covered">1090</th>

                    <td class="covered" >
                        <pre>         $idKey = &#039;uuid&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1091" class="number covered">1091</th>

                    <td class="covered" >
                        <pre>         $itemId = plugin_formcreator_getFromDBByField(</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1092" class="number covered">1092</th>

                    <td class="covered" >
                        <pre>            $item,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1093" class="number covered">1093</th>

                    <td class="covered" >
                        <pre>            &#039;uuid&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1094" class="number covered">1094</th>

                    <td class="covered" >
                        <pre>            $input[&#039;uuid&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1095" class="number ">1095</th>

                    <td class="" >
                        <pre>         );
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1096" class="number ">1096</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1097" class="number ">1097</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1098" class="number ">1098</th>

                    <td class="" >
                        <pre>      // Escape text fields
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1099" class="number covered">1099</th>

                    <td class="covered" >
                        <pre>      foreach ([&#039;target_name&#039;] as $key) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1100" class="number covered">1100</th>

                    <td class="covered" >
                        <pre>         $input[$key] = $DB-&gt;escape($input[$key]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1101" class="number ">1101</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1102" class="number ">1102</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1103" class="number ">1103</th>

                    <td class="" >
                        <pre>      // Assume that all questions are already imported
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1104" class="number ">1104</th>

                    <td class="" >
                        <pre>      // convert question uuid into id
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1105" class="number covered">1105</th>

                    <td class="covered" >
                        <pre>      $questions = $linker-&gt;getObjectsByType(PluginFormcreatorQuestion::class);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1106" class="number covered">1106</th>

                    <td class="covered" >
                        <pre>      if ($questions !== false) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1107" class="number uncovered">1107</th>

                    <td class="uncovered" >
                        <pre>         $taggableFields = $item-&gt;getTaggableFields();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1108" class="number uncovered">1108</th>

                    <td class="uncovered" >
                        <pre>         foreach ($questions as $originalId =&gt; $question) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1109" class="number uncovered">1109</th>

                    <td class="uncovered" >
                        <pre>            $newId = $question-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1110" class="number uncovered">1110</th>

                    <td class="uncovered" >
                        <pre>            foreach ($taggableFields as $field) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1111" class="number uncovered">1111</th>

                    <td class="uncovered" >
                        <pre>               $content = $input[$field];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1112" class="number uncovered">1112</th>

                    <td class="uncovered" >
                        <pre>               $content = str_replace(&quot;##question_$originalId##&quot;, &quot;##question_$newId##&quot;, $content);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1113" class="number uncovered">1113</th>

                    <td class="uncovered" >
                        <pre>               $content = str_replace(&quot;##answer_$originalId##&quot;, &quot;##answer_$newId##&quot;, $content);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1114" class="number uncovered">1114</th>

                    <td class="uncovered" >
                        <pre>               $input[$field] = $content;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1115" class="number ">1115</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1116" class="number ">1116</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1117" class="number ">1117</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1118" class="number ">1118</th>

                    <td class="" >
                        <pre>         // escape text fields
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1119" class="number uncovered">1119</th>

                    <td class="uncovered" >
                        <pre>         foreach ($taggableFields as $key) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1120" class="number uncovered">1120</th>

                    <td class="uncovered" >
                        <pre>            $input[$key] = $DB-&gt;escape($input[$key]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1121" class="number ">1121</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1122" class="number ">1122</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1123" class="number ">1123</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1124" class="number ">1124</th>

                    <td class="" >
                        <pre>      // Update links to other questions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1125" class="number ">1125</th>

                    <td class="" >
                        <pre>      $questionLinks = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1126" class="number covered">1126</th>

                    <td class="covered" >
                        <pre>         &#039;type_rule&#039;      =&gt; [&#039;values&#039; =&gt; self::REQUESTTYPE_ANSWER, &#039;field&#039; =&gt; &#039;type_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1127" class="number covered">1127</th>

                    <td class="covered" >
                        <pre>         &#039;due_date_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::DUE_DATE_RULE_ANSWER, &#039;field&#039; =&gt; &#039;due_date_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1128" class="number covered">1128</th>

                    <td class="covered" >
                        <pre>         &#039;urgency_rule&#039;   =&gt; [&#039;values&#039; =&gt; self::URGENCY_RULE_ANSWER, &#039;field&#039; =&gt; &#039;urgency_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1129" class="number covered">1129</th>

                    <td class="covered" >
                        <pre>         &#039;tag_type&#039;       =&gt; [&#039;values&#039; =&gt; self::TAG_TYPE_QUESTIONS, &#039;field&#039; =&gt; &#039;tag_questions&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1130" class="number covered">1130</th>

                    <td class="covered" >
                        <pre>         &#039;category_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::CATEGORY_RULE_ANSWER, &#039;field&#039; =&gt; &#039;category_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1131" class="number ">1131</th>

                    <td class="" >
                        <pre>         &#039;associate_rule&#039; =&gt; [&#039;values&#039; =&gt; self::ASSOCIATE_RULE_ANSWER, &#039;field&#039; =&gt; &#039;associate_question&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1132" class="number covered">1132</th>

                    <td class="covered" >
                        <pre>         &#039;location_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::LOCATION_RULE_ANSWER, &#039;field&#039; =&gt; &#039;location_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1133" class="number ">1133</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1134" class="number covered">1134</th>

                    <td class="covered" >
                        <pre>      foreach ($questionLinks as $field =&gt; $fieldSetting) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1135" class="number covered">1135</th>

                    <td class="covered" >
                        <pre>         if (!is_array($fieldSetting[&#039;values&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1136" class="number covered">1136</th>

                    <td class="covered" >
                        <pre>            $fieldSetting[&#039;values&#039;] = [$fieldSetting[&#039;values&#039;]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1137" class="number ">1137</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1138" class="number covered">1138</th>

                    <td class="covered" >
                        <pre>         if (!in_array($input[$field], $fieldSetting[&#039;values&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1139" class="number covered">1139</th>

                    <td class="covered" >
                        <pre>            continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1140" class="number ">1140</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1141" class="number ">1141</th>

                    <td class="" >
                        <pre>         /**@var PluginFormcreatorQuestion $question */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1142" class="number uncovered">1142</th>

                    <td class="uncovered" >
                        <pre>         $question = $linker-&gt;getObject($input[$fieldSetting[&#039;field&#039;]], PluginFormcreatorQuestion::class);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1143" class="number uncovered">1143</th>

                    <td class="uncovered" >
                        <pre>         $input[$fieldSetting[&#039;field&#039;]] = $question-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1144" class="number ">1144</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1145" class="number ">1145</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1146" class="number ">1146</th>

                    <td class="" >
                        <pre>      // Add or update
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1147" class="number covered">1147</th>

                    <td class="covered" >
                        <pre>      $originalId = $input[$idKey];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1148" class="number covered">1148</th>

                    <td class="covered" >
                        <pre>      if ($itemId !== false) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1149" class="number uncovered">1149</th>

                    <td class="uncovered" >
                        <pre>         $input[&#039;id&#039;] = $itemId;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1150" class="number uncovered">1150</th>

                    <td class="uncovered" >
                        <pre>         $item-&gt;update($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1151" class="number ">1151</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1152" class="number covered">1152</th>

                    <td class="covered" >
                        <pre>         unset($input[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1153" class="number covered">1153</th>

                    <td class="covered" >
                        <pre>         $itemId = $item-&gt;add($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1154" class="number ">1154</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1155" class="number covered">1155</th>

                    <td class="covered" >
                        <pre>      if ($itemId === false) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1156" class="number uncovered">1156</th>

                    <td class="uncovered" >
                        <pre>         $typeName = strtolower(self::getTypeName());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1157" class="number uncovered">1157</th>

                    <td class="uncovered" >
                        <pre>         throw new ImportFailureException(sprintf(__(&#039;failed to add or update the %1$s %2$s&#039;, &#039;formceator&#039;), $typeName, $input[&#039;name&#039;]));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1158" class="number ">1158</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1159" class="number ">1159</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1160" class="number ">1160</th>

                    <td class="" >
                        <pre>      // add the target to the linker
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1161" class="number covered">1161</th>

                    <td class="covered" >
                        <pre>      $linker-&gt;addObject($originalId, $item);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1162" class="number ">1162</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1163" class="number ">1163</th>

                    <td class="" >
                        <pre>      $subItems = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1164" class="number covered">1164</th>

                    <td class="covered" >
                        <pre>         &#039;_actors&#039;            =&gt; $item-&gt;getItem_Actor()-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1165" class="number ">1165</th>

                    <td class="" >
                        <pre>         &#039;_ticket_relations&#039;  =&gt; PluginFormcreatorItem_TargetTicket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1166" class="number ">1166</th>

                    <td class="" >
                        <pre>         &#039;_conditions&#039;        =&gt; PluginFormcreatorCondition::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1167" class="number ">1167</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1168" class="number covered">1168</th>

                    <td class="covered" >
                        <pre>      $item-&gt;importChildrenObjects($item, $linker, $subItems, $input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1169" class="number ">1169</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1170" class="number covered">1170</th>

                    <td class="covered" >
                        <pre>      return $itemId;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1171" class="number unreach">1171</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1172" class="number ">1172</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTaggableFields">
                    <th id="L1173" class="number ">1173</th>

                    <td class="" id="getTaggableFields">
                        <pre>   protected function getTaggableFields() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1174" class="number ">1174</th>

                    <td class="" >
                        <pre>      return [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1175" class="number covered">1175</th>

                    <td class="covered" >
                        <pre>         &#039;target_name&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1176" class="number ">1176</th>

                    <td class="" >
                        <pre>         &#039;content&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1177" class="number ">1177</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1178" class="number unreach">1178</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1179" class="number ">1179</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1180" class="number ">1180</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1181" class="number ">1181</th>

                    <td class="" >
                        <pre>    * Export in an array all the data of the current instanciated targetticket
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1182" class="number ">1182</th>

                    <td class="" >
                        <pre>    * @return array the array with all data (with sub tables)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1183" class="number ">1183</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="export">
                    <th id="L1184" class="number ">1184</th>

                    <td class="" id="export">
                        <pre>   public function export($remove_uuid = false) {<span class="label label-success">82%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1185" class="number covered">1185</th>

                    <td class="covered" >
                        <pre>      if ($this-&gt;isNewItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1186" class="number covered">1186</th>

                    <td class="covered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1187" class="number ">1187</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1188" class="number ">1188</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1189" class="number covered">1189</th>

                    <td class="covered" >
                        <pre>      $export = $this-&gt;fields;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1190" class="number ">1190</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1191" class="number ">1191</th>

                    <td class="" >
                        <pre>      // remove key and fk
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1192" class="number covered">1192</th>

                    <td class="covered" >
                        <pre>      $formFk = PluginFormcreatorForm::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1193" class="number covered">1193</th>

                    <td class="covered" >
                        <pre>      unset($export[$formFk]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1194" class="number ">1194</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1195" class="number ">1195</th>

                    <td class="" >
                        <pre>      // replace dropdown ids
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1196" class="number covered">1196</th>

                    <td class="covered" >
                        <pre>      $export[&#039;_tickettemplate&#039;] = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1197" class="number covered">1197</th>

                    <td class="covered" >
                        <pre>      if ($export[&#039;tickettemplates_id&#039;] &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1198" class="number uncovered">1198</th>

                    <td class="uncovered" >
                        <pre>         $export[&#039;_tickettemplate&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1199" class="number uncovered">1199</th>

                    <td class="uncovered" >
                        <pre>            = Dropdown::getDropdownName(&#039;glpi_tickettemplates&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1200" class="number uncovered">1200</th>

                    <td class="uncovered" >
                        <pre>                                        $export[&#039;tickettemplates_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1201" class="number ">1201</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1202" class="number covered">1202</th>

                    <td class="covered" >
                        <pre>      unset($export[&#039;tickettemplates_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1203" class="number ">1203</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1204" class="number ">1204</th>

                    <td class="" >
                        <pre>      $subItems = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1205" class="number covered">1205</th>

                    <td class="covered" >
                        <pre>         &#039;_actors&#039;            =&gt; $this-&gt;getItem_Actor()-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1206" class="number ">1206</th>

                    <td class="" >
                        <pre>         &#039;_ticket_relations&#039;  =&gt; PluginFormcreatorItem_TargetTicket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1207" class="number ">1207</th>

                    <td class="" >
                        <pre>         &#039;_conditions&#039;        =&gt; PluginFormcreatorCondition::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1208" class="number ">1208</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1209" class="number covered">1209</th>

                    <td class="covered" >
                        <pre>      $export = $this-&gt;exportChildrenObjects($subItems, $export, $remove_uuid);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1210" class="number ">1210</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1211" class="number ">1211</th>

                    <td class="" >
                        <pre>      // remove ID or UUID
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1212" class="number covered">1212</th>

                    <td class="covered" >
                        <pre>      $idToRemove = &#039;id&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1213" class="number covered">1213</th>

                    <td class="covered" >
                        <pre>      if ($remove_uuid) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1214" class="number covered">1214</th>

                    <td class="covered" >
                        <pre>         $idToRemove = &#039;uuid&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1215" class="number ">1215</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1216" class="number ">1216</th>

                    <td class="" >
                        <pre>         // Convert IDs into UUIDs
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1217" class="number covered">1217</th>

                    <td class="covered" >
                        <pre>         $export = $this-&gt;convertTags($export);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1218" class="number ">1218</th>

                    <td class="" >
                        <pre>         $questionLinks = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1219" class="number covered">1219</th>

                    <td class="covered" >
                        <pre>            &#039;type_rule&#039;      =&gt; [&#039;values&#039; =&gt; self::REQUESTTYPE_ANSWER, &#039;field&#039; =&gt; &#039;type_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1220" class="number covered">1220</th>

                    <td class="covered" >
                        <pre>            &#039;due_date_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::DUE_DATE_RULE_ANSWER, &#039;field&#039; =&gt; &#039;due_date_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1221" class="number covered">1221</th>

                    <td class="covered" >
                        <pre>            &#039;urgency_rule&#039;   =&gt; [&#039;values&#039; =&gt; self::URGENCY_RULE_ANSWER, &#039;field&#039; =&gt; &#039;urgency_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1222" class="number covered">1222</th>

                    <td class="covered" >
                        <pre>            &#039;tag_type&#039;       =&gt; [&#039;values&#039; =&gt; self::TAG_TYPE_QUESTIONS, &#039;field&#039; =&gt; &#039;tag_questions&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1223" class="number covered">1223</th>

                    <td class="covered" >
                        <pre>            &#039;category_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::CATEGORY_RULE_ANSWER, &#039;field&#039; =&gt; &#039;category_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1224" class="number ">1224</th>

                    <td class="" >
                        <pre>            &#039;associate_rule&#039; =&gt; [&#039;values&#039; =&gt; self::ASSOCIATE_RULE_ANSWER, &#039;field&#039; =&gt; &#039;associate_question&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1225" class="number covered">1225</th>

                    <td class="covered" >
                        <pre>            &#039;location_rule&#039;  =&gt; [&#039;values&#039; =&gt; self::LOCATION_RULE_ANSWER, &#039;field&#039; =&gt; &#039;location_question&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1226" class="number ">1226</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1227" class="number covered">1227</th>

                    <td class="covered" >
                        <pre>         foreach ($questionLinks as $field =&gt; $fieldSetting) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1228" class="number covered">1228</th>

                    <td class="covered" >
                        <pre>            if (!is_array($fieldSetting[&#039;values&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1229" class="number covered">1229</th>

                    <td class="covered" >
                        <pre>               $fieldSetting[&#039;values&#039;] = [$fieldSetting[&#039;values&#039;]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1230" class="number ">1230</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1231" class="number covered">1231</th>

                    <td class="covered" >
                        <pre>            if (!in_array($export[$field], $fieldSetting[&#039;values&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1232" class="number covered">1232</th>

                    <td class="covered" >
                        <pre>               continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1233" class="number ">1233</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1234" class="number uncovered">1234</th>

                    <td class="uncovered" >
                        <pre>            $question = new PluginFormcreatorQuestion();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1235" class="number uncovered">1235</th>

                    <td class="uncovered" >
                        <pre>            $question-&gt;getFromDB($export[$fieldSetting[&#039;field&#039;]]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1236" class="number uncovered">1236</th>

                    <td class="uncovered" >
                        <pre>            $export[$fieldSetting[&#039;field&#039;]] = $question-&gt;fields[&#039;uuid&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1237" class="number ">1237</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1238" class="number ">1238</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1239" class="number covered">1239</th>

                    <td class="covered" >
                        <pre>      unset($export[$idToRemove]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1240" class="number ">1240</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1241" class="number covered">1241</th>

                    <td class="covered" >
                        <pre>      return $export;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1242" class="number unreach">1242</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1243" class="number ">1243</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="saveAssociatedItems">
                    <th id="L1244" class="number ">1244</th>

                    <td class="" id="saveAssociatedItems">
                        <pre>   private function saveAssociatedItems($input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1245" class="number uncovered">1245</th>

                    <td class="uncovered" >
                        <pre>      switch ($input[&#039;associate_rule&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1246" class="number ">1246</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1247" class="number ">1247</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_LAST_ANSWER:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1248" class="number uncovered">1248</th>

                    <td class="uncovered" >
                        <pre>            $input[&#039;associate_question&#039;] = $input[&#039;_associate_question&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1249" class="number uncovered">1249</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1250" class="number ">1250</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1251" class="number ">1251</th>

                    <td class="" >
                        <pre>         case self::ASSOCIATE_RULE_SPECIFIC:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1252" class="number uncovered">1252</th>

                    <td class="uncovered" >
                        <pre>            $itemTargetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1253" class="number uncovered">1253</th>

                    <td class="uncovered" >
                        <pre>            $itemTargetTicket-&gt;deleteByCriteria([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1254" class="number ">1254</th>

                    <td class="" >
                        <pre>               &#039;NOT&#039; =&gt; [&#039;itemtype&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1255" class="number uncovered">1255</th>

                    <td class="uncovered" >
                        <pre>                  PluginFormcreatorTargetTicket::class,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1256" class="number ">1256</th>

                    <td class="" >
                        <pre>                  Ticket::class,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1257" class="number ">1257</th>

                    <td class="" >
                        <pre>               ]]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1258" class="number ">1258</th>

                    <td class="" >
                        <pre>            ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1259" class="number uncovered">1259</th>

                    <td class="uncovered" >
                        <pre>            $targetTicketFk = self::getForeignKeyField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1260" class="number uncovered">1260</th>

                    <td class="uncovered" >
                        <pre>            foreach ($input[&#039;items_id&#039;] as $itemtype =&gt; $items) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1261" class="number uncovered">1261</th>

                    <td class="uncovered" >
                        <pre>               foreach ($items as $id) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1262" class="number uncovered">1262</th>

                    <td class="uncovered" >
                        <pre>                  $itemTargetTicket = new PluginFormcreatorItem_TargetTicket();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1263" class="number uncovered">1263</th>

                    <td class="uncovered" >
                        <pre>                  $itemTargetTicket-&gt;add([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1264" class="number uncovered">1264</th>

                    <td class="uncovered" >
                        <pre>                     &#039;itemtype&#039; =&gt; $itemtype,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1265" class="number uncovered">1265</th>

                    <td class="uncovered" >
                        <pre>                     &#039;items_id&#039; =&gt; $id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1266" class="number uncovered">1266</th>

                    <td class="uncovered" >
                        <pre>                     $targetTicketFk =&gt; $this-&gt;getID(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1267" class="number ">1267</th>

                    <td class="" >
                        <pre>                  ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1268" class="number ">1268</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1269" class="number ">1269</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1270" class="number uncovered">1270</th>

                    <td class="uncovered" >
                        <pre>            break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1271" class="number ">1271</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1272" class="number uncovered">1272</th>

                    <td class="uncovered" >
                        <pre>      unset($input[&#039;items_id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1273" class="number uncovered">1273</th>

                    <td class="uncovered" >
                        <pre>      return $input;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1274" class="number unreach">1274</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1275" class="number ">1275</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1276" class="number ">1276</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1277" class="number ">1277</th>

                    <td class="" >
                        <pre>    * get all target tickets for a form
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1278" class="number ">1278</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1279" class="number ">1279</th>

                    <td class="" >
                        <pre>    * @param integer $formId
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1280" class="number ">1280</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1281" class="number ">1281</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTargetTicketsForForm">
                    <th id="L1282" class="number ">1282</th>

                    <td class="" id="getTargetTicketsForForm">
                        <pre>   public function getTargetTicketsForForm($formId) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1283" class="number uncovered">1283</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1284" class="number ">1284</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1285" class="number uncovered">1285</th>

                    <td class="uncovered" >
                        <pre>      $targets = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1286" class="number uncovered">1286</th>

                    <td class="uncovered" >
                        <pre>      $rows = $DB-&gt;request([</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1287" class="number uncovered">1287</th>

                    <td class="uncovered" >
                        <pre>         &#039;SELECT&#039; =&gt; [&#039;id&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1288" class="number uncovered">1288</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039;   =&gt; self::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1289" class="number ">1289</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039;  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1290" class="number uncovered">1290</th>

                    <td class="uncovered" >
                        <pre>            &#039;plugin_formcreator_forms_id&#039; =&gt; $formId</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1291" class="number ">1291</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1292" class="number ">1292</th>

                    <td class="" >
                        <pre>      ]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1293" class="number uncovered">1293</th>

                    <td class="uncovered" >
                        <pre>      foreach ($rows as $row) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1294" class="number uncovered">1294</th>

                    <td class="uncovered" >
                        <pre>         $target = new self();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1295" class="number uncovered">1295</th>

                    <td class="uncovered" >
                        <pre>         $target-&gt;getFromDB($row[&#039;id&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1296" class="number uncovered">1296</th>

                    <td class="uncovered" >
                        <pre>         $targets[$row[&#039;id&#039;]] = $target;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1297" class="number ">1297</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1298" class="number ">1298</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1299" class="number uncovered">1299</th>

                    <td class="uncovered" >
                        <pre>      return $targets;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1300" class="number unreach">1300</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1301" class="number ">1301</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                        </tbody>
        </table>
    </div>
    </div>

    <footer class="row">
        <div class="col-lg-12">
            <small class="pull-right">Powered by <a href="http://atoum.org"><img src="assets/logo.png" alt="atoum"/></a></small>
        </div>
    </footer>
</div>

<script>
    $(function() {
        $('table.sort').tablesorter();
    })
</script>

</body>

</html>
